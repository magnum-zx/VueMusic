(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7acb0261"],{"0196":function(t,e,n){const i=n("58b4"),r=n("bbf0");function s(t){this.mode=r.BYTE,"string"===typeof t&&(t=i(t)),this.data=new Uint8Array(t)}s.getBitsLength=function(t){return 8*t},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)},t.exports=s},"0425":function(t,e){const n="[0-9]+",i="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const s="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+")(?:.|[\r\n]))+";e.KANJI=new RegExp(r,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(s,"g"),e.NUMERIC=new RegExp(n,"g"),e.ALPHANUMERIC=new RegExp(i,"g");const a=new RegExp("^"+r+"$"),o=new RegExp("^"+n+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return a.test(t)},e.testNumeric=function(t){return o.test(t)},e.testAlphanumeric=function(t){return l.test(t)}},"044b":function(t,e,n){"use strict";n("9615")},"04f0":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"album-page"},[e("div",{staticClass:"playlist-info"},[e("Cover",{attrs:{id:t.album.id,"img-url":t._f("resizeImage")(t.album.picUrl,1024),"show-play-button":!0,"always-show-shadow":!0,"click-cover-to-play":!0,"fixed-size":288,type:"album","cover-hover":!1,"play-button-size":18},nativeOn:{contextmenu:function(e){return t.openMenu.apply(null,arguments)}}}),e("div",{staticClass:"info"},[e("div",{staticClass:"title",on:{contextmenu:function(e){return t.openMenu.apply(null,arguments)}}},[t._v(" "+t._s(t.title))]),""!==t.subtitle?e("div",{staticClass:"subtitle",on:{contextmenu:function(e){return t.openMenu.apply(null,arguments)}}},[t._v(t._s(t.subtitle))]):t._e(),e("div",{staticClass:"artist"},[104700!==t.album.artist.id?e("span",[e("span",[t._v(t._s(t._f("formatAlbumType")(t.album.type,t.album))+" by ")]),e("router-link",{attrs:{to:"/artist/"+t.album.artist.id}},[t._v(t._s(t.album.artist.name))])],1):e("span",[t._v("Compilation by Various Artists")])]),e("div",{staticClass:"date-and-count"},[1056768===t.album.mark?e("span",{staticClass:"explicit-symbol"},[e("ExplicitSymbol")],1):t._e(),e("span",{attrs:{title:t._f("formatDate")(t.album.publishTime)}},[t._v(t._s(new Date(t.album.publishTime).getFullYear()))]),e("span",[t._v(" · "+t._s(t.album.size)+" "+t._s(t.$t("common.songs")))]),t._v(", "+t._s(t._f("formatTime")(t.albumTime,"Human"))+" ")]),e("div",{staticClass:"description",on:{click:t.toggleFullDescription}},[t._v(" "+t._s(t.album.description)+" ")]),e("div",{staticClass:"buttons",staticStyle:{"margin-top":"32px"}},[e("ButtonTwoTone",{attrs:{"icon-class":"play"},nativeOn:{click:function(e){return t.playAlbumByID(t.album.id)}}},[t._v(" "+t._s(t.$t("common.play"))+" ")]),e("ButtonTwoTone",{attrs:{"icon-class":t.dynamicDetail.isSub?"heart-solid":"heart","icon-button":!0,"horizontal-padding":0,color:t.dynamicDetail.isSub?"blue":"grey","text-color":t.dynamicDetail.isSub?"#335eea":"","background-color":t.dynamicDetail.isSub?"var(--color-secondary-bg)":""},nativeOn:{click:function(e){return t.likeAlbum.apply(null,arguments)}}}),e("ButtonTwoTone",{attrs:{"icon-class":"more","icon-button":!0,"horizontal-padding":0,color:"grey"},nativeOn:{click:function(e){return t.openMenu.apply(null,arguments)}}})],1)])],1),t.tracksByDisc.length>1?e("div",t._l(t.tracksByDisc,(function(n){return e("div",{key:n.disc},[e("h2",{staticClass:"disc"},[t._v("Disc "+t._s(n.disc))]),e("TrackList",{attrs:{id:t.album.id,tracks:n.tracks,type:"album","album-object":t.album}})],1)})),0):e("div",[e("TrackList",{attrs:{id:t.album.id,tracks:t.tracks,type:"album","album-object":t.album}})],1),e("div",{staticClass:"extra-info"},[e("div",{staticClass:"album-time"}),e("div",{staticClass:"release-date"},[t._v(" "+t._s(t.$t("album.released"))+" "+t._s(t._f("formatDate")(t.album.publishTime,"MMMM D, YYYY"))+" ")]),null!==t.album.company?e("div",{staticClass:"copyright"},[t._v(" © "+t._s(t.album.company)+" ")]):t._e()]),0!==t.filteredMoreAlbums.length?e("div",{staticClass:"more-by"},[e("div",{staticClass:"section-title"},[t._v(" More by "),e("router-link",{attrs:{to:"/artist/"+t.album.artist.id}},[t._v(t._s(t.album.artist.name)+" ")])],1),e("div",[e("CoverRow",{attrs:{type:"album",items:t.filteredMoreAlbums,"sub-text":"albumType+releaseYear"}})],1)]):t._e(),e("Modal",{attrs:{show:t.showFullDescription,close:t.toggleFullDescription,"show-footer":!1,"click-outside-hide":!0,title:t.$t("album.albumDesc")}},[e("p",{staticClass:"description-fulltext"},[t._v(" "+t._s(t.album.description)+" ")])]),e("ContextMenu",{ref:"albumMenu"},[e("div",{staticClass:"item",on:{click:function(e){return t.likeAlbum(!0)}}},[t._v(t._s(t.dynamicDetail.isSub?t.$t("contextMenu.removeFromLibrary"):t.$t("contextMenu.saveToLibrary")))]),e("div",{staticClass:"item"},[t._v(t._s(t.$t("contextMenu.addToPlaylist")))]),e("div",{staticClass:"item",on:{click:function(e){return t.copyUrl(t.album.id)}}},[t._v(t._s(t.$t("contextMenu.copyUrl")))]),e("div",{staticClass:"item",on:{click:function(e){return t.openInBrowser(t.album.id)}}},[t._v(t._s(t.$t("contextMenu.openInBrowser")))])])],1)},r=[],s=n("2f62"),a=n("512b"),o=n("fefb"),l=n("e498"),c=n("fe07"),u=n("cf45"),d=n("323e"),h=n.n(d),p=n("5f87"),f=n("2ef0"),m=n("0c94"),g=n("5e45"),v=n("6825"),y=n("a1a1"),b=n("2726"),w=n("3020"),k=n("714b"),_={name:"Album",components:{Cover:w["a"],ButtonTwoTone:g["a"],TrackList:y["a"],ExplicitSymbol:m["a"],CoverRow:b["a"],Modal:k["a"],ContextMenu:v["a"]},beforeRouteUpdate(t,e,n){this.show=!1,this.loadData(t.params.id),n()},data(){return{show:!1,album:{id:0,picUrl:"",artist:{id:0}},tracks:[],showFullDescription:!1,moreAlbums:[],dynamicDetail:{},subtitle:"",title:""}},computed:{...Object(s["d"])(["player","data"]),albumTime(){let t=0;return this.tracks.map(e=>t+=e.dt),t},filteredMoreAlbums(){let t=this.moreAlbums.filter(t=>t.id!==this.album.id),e=t.filter(t=>"专辑"===t.type),n=t.filter(t=>"EP"===t.type||"EP/Single"===t.type&&t.size>1),i=t.filter(t=>void 0===e.find(e=>e.id===t.id)&&void 0===n.find(e=>e.id===t.id));return 0===e.length?[...e,...n,...i].slice(0,5):[...e,...i].slice(0,5)},tracksByDisc(){if(this.tracks.length<=1)return[];const t=Object(f["toPairs"])(Object(f["groupBy"])(this.tracks,"cd"));return Object(f["sortBy"])(t,t=>t[0]).map(t=>({disc:t[0],tracks:t[1]}))}},created(){this.loadData(this.$route.params.id)},methods:{...Object(s["c"])(["appendTrackToPlayerList"]),...Object(s["b"])(["playFirstTrackOnList","playTrackOnListByID","showToast"]),playAlbumByID(t,e="first"){this.$store.state.player.playAlbumByID(t,e)},likeAlbum(t=!1){Object(p["c"])()?Object(l["c"])({id:this.album.id,t:this.dynamicDetail.isSub?0:1}).then(e=>{200===e.code&&(this.dynamicDetail.isSub=!this.dynamicDetail.isSub,!0===t&&this.showToast(this.dynamicDetail.isSub?"已保存到音乐库":"已从音乐库删除"))}).catch(t=>{this.showToast(""+(t.response.data.message||t))}):this.showToast(c["a"].t("toast.needToLogin"))},formatTitle(){let t=Object(u["h"])(this.album.name),e=Object(u["g"])(t.title);this.title=e.title,""!==t.subtitle&&""!==e.subtitle?this.subtitle=t.subtitle+" · "+e.subtitle:this.subtitle=""===t.subtitle?e.subtitle:t.subtitle},loadData(t){setTimeout(()=>{this.show||h.a.start()},1e3),Object(l["b"])(t).then(t=>{this.album=t.album,this.tracks=t.songs,this.formatTitle(),h.a.done(),this.show=!0;let e=this.tracks.map(t=>t.id);Object(o["c"])(e.join(",")).then(t=>{this.tracks=t.songs}),Object(a["d"])({id:this.album.artist.id,limit:100}).then(t=>{this.moreAlbums=t.hotAlbums})}),Object(l["a"])(t).then(t=>{this.dynamicDetail=t})},toggleFullDescription(){this.showFullDescription=!this.showFullDescription,this.showFullDescription?this.$store.commit("enableScrolling",!1):this.$store.commit("enableScrolling",!0)},openMenu(t){this.$refs.albumMenu.openMenu(t)},copyUrl(t){let e=this.showToast;this.$copyText("https://music.163.com/#/album?id="+t).then((function(){e(c["a"].t("toast.copied"))})).catch(t=>{e(`${c["a"].t("toast.copyFailed")}${t}`)})},openInBrowser(t){const e="https://music.163.com/#/album?id="+t;window.open(e)}}},C=_,T=(n("c798"),n("0c7c")),x=Object(T["a"])(C,i,r,!1,null,"baa332ce",null);e["default"]=x.exports},"06b1":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[e("h1",[e("img",{staticClass:"avatar",attrs:{src:t._f("resizeImage")(t.artist.img1v1Url,1024),loading:"lazy"}}),t._v(t._s(t.artist.name)+"'s Music Videos ")]),e("MvRow",{attrs:{mvs:t.mvs,subtitle:"publishTime"}}),e("div",{staticClass:"load-more"},[e("ButtonTwoTone",{directives:[{name:"show",rawName:"v-show",value:t.hasMore,expression:"hasMore"}],attrs:{color:"grey"},nativeOn:{click:function(e){return t.loadMVs.apply(null,arguments)}}},[t._v(t._s(t.$t("explore.loadMore")))])],1)],1)},r=[],s=(n("14d9"),n("512b")),a=n("323e"),o=n.n(a),l=n("5e45"),c=n("d4e3"),u={name:"ArtistMV",components:{MvRow:c["a"],ButtonTwoTone:l["a"]},beforeRouteUpdate(t,e,n){this.id=t.params.id,this.loadData(),n()},data(){return{id:0,show:!1,hasMore:!0,artist:{},mvs:[]}},created(){this.id=this.$route.params.id,this.loadData()},activated(){this.$route.params.id!==this.id&&(this.id=this.$route.params.id,this.mvs=[],this.artist={},this.show=!1,this.hasMore=!0,this.loadData())},methods:{loadData(){setTimeout(()=>{this.show||o.a.start()},1e3),Object(s["c"])(this.id).then(t=>{this.artist=t.artist}),this.loadMVs()},loadMVs(){Object(s["a"])({id:this.id,limit:100,offset:this.mvs.length}).then(t=>{this.mvs.push(...t.mvs),this.hasMore=t.hasMore,o.a.done(),this.show=!0})}}},d=u,h=(n("c30c"),n("0c7c")),p=Object(h["a"])(d,i,r,!1,null,"792a4a55",null);e["default"]=p.exports},"0851":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"newAlbum"},[e("h1",[t._v(t._s(t.$t("home.newAlbum")))]),e("div",{staticClass:"playlist-row"},[e("div",{staticClass:"playlists"},[e("CoverRow",{attrs:{type:"album",items:t.albums,"sub-text":"artist","show-play-button":!0}})],1)])])},r=[],s=n("e498"),a=n("323e"),o=n.n(a),l=n("2726"),c={components:{CoverRow:l["a"]},data(){return{albums:[]}},created(){Object(s["d"])({area:"EA",limit:100}).then(t=>{this.albums=t.albums,o.a.done()})}},u=c,d=(n("af57"),n("0c7c")),h=Object(d["a"])(u,i,r,!1,null,"445ba948",null);e["default"]=h.exports},"0c94":function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("svg-icon",{style:t.svgStyle,attrs:{"icon-class":"explicit"}})},r=[],s=n("0032"),a={name:"ExplicitSymbol",components:{SvgIcon:s["a"]},props:{size:{type:Number,default:16}},data(){return{svgStyle:{}}},created(){this.svgStyle={height:this.size+"px",width:this.size+"px",position:"relative",left:"-1px"}}},o=a,l=n("0c7c"),c=Object(l["a"])(o,i,r,!1,null,"1e3b68b9",null);e["a"]=c.exports},"0cb2":function(t,e,n){var i=n("e330"),r=n("7b0b"),s=Math.floor,a=i("".charAt),o=i("".replace),l=i("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,i,d,h){var p=n+t.length,f=i.length,m=u;return void 0!==d&&(d=r(d),m=c),o(h,m,(function(r,o){var c;switch(a(o,0)){case"$":return"$";case"&":return t;case"`":return l(e,0,n);case"'":return l(e,p);case"<":c=d[l(o,1,-1)];break;default:var u=+o;if(0===u)return r;if(u>f){var h=s(u/10);return 0===h?r:h<=f?void 0===i[h-1]?a(o,1):i[h-1]+a(o,1):r}c=i[u-1]}return void 0===c?"":c}))}},"10b0":function(t,e,n){"use strict";var i={single_source_shortest_paths:function(t,e,n){var r={},s={};s[e]=0;var a,o,l,c,u,d,h,p,f,m=i.PriorityQueue.make();m.push(e,0);while(!m.empty())for(l in a=m.pop(),o=a.value,c=a.cost,u=t[o]||{},u)u.hasOwnProperty(l)&&(d=u[l],h=c+d,p=s[l],f="undefined"===typeof s[l],(f||p>h)&&(s[l]=h,m.push(l,h),r[l]=o));if("undefined"!==typeof n&&"undefined"===typeof s[n]){var g=["Could not find a path from ",e," to ",n,"."].join("");throw new Error(g)}return r},extract_shortest_path_from_predecessor_list:function(t,e){var n=[],i=e;while(i)n.push(i),t[i],i=t[i];return n.reverse(),n},find_path:function(t,e,n){var r=i.single_source_shortest_paths(t,e,n);return i.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(t){var e,n=i.PriorityQueue,r={};for(e in t=t||{},n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r.queue=[],r.sorter=t.sorter||n.default_sorter,r},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=i},1266:function(t,e,n){},"186d":function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("span",{staticClass:"artist-in-line"},[t._v(" "+t._s(t.computedPrefix)+" "),t._l(t.filteredArtists,(function(n,i){return e("span",{key:i},[0!==n.id?e("router-link",{attrs:{to:"/artist/"+n.id}},[t._v(t._s(n.name))]):e("span",[t._v(t._s(n.name))]),i!==t.filteredArtists.length-1?e("span",{staticClass:"separator"},[t._v(",")]):t._e()],1)}))],2)},r=[],s={name:"ArtistInLine",props:{artists:{type:Array,required:!0},exclude:{type:String,default:""},prefix:{type:String,default:""}},computed:{filteredArtists(){return this.artists.filter(t=>t.name!==this.exclude)},computedPrefix(){return 0!==this.filteredArtists.length?this.prefix:""}}},a=s,o=(n("8ffd"),n("0c7c")),l=Object(o["a"])(a,i,r,!1,null,"b3c008da",null);e["a"]=l.exports},"1b11":function(t,e,n){"use strict";n("41344")},"1c26":function(t,e,n){},"1f60":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mv-page"},[e("div",{staticClass:"current-video"},[e("div",{staticClass:"video"},[e("video",{ref:"videoPlayer",staticClass:"plyr"})]),e("div",{staticClass:"video-info"},[e("div",{staticClass:"title"},[e("router-link",{attrs:{to:"/artist/"+t.mv.data.artistId}},[t._v(t._s(t.mv.data.artistName))]),t._v(" - "+t._s(t.mv.data.name)+" "),e("div",{staticClass:"buttons"},[e("button-icon",{staticClass:"button",nativeOn:{click:function(e){return t.likeMV.apply(null,arguments)}}},[t.mv.subed?e("svg-icon",{attrs:{"icon-class":"heart-solid"}}):e("svg-icon",{attrs:{"icon-class":"heart"}})],1),e("button-icon",{staticClass:"button",nativeOn:{click:function(e){return t.openMenu.apply(null,arguments)}}},[e("svg-icon",{attrs:{"icon-class":"more"}})],1)],1)],1),e("div",{staticClass:"info"},[t._v(" "+t._s(t._f("formatPlayCount")(t.mv.data.playCount))+" Views · "+t._s(t.mv.data.publishTime)+" ")])])]),e("div",{staticClass:"more-video"},[e("div",{staticClass:"section-title"},[t._v(t._s(t.$t("mv.moreVideo")))]),e("MvRow",{attrs:{mvs:t.simiMvs}})],1),e("ContextMenu",{ref:"mvMenu"},[e("div",{staticClass:"item",on:{click:function(e){return t.copyUrl(t.mv.data.id)}}},[t._v(t._s(t.$t("contextMenu.copyUrl")))]),e("div",{staticClass:"item",on:{click:function(e){return t.openInBrowser(t.mv.data.id)}}},[t._v(t._s(t.$t("contextMenu.openInBrowser")))])])],1)},r=[],s=n("b775");function a(t){return Object(s["a"])({url:"/mv/detail",method:"get",params:{mvid:t,timestamp:(new Date).getTime()}})}function o(t){return Object(s["a"])({url:"/mv/url",method:"get",params:t})}function l(t){return Object(s["a"])({url:"/simi/mv",method:"get",params:{mvid:t}})}function c(t){return t.timestamp=(new Date).getTime(),Object(s["a"])({url:"/mv/sub",method:"post",params:t})}var u=n("5f87"),d=n("323e"),h=n.n(d),p=n("fe07"),f=(n("8ac5"),n("4fb8")),m=n.n(f),g=n("2185"),v=n("6825"),y=n("d4e3"),b=n("2f62"),w={name:"mv",components:{MvRow:y["a"],ButtonIcon:g["a"],ContextMenu:v["a"]},beforeRouteUpdate(t,e,n){this.getData(t.params.id),n()},data(){return{mv:{url:"",data:{name:"",artistName:"",playCount:"",publishTime:""}},player:null,simiMvs:[]}},mounted(){let t={settings:["quality"],autoplay:!1,quality:{default:1080,options:[1080,720,480,240]}};"true"===this.$route.query.autoplay&&(t.autoplay=!0),this.player=new m.a(this.$refs.videoPlayer,t),this.player.volume=this.$store.state.player.volume,this.player.on("playing",()=>{this.$store.state.player.pause()}),this.getData(this.$route.params.id),console.log("网易云你这mv音频码率也太糊了吧🙄")},methods:{...Object(b["b"])(["showToast"]),getData(t){a(t).then(e=>{this.mv=e;let n=e.data.brs.map(e=>o({id:t,r:e.br}));Promise.all(n).then(t=>{let e=t.map(t=>({src:t.data.url.replace(/^http:/,"https:"),type:"video/mp4",size:t.data.r}));this.player.source={type:"video",title:this.mv.data.name,sources:e,poster:this.mv.data.cover.replace(/^http:/,"https:")},h.a.done()})}),l(t).then(t=>{this.simiMvs=t.mvs})},likeMV(){Object(u["c"])()?c({mvid:this.mv.data.id,t:this.mv.subed?0:1}).then(t=>{200===t.code&&(this.mv.subed=!this.mv.subed)}):this.showToast(p["a"].t("toast.needToLogin"))},openMenu(t){this.$refs.mvMenu.openMenu(t)},copyUrl(t){let e=this.showToast;this.$copyText("https://music.163.com/#/mv?id="+t).then((function(){e(p["a"].t("toast.copied"))})).catch(t=>{e(`${p["a"].t("toast.copyFailed")}${t}`)})},openInBrowser(t){const e="https://music.163.com/#/mv?id="+t;window.open(e)}}},k=w,_=(n("044b"),n("0c7c")),C=Object(_["a"])(k,i,r,!1,null,"0e540f34",null);e["default"]=C.exports},"21f3":function(t,e,n){"use strict";n("eb2e")},2726:function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cover-row",style:t.rowStyles},t._l(t.items,(function(n){return e("div",{key:n.id,staticClass:"item",class:{artist:"artist"===t.type}},[e("Cover",{attrs:{id:n.id,"img-url":t.getImageUrl(n),type:t.type,"play-button-size":"artist"===t.type?26:t.playButtonSize}}),e("div",{staticClass:"text"},[t.showPlayCount?e("div",{staticClass:"info"},[e("span",{staticClass:"play-count"},[e("svg-icon",{attrs:{"icon-class":"play"}}),t._v(t._s(t._f("formatPlayCount")(n.playCount))+" ")],1)]):t._e(),e("div",{staticClass:"title",style:{fontSize:t.subTextFontSize}},[t.isExplicit(n)?e("span",{staticClass:"explicit-symbol"},[e("ExplicitSymbol")],1):t._e(),t.isPrivacy(n)?e("span",{staticClass:"lock-icon"},[e("svg-icon",{attrs:{"icon-class":"lock"}})],1):t._e(),e("router-link",{attrs:{to:t.getTitleLink(n)}},[t._v(t._s(n.name))])],1),"artist"!==t.type&&"none"!==t.subText?e("div",{staticClass:"info"},[e("span",{domProps:{innerHTML:t._s(t.getSubText(n))}})]):t._e()])],1)})),0)},r=[],s=n("3020"),a=n("0c94"),o={name:"CoverRow",components:{Cover:s["a"],ExplicitSymbol:a["a"]},props:{items:{type:Array,required:!0},type:{type:String,required:!0},subText:{type:String,default:"null"},subTextFontSize:{type:String,default:"16px"},showPlayCount:{type:Boolean,default:!1},columnNumber:{type:Number,default:5},gap:{type:String,default:"44px 24px"},playButtonSize:{type:Number,default:22}},computed:{rowStyles(){return{"grid-template-columns":`repeat(${this.columnNumber}, 1fr)`,gap:this.gap}}},mounted(){console.log(this.items)},methods:{getSubText(t){if("copywriter"===this.subText)return t.copywriter;if("description"===this.subText)return t.description;if("updateFrequency"===this.subText)return t.updateFrequency;if("creator"===this.subText)return"by "+t.creator.nickname;if("releaseYear"===this.subText)return new Date(t.publishTime).getFullYear();if("artist"===this.subText){if(void 0!==t.artist)return`<a href="/#/artist/${t.artist.id}">${t.artist.name}</a>`;if(void 0!==t.artists)return`<a href="/#/artist/${t.artists[0].id}">${t.artists[0].name}</a>`}if("albumType+releaseYear"===this.subText){let e=t.type;return"EP/Single"===t.type?e=1===t.size?"Single":"EP":"Single"===t.type?e="Single":"专辑"===t.type&&(e="Album"),`${e} · ${new Date(t.publishTime).getFullYear()}`}return"appleMusic"===this.subText?"by Apple Music":void 0},isPrivacy(t){return"playlist"===this.type&&10===t.privacy},isExplicit(t){return"album"===this.type&&1056768===t.mark},getTitleLink(t){return`/${this.type}/${t.id}`},getImageUrl(t){var e;if(t.img1v1Url){let e=t.img1v1Url.split("/");if(e=e[e.length-1],"5639395138885805.jpg"===e)return"https://p2.music.126.net/VnZiScyynLG7atLIZ2YPkw==/18686200114669622.jpg?param=512y512"}let n=t.img1v1Url||t.picUrl||t.coverImgUrl;return n=(null===(e=n)||void 0===e?void 0:e.replace("http://","https://"))+"?param=512y512",n}}},l=o,c=(n("34f2"),n("0c7c")),u=Object(c["a"])(l,i,r,!1,null,"49e55168",null);e["a"]=u.exports},2732:function(t,e,n){const i=n("699e");e.mul=function(t,e){const n=new Uint8Array(t.length+e.length-1);for(let r=0;r<t.length;r++)for(let s=0;s<e.length;s++)n[r+s]^=i.mul(t[r],e[s]);return n},e.mod=function(t,e){let n=new Uint8Array(t);while(n.length-e.length>=0){const t=n[0];for(let s=0;s<e.length;s++)n[s]^=i.mul(e[s],t);let r=0;while(r<n.length&&0===n[r])r++;n=n.slice(r)}return n},e.generateECPolynomial=function(t){let n=new Uint8Array([1]);for(let r=0;r<t;r++)n=e.mul(n,new Uint8Array([1,i.exp(r)]));return n}},"27a3":function(t,e){e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},"2aaa":function(t,e,n){"use strict";n("a819")},"2aff":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[t._m(0),e("TrackList",{attrs:{tracks:t.dailyTracks,type:"playlist","dbclick-track-func":"dailyTracks"}})],1)},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"special-playlist"},[e("div",{staticClass:"title gradient"},[t._v(" 每日歌曲推荐 ")]),e("div",{staticClass:"subtitle"},[t._v("根据你的音乐口味生成 · 每天6:00更新")])])}],s=n("2f62"),a=n("323e"),o=n.n(a),l=n("1e9a"),c=n("a1a1"),u={name:"DailyTracks",components:{TrackList:c["a"]},data(){return{show:!1}},computed:{...Object(s["d"])(["player","data","dailyTracks"])},created(){0===this.dailyTracks.length?(setTimeout(()=>{this.show||o.a.start()},1e3),this.loadDailyTracks()):this.show=!0,this.$parent.$refs.main.scrollTo(0,0)},methods:{...Object(s["c"])(["updateDailyTracks"]),loadDailyTracks(){Object(l["d"])().then(t=>{this.updateDailyTracks(t.data.dailySongs),o.a.done(),this.show=!0})}}},d=u,h=(n("9bfc"),n("0c7c")),p=Object(h["a"])(d,i,r,!1,null,"d200706c",null);e["default"]=p.exports},"2b0f":function(t,e,n){},"2d39":function(t,e,n){"use strict";n("ae1d")},"2ef0":function(t,e,n){(function(t,i){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var s,a="4.17.21",o=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",h=500,p="__lodash_placeholder__",f=1,m=2,g=4,v=1,y=2,b=1,w=2,k=4,_=8,C=16,T=32,x=64,A=128,S=256,M=512,P=30,I="...",E=800,L=16,N=1,O=2,D=3,j=1/0,R=9007199254740991,B=17976931348623157e292,$=NaN,F=4294967295,U=F-1,z=F>>>1,q=[["ary",A],["bind",b],["bindKey",w],["curry",_],["curryRight",C],["flip",M],["partial",T],["partialRight",x],["rearg",S]],H="[object Arguments]",V="[object Array]",W="[object AsyncFunction]",K="[object Boolean]",Y="[object Date]",J="[object DOMException]",Q="[object Error]",G="[object Function]",Z="[object GeneratorFunction]",X="[object Map]",tt="[object Number]",et="[object Null]",nt="[object Object]",it="[object Promise]",rt="[object Proxy]",st="[object RegExp]",at="[object Set]",ot="[object String]",lt="[object Symbol]",ct="[object Undefined]",ut="[object WeakMap]",dt="[object WeakSet]",ht="[object ArrayBuffer]",pt="[object DataView]",ft="[object Float32Array]",mt="[object Float64Array]",gt="[object Int8Array]",vt="[object Int16Array]",yt="[object Int32Array]",bt="[object Uint8Array]",wt="[object Uint8ClampedArray]",kt="[object Uint16Array]",_t="[object Uint32Array]",Ct=/\b__p \+= '';/g,Tt=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,At=/&(?:amp|lt|gt|quot|#39);/g,St=/[&<>"']/g,Mt=RegExp(At.source),Pt=RegExp(St.source),It=/<%-([\s\S]+?)%>/g,Et=/<%([\s\S]+?)%>/g,Lt=/<%=([\s\S]+?)%>/g,Nt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ot=/^\w*$/,Dt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jt=/[\\^$.*+?()[\]{}|]/g,Rt=RegExp(jt.source),Bt=/^\s+/,$t=/\s/,Ft=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ut=/\{\n\/\* \[wrapped with (.+)\] \*/,zt=/,? & /,qt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ht=/[()=,{}\[\]\/\s]/,Vt=/\\(\\)?/g,Wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Kt=/\w*$/,Yt=/^[-+]0x[0-9a-f]+$/i,Jt=/^0b[01]+$/i,Qt=/^\[object .+?Constructor\]$/,Gt=/^0o[0-7]+$/i,Zt=/^(?:0|[1-9]\d*)$/,Xt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,te=/($^)/,ee=/['\n\r\u2028\u2029\\]/g,ne="\\ud800-\\udfff",ie="\\u0300-\\u036f",re="\\ufe20-\\ufe2f",se="\\u20d0-\\u20ff",ae=ie+re+se,oe="\\u2700-\\u27bf",le="a-z\\xdf-\\xf6\\xf8-\\xff",ce="\\xac\\xb1\\xd7\\xf7",ue="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",de="\\u2000-\\u206f",he=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="A-Z\\xc0-\\xd6\\xd8-\\xde",fe="\\ufe0e\\ufe0f",me=ce+ue+de+he,ge="['’]",ve="["+ne+"]",ye="["+me+"]",be="["+ae+"]",we="\\d+",ke="["+oe+"]",_e="["+le+"]",Ce="[^"+ne+me+we+oe+le+pe+"]",Te="\\ud83c[\\udffb-\\udfff]",xe="(?:"+be+"|"+Te+")",Ae="[^"+ne+"]",Se="(?:\\ud83c[\\udde6-\\uddff]){2}",Me="[\\ud800-\\udbff][\\udc00-\\udfff]",Pe="["+pe+"]",Ie="\\u200d",Ee="(?:"+_e+"|"+Ce+")",Le="(?:"+Pe+"|"+Ce+")",Ne="(?:"+ge+"(?:d|ll|m|re|s|t|ve))?",Oe="(?:"+ge+"(?:D|LL|M|RE|S|T|VE))?",De=xe+"?",je="["+fe+"]?",Re="(?:"+Ie+"(?:"+[Ae,Se,Me].join("|")+")"+je+De+")*",Be="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$e="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Fe=je+De+Re,Ue="(?:"+[ke,Se,Me].join("|")+")"+Fe,ze="(?:"+[Ae+be+"?",be,Se,Me,ve].join("|")+")",qe=RegExp(ge,"g"),He=RegExp(be,"g"),Ve=RegExp(Te+"(?="+Te+")|"+ze+Fe,"g"),We=RegExp([Pe+"?"+_e+"+"+Ne+"(?="+[ye,Pe,"$"].join("|")+")",Le+"+"+Oe+"(?="+[ye,Pe+Ee,"$"].join("|")+")",Pe+"?"+Ee+"+"+Ne,Pe+"+"+Oe,$e,Be,we,Ue].join("|"),"g"),Ke=RegExp("["+Ie+ne+ae+fe+"]"),Ye=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Je=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qe=-1,Ge={};Ge[ft]=Ge[mt]=Ge[gt]=Ge[vt]=Ge[yt]=Ge[bt]=Ge[wt]=Ge[kt]=Ge[_t]=!0,Ge[H]=Ge[V]=Ge[ht]=Ge[K]=Ge[pt]=Ge[Y]=Ge[Q]=Ge[G]=Ge[X]=Ge[tt]=Ge[nt]=Ge[st]=Ge[at]=Ge[ot]=Ge[ut]=!1;var Ze={};Ze[H]=Ze[V]=Ze[ht]=Ze[pt]=Ze[K]=Ze[Y]=Ze[ft]=Ze[mt]=Ze[gt]=Ze[vt]=Ze[yt]=Ze[X]=Ze[tt]=Ze[nt]=Ze[st]=Ze[at]=Ze[ot]=Ze[lt]=Ze[bt]=Ze[wt]=Ze[kt]=Ze[_t]=!0,Ze[Q]=Ze[G]=Ze[ut]=!1;var Xe={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},tn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},en={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rn=parseFloat,sn=parseInt,an="object"==typeof t&&t&&t.Object===Object&&t,on="object"==typeof self&&self&&self.Object===Object&&self,ln=an||on||Function("return this")(),cn=e&&!e.nodeType&&e,un=cn&&"object"==typeof i&&i&&!i.nodeType&&i,dn=un&&un.exports===cn,hn=dn&&an.process,pn=function(){try{var t=un&&un.require&&un.require("util").types;return t||hn&&hn.binding&&hn.binding("util")}catch(e){}}(),fn=pn&&pn.isArrayBuffer,mn=pn&&pn.isDate,gn=pn&&pn.isMap,vn=pn&&pn.isRegExp,yn=pn&&pn.isSet,bn=pn&&pn.isTypedArray;function wn(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function kn(t,e,n,i){var r=-1,s=null==t?0:t.length;while(++r<s){var a=t[r];e(i,a,n(a),t)}return i}function _n(t,e){var n=-1,i=null==t?0:t.length;while(++n<i)if(!1===e(t[n],n,t))break;return t}function Cn(t,e){var n=null==t?0:t.length;while(n--)if(!1===e(t[n],n,t))break;return t}function Tn(t,e){var n=-1,i=null==t?0:t.length;while(++n<i)if(!e(t[n],n,t))return!1;return!0}function xn(t,e){var n=-1,i=null==t?0:t.length,r=0,s=[];while(++n<i){var a=t[n];e(a,n,t)&&(s[r++]=a)}return s}function An(t,e){var n=null==t?0:t.length;return!!n&&Bn(t,e,0)>-1}function Sn(t,e,n){var i=-1,r=null==t?0:t.length;while(++i<r)if(n(e,t[i]))return!0;return!1}function Mn(t,e){var n=-1,i=null==t?0:t.length,r=Array(i);while(++n<i)r[n]=e(t[n],n,t);return r}function Pn(t,e){var n=-1,i=e.length,r=t.length;while(++n<i)t[r+n]=e[n];return t}function In(t,e,n,i){var r=-1,s=null==t?0:t.length;i&&s&&(n=t[++r]);while(++r<s)n=e(n,t[r],r,t);return n}function En(t,e,n,i){var r=null==t?0:t.length;i&&r&&(n=t[--r]);while(r--)n=e(n,t[r],r,t);return n}function Ln(t,e){var n=-1,i=null==t?0:t.length;while(++n<i)if(e(t[n],n,t))return!0;return!1}var Nn=zn("length");function On(t){return t.split("")}function Dn(t){return t.match(qt)||[]}function jn(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function Rn(t,e,n,i){var r=t.length,s=n+(i?1:-1);while(i?s--:++s<r)if(e(t[s],s,t))return s;return-1}function Bn(t,e,n){return e===e?fi(t,e,n):Rn(t,Fn,n)}function $n(t,e,n,i){var r=n-1,s=t.length;while(++r<s)if(i(t[r],e))return r;return-1}function Fn(t){return t!==t}function Un(t,e){var n=null==t?0:t.length;return n?Wn(t,e)/n:$}function zn(t){return function(e){return null==e?s:e[t]}}function qn(t){return function(e){return null==t?s:t[e]}}function Hn(t,e,n,i,r){return r(t,(function(t,r,s){n=i?(i=!1,t):e(n,t,r,s)})),n}function Vn(t,e){var n=t.length;t.sort(e);while(n--)t[n]=t[n].value;return t}function Wn(t,e){var n,i=-1,r=t.length;while(++i<r){var a=e(t[i]);a!==s&&(n=n===s?a:n+a)}return n}function Kn(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}function Yn(t,e){return Mn(e,(function(e){return[e,t[e]]}))}function Jn(t){return t?t.slice(0,yi(t)+1).replace(Bt,""):t}function Qn(t){return function(e){return t(e)}}function Gn(t,e){return Mn(e,(function(e){return t[e]}))}function Zn(t,e){return t.has(e)}function Xn(t,e){var n=-1,i=t.length;while(++n<i&&Bn(e,t[n],0)>-1);return n}function ti(t,e){var n=t.length;while(n--&&Bn(e,t[n],0)>-1);return n}function ei(t,e){var n=t.length,i=0;while(n--)t[n]===e&&++i;return i}var ni=qn(Xe),ii=qn(tn);function ri(t){return"\\"+nn[t]}function si(t,e){return null==t?s:t[e]}function ai(t){return Ke.test(t)}function oi(t){return Ye.test(t)}function li(t){var e,n=[];while(!(e=t.next()).done)n.push(e.value);return n}function ci(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function ui(t,e){return function(n){return t(e(n))}}function di(t,e){var n=-1,i=t.length,r=0,s=[];while(++n<i){var a=t[n];a!==e&&a!==p||(t[n]=p,s[r++]=n)}return s}function hi(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function pi(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function fi(t,e,n){var i=n-1,r=t.length;while(++i<r)if(t[i]===e)return i;return-1}function mi(t,e,n){var i=n+1;while(i--)if(t[i]===e)return i;return i}function gi(t){return ai(t)?wi(t):Nn(t)}function vi(t){return ai(t)?ki(t):On(t)}function yi(t){var e=t.length;while(e--&&$t.test(t.charAt(e)));return e}var bi=qn(en);function wi(t){var e=Ve.lastIndex=0;while(Ve.test(t))++e;return e}function ki(t){return t.match(Ve)||[]}function _i(t){return t.match(We)||[]}var Ci=function t(e){e=null==e?ln:Ti.defaults(ln.Object(),e,Ti.pick(ln,Je));var n=e.Array,i=e.Date,r=e.Error,$t=e.Function,qt=e.Math,ne=e.Object,ie=e.RegExp,re=e.String,se=e.TypeError,ae=n.prototype,oe=$t.prototype,le=ne.prototype,ce=e["__core-js_shared__"],ue=oe.toString,de=le.hasOwnProperty,he=0,pe=function(){var t=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),fe=le.toString,me=ue.call(ne),ge=ln._,ve=ie("^"+ue.call(de).replace(jt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=dn?e.Buffer:s,be=e.Symbol,we=e.Uint8Array,ke=ye?ye.allocUnsafe:s,_e=ui(ne.getPrototypeOf,ne),Ce=ne.create,Te=le.propertyIsEnumerable,xe=ae.splice,Ae=be?be.isConcatSpreadable:s,Se=be?be.iterator:s,Me=be?be.toStringTag:s,Pe=function(){try{var t=Wa(ne,"defineProperty");return t({},"",{}),t}catch(e){}}(),Ie=e.clearTimeout!==ln.clearTimeout&&e.clearTimeout,Ee=i&&i.now!==ln.Date.now&&i.now,Le=e.setTimeout!==ln.setTimeout&&e.setTimeout,Ne=qt.ceil,Oe=qt.floor,De=ne.getOwnPropertySymbols,je=ye?ye.isBuffer:s,Re=e.isFinite,Be=ae.join,$e=ui(ne.keys,ne),Fe=qt.max,Ue=qt.min,ze=i.now,Ve=e.parseInt,We=qt.random,Ke=ae.reverse,Ye=Wa(e,"DataView"),Xe=Wa(e,"Map"),tn=Wa(e,"Promise"),en=Wa(e,"Set"),nn=Wa(e,"WeakMap"),an=Wa(ne,"create"),on=nn&&new nn,cn={},un=Lo(Ye),hn=Lo(Xe),pn=Lo(tn),Nn=Lo(en),On=Lo(nn),qn=be?be.prototype:s,fi=qn?qn.valueOf:s,wi=qn?qn.toString:s;function ki(t){if(xu(t)&&!lu(t)&&!(t instanceof Si)){if(t instanceof Ai)return t;if(de.call(t,"__wrapped__"))return Oo(t)}return new Ai(t)}var Ci=function(){function t(){}return function(e){if(!Tu(e))return{};if(Ce)return Ce(e);t.prototype=e;var n=new t;return t.prototype=s,n}}();function xi(){}function Ai(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=s}function Si(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function Mi(){var t=new Si(this.__wrapped__);return t.__actions__=ia(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ia(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ia(this.__views__),t}function Pi(){if(this.__filtered__){var t=new Si(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Ii(){var t=this.__wrapped__.value(),e=this.__dir__,n=lu(t),i=e<0,r=n?t.length:0,s=Ga(0,r,this.__views__),a=s.start,o=s.end,l=o-a,c=i?o:a-1,u=this.__iteratees__,d=u.length,h=0,p=Ue(l,this.__takeCount__);if(!n||!i&&r==l&&p==l)return Bs(t,this.__actions__);var f=[];t:while(l--&&h<p){c+=e;var m=-1,g=t[c];while(++m<d){var v=u[m],y=v.iteratee,b=v.type,w=y(g);if(b==O)g=w;else if(!w){if(b==N)continue t;break t}}f[h++]=g}return f}function Ei(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Li(){this.__data__=an?an(null):{},this.size=0}function Ni(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Oi(t){var e=this.__data__;if(an){var n=e[t];return n===d?s:n}return de.call(e,t)?e[t]:s}function Di(t){var e=this.__data__;return an?e[t]!==s:de.call(e,t)}function ji(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=an&&e===s?d:e,this}function Ri(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Bi(){this.__data__=[],this.size=0}function $i(t){var e=this.__data__,n=ur(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():xe.call(e,n,1),--this.size,!0}function Fi(t){var e=this.__data__,n=ur(e,t);return n<0?s:e[n][1]}function Ui(t){return ur(this.__data__,t)>-1}function zi(t,e){var n=this.__data__,i=ur(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function qi(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Hi(){this.size=0,this.__data__={hash:new Ei,map:new(Xe||Ri),string:new Ei}}function Vi(t){var e=Ha(this,t)["delete"](t);return this.size-=e?1:0,e}function Wi(t){return Ha(this,t).get(t)}function Ki(t){return Ha(this,t).has(t)}function Yi(t,e){var n=Ha(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function Ji(t){var e=-1,n=null==t?0:t.length;this.__data__=new qi;while(++e<n)this.add(t[e])}function Qi(t){return this.__data__.set(t,d),this}function Gi(t){return this.__data__.has(t)}function Zi(t){var e=this.__data__=new Ri(t);this.size=e.size}function Xi(){this.__data__=new Ri,this.size=0}function tr(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function er(t){return this.__data__.get(t)}function nr(t){return this.__data__.has(t)}function ir(t,e){var n=this.__data__;if(n instanceof Ri){var i=n.__data__;if(!Xe||i.length<o-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new qi(i)}return n.set(t,e),this.size=n.size,this}function rr(t,e){var n=lu(t),i=!n&&ou(t),r=!n&&!i&&pu(t),s=!n&&!i&&!r&&Fu(t),a=n||i||r||s,o=a?Kn(t.length,re):[],l=o.length;for(var c in t)!e&&!de.call(t,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||so(c,l))||o.push(c);return o}function sr(t){var e=t.length;return e?t[vs(0,e-1)]:s}function ar(t,e){return Po(ia(t),gr(e,0,t.length))}function or(t){return Po(ia(t))}function lr(t,e,n){(n!==s&&!ru(t[e],n)||n===s&&!(e in t))&&fr(t,e,n)}function cr(t,e,n){var i=t[e];de.call(t,e)&&ru(i,n)&&(n!==s||e in t)||fr(t,e,n)}function ur(t,e){var n=t.length;while(n--)if(ru(t[n][0],e))return n;return-1}function dr(t,e,n,i){return _r(t,(function(t,r,s){e(i,t,n(t),s)})),i}function hr(t,e){return t&&ra(e,_d(e),t)}function pr(t,e){return t&&ra(e,Cd(e),t)}function fr(t,e,n){"__proto__"==e&&Pe?Pe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function mr(t,e){var i=-1,r=e.length,a=n(r),o=null==t;while(++i<r)a[i]=o?s:gd(t,e[i]);return a}function gr(t,e,n){return t===t&&(n!==s&&(t=t<=n?t:n),e!==s&&(t=t>=e?t:e)),t}function vr(t,e,n,i,r,a){var o,l=e&f,c=e&m,u=e&g;if(n&&(o=r?n(t,i,r,a):n(t)),o!==s)return o;if(!Tu(t))return t;var d=lu(t);if(d){if(o=to(t),!l)return ia(t,o)}else{var h=Qa(t),p=h==G||h==Z;if(pu(t))return Ks(t,l);if(h==nt||h==H||p&&!r){if(o=c||p?{}:eo(t),!l)return c?aa(t,pr(o,t)):sa(t,hr(o,t))}else{if(!Ze[h])return r?t:{};o=no(t,h,l)}}a||(a=new Zi);var v=a.get(t);if(v)return v;a.set(t,o),Ru(t)?t.forEach((function(i){o.add(vr(i,e,n,i,t,a))})):Au(t)&&t.forEach((function(i,r){o.set(r,vr(i,e,n,r,t,a))}));var y=u?c?$a:Ba:c?Cd:_d,b=d?s:y(t);return _n(b||t,(function(i,r){b&&(r=i,i=t[r]),cr(o,r,vr(i,e,n,r,t,a))})),o}function yr(t){var e=_d(t);return function(n){return br(n,t,e)}}function br(t,e,n){var i=n.length;if(null==t)return!i;t=ne(t);while(i--){var r=n[i],a=e[r],o=t[r];if(o===s&&!(r in t)||!a(o))return!1}return!0}function wr(t,e,n){if("function"!=typeof t)throw new se(c);return xo((function(){t.apply(s,n)}),e)}function kr(t,e,n,i){var r=-1,s=An,a=!0,l=t.length,c=[],u=e.length;if(!l)return c;n&&(e=Mn(e,Qn(n))),i?(s=Sn,a=!1):e.length>=o&&(s=Zn,a=!1,e=new Ji(e));t:while(++r<l){var d=t[r],h=null==n?d:n(d);if(d=i||0!==d?d:0,a&&h===h){var p=u;while(p--)if(e[p]===h)continue t;c.push(d)}else s(e,h,i)||c.push(d)}return c}ki.templateSettings={escape:It,evaluate:Et,interpolate:Lt,variable:"",imports:{_:ki}},ki.prototype=xi.prototype,ki.prototype.constructor=ki,Ai.prototype=Ci(xi.prototype),Ai.prototype.constructor=Ai,Si.prototype=Ci(xi.prototype),Si.prototype.constructor=Si,Ei.prototype.clear=Li,Ei.prototype["delete"]=Ni,Ei.prototype.get=Oi,Ei.prototype.has=Di,Ei.prototype.set=ji,Ri.prototype.clear=Bi,Ri.prototype["delete"]=$i,Ri.prototype.get=Fi,Ri.prototype.has=Ui,Ri.prototype.set=zi,qi.prototype.clear=Hi,qi.prototype["delete"]=Vi,qi.prototype.get=Wi,qi.prototype.has=Ki,qi.prototype.set=Yi,Ji.prototype.add=Ji.prototype.push=Qi,Ji.prototype.has=Gi,Zi.prototype.clear=Xi,Zi.prototype["delete"]=tr,Zi.prototype.get=er,Zi.prototype.has=nr,Zi.prototype.set=ir;var _r=ca(Er),Cr=ca(Lr,!0);function Tr(t,e){var n=!0;return _r(t,(function(t,i,r){return n=!!e(t,i,r),n})),n}function xr(t,e,n){var i=-1,r=t.length;while(++i<r){var a=t[i],o=e(a);if(null!=o&&(l===s?o===o&&!$u(o):n(o,l)))var l=o,c=a}return c}function Ar(t,e,n,i){var r=t.length;n=Yu(n),n<0&&(n=-n>r?0:r+n),i=i===s||i>r?r:Yu(i),i<0&&(i+=r),i=n>i?0:Ju(i);while(n<i)t[n++]=e;return t}function Sr(t,e){var n=[];return _r(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function Mr(t,e,n,i,r){var s=-1,a=t.length;n||(n=ro),r||(r=[]);while(++s<a){var o=t[s];e>0&&n(o)?e>1?Mr(o,e-1,n,i,r):Pn(r,o):i||(r[r.length]=o)}return r}var Pr=ua(),Ir=ua(!0);function Er(t,e){return t&&Pr(t,e,_d)}function Lr(t,e){return t&&Ir(t,e,_d)}function Nr(t,e){return xn(e,(function(e){return ku(t[e])}))}function Or(t,e){e=qs(e,t);var n=0,i=e.length;while(null!=t&&n<i)t=t[Eo(e[n++])];return n&&n==i?t:s}function Dr(t,e,n){var i=e(t);return lu(t)?i:Pn(i,n(t))}function jr(t){return null==t?t===s?ct:et:Me&&Me in ne(t)?Ka(t):bo(t)}function Rr(t,e){return t>e}function Br(t,e){return null!=t&&de.call(t,e)}function $r(t,e){return null!=t&&e in ne(t)}function Fr(t,e,n){return t>=Ue(e,n)&&t<Fe(e,n)}function Ur(t,e,i){var r=i?Sn:An,a=t[0].length,o=t.length,l=o,c=n(o),u=1/0,d=[];while(l--){var h=t[l];l&&e&&(h=Mn(h,Qn(e))),u=Ue(h.length,u),c[l]=!i&&(e||a>=120&&h.length>=120)?new Ji(l&&h):s}h=t[0];var p=-1,f=c[0];t:while(++p<a&&d.length<u){var m=h[p],g=e?e(m):m;if(m=i||0!==m?m:0,!(f?Zn(f,g):r(d,g,i))){l=o;while(--l){var v=c[l];if(!(v?Zn(v,g):r(t[l],g,i)))continue t}f&&f.push(g),d.push(m)}}return d}function zr(t,e,n,i){return Er(t,(function(t,r,s){e(i,n(t),r,s)})),i}function qr(t,e,n){e=qs(e,t),t=ko(t,e);var i=null==t?t:t[Eo(sl(e))];return null==i?s:wn(i,t,n)}function Hr(t){return xu(t)&&jr(t)==H}function Vr(t){return xu(t)&&jr(t)==ht}function Wr(t){return xu(t)&&jr(t)==Y}function Kr(t,e,n,i,r){return t===e||(null==t||null==e||!xu(t)&&!xu(e)?t!==t&&e!==e:Yr(t,e,n,i,Kr,r))}function Yr(t,e,n,i,r,s){var a=lu(t),o=lu(e),l=a?V:Qa(t),c=o?V:Qa(e);l=l==H?nt:l,c=c==H?nt:c;var u=l==nt,d=c==nt,h=l==c;if(h&&pu(t)){if(!pu(e))return!1;a=!0,u=!1}if(h&&!u)return s||(s=new Zi),a||Fu(t)?Oa(t,e,n,i,r,s):Da(t,e,l,n,i,r,s);if(!(n&v)){var p=u&&de.call(t,"__wrapped__"),f=d&&de.call(e,"__wrapped__");if(p||f){var m=p?t.value():t,g=f?e.value():e;return s||(s=new Zi),r(m,g,n,i,s)}}return!!h&&(s||(s=new Zi),ja(t,e,n,i,r,s))}function Jr(t){return xu(t)&&Qa(t)==X}function Qr(t,e,n,i){var r=n.length,a=r,o=!i;if(null==t)return!a;t=ne(t);while(r--){var l=n[r];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}while(++r<a){l=n[r];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===s&&!(c in t))return!1}else{var h=new Zi;if(i)var p=i(u,d,c,t,e,h);if(!(p===s?Kr(d,u,v|y,i,h):p))return!1}}return!0}function Gr(t){if(!Tu(t)||uo(t))return!1;var e=ku(t)?ve:Qt;return e.test(Lo(t))}function Zr(t){return xu(t)&&jr(t)==st}function Xr(t){return xu(t)&&Qa(t)==at}function ts(t){return xu(t)&&Cu(t.length)&&!!Ge[jr(t)]}function es(t){return"function"==typeof t?t:null==t?Ih:"object"==typeof t?lu(t)?os(t[0],t[1]):as(t):qh(t)}function ns(t){if(!po(t))return $e(t);var e=[];for(var n in ne(t))de.call(t,n)&&"constructor"!=n&&e.push(n);return e}function is(t){if(!Tu(t))return yo(t);var e=po(t),n=[];for(var i in t)("constructor"!=i||!e&&de.call(t,i))&&n.push(i);return n}function rs(t,e){return t<e}function ss(t,e){var i=-1,r=uu(t)?n(t.length):[];return _r(t,(function(t,n,s){r[++i]=e(t,n,s)})),r}function as(t){var e=Va(t);return 1==e.length&&e[0][2]?mo(e[0][0],e[0][1]):function(n){return n===t||Qr(n,t,e)}}function os(t,e){return oo(t)&&fo(e)?mo(Eo(t),e):function(n){var i=gd(n,t);return i===s&&i===e?yd(n,t):Kr(e,i,v|y)}}function ls(t,e,n,i,r){t!==e&&Pr(e,(function(a,o){if(r||(r=new Zi),Tu(a))cs(t,e,o,n,ls,i,r);else{var l=i?i(Co(t,o),a,o+"",t,e,r):s;l===s&&(l=a),lr(t,o,l)}}),Cd)}function cs(t,e,n,i,r,a,o){var l=Co(t,n),c=Co(e,n),u=o.get(c);if(u)lr(t,n,u);else{var d=a?a(l,c,n+"",t,e,o):s,h=d===s;if(h){var p=lu(c),f=!p&&pu(c),m=!p&&!f&&Fu(c);d=c,p||f||m?lu(l)?d=l:du(l)?d=ia(l):f?(h=!1,d=Ks(c,!0)):m?(h=!1,d=Zs(c,!0)):d=[]:Ou(c)||ou(c)?(d=l,ou(l)?d=Gu(l):Tu(l)&&!ku(l)||(d=eo(c))):h=!1}h&&(o.set(c,d),r(d,c,i,a,o),o["delete"](c)),lr(t,n,d)}}function us(t,e){var n=t.length;if(n)return e+=e<0?n:0,so(e,n)?t[e]:s}function ds(t,e,n){e=e.length?Mn(e,(function(t){return lu(t)?function(e){return Or(e,1===t.length?t[0]:t)}:t})):[Ih];var i=-1;e=Mn(e,Qn(qa()));var r=ss(t,(function(t,n,r){var s=Mn(e,(function(e){return e(t)}));return{criteria:s,index:++i,value:t}}));return Vn(r,(function(t,e){return ta(t,e,n)}))}function hs(t,e){return ps(t,e,(function(e,n){return yd(t,n)}))}function ps(t,e,n){var i=-1,r=e.length,s={};while(++i<r){var a=e[i],o=Or(t,a);n(o,a)&&Cs(s,qs(a,t),o)}return s}function fs(t){return function(e){return Or(e,t)}}function ms(t,e,n,i){var r=i?$n:Bn,s=-1,a=e.length,o=t;t===e&&(e=ia(e)),n&&(o=Mn(t,Qn(n)));while(++s<a){var l=0,c=e[s],u=n?n(c):c;while((l=r(o,u,l,i))>-1)o!==t&&xe.call(o,l,1),xe.call(t,l,1)}return t}function gs(t,e){var n=t?e.length:0,i=n-1;while(n--){var r=e[n];if(n==i||r!==s){var s=r;so(r)?xe.call(t,r,1):Ds(t,r)}}return t}function vs(t,e){return t+Oe(We()*(e-t+1))}function ys(t,e,i,r){var s=-1,a=Fe(Ne((e-t)/(i||1)),0),o=n(a);while(a--)o[r?a:++s]=t,t+=i;return o}function bs(t,e){var n="";if(!t||e<1||e>R)return n;do{e%2&&(n+=t),e=Oe(e/2),e&&(t+=t)}while(e);return n}function ws(t,e){return Ao(wo(t,e,Ih),t+"")}function ks(t){return sr(Ud(t))}function _s(t,e){var n=Ud(t);return Po(n,gr(e,0,n.length))}function Cs(t,e,n,i){if(!Tu(t))return t;e=qs(e,t);var r=-1,a=e.length,o=a-1,l=t;while(null!=l&&++r<a){var c=Eo(e[r]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(r!=o){var d=l[c];u=i?i(d,c,l):s,u===s&&(u=Tu(d)?d:so(e[r+1])?[]:{})}cr(l,c,u),l=l[c]}return t}var Ts=on?function(t,e){return on.set(t,e),t}:Ih,xs=Pe?function(t,e){return Pe(t,"toString",{configurable:!0,enumerable:!1,value:Ah(e),writable:!0})}:Ih;function As(t){return Po(Ud(t))}function Ss(t,e,i){var r=-1,s=t.length;e<0&&(e=-e>s?0:s+e),i=i>s?s:i,i<0&&(i+=s),s=e>i?0:i-e>>>0,e>>>=0;var a=n(s);while(++r<s)a[r]=t[r+e];return a}function Ms(t,e){var n;return _r(t,(function(t,i,r){return n=e(t,i,r),!n})),!!n}function Ps(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e===e&&r<=z){while(i<r){var s=i+r>>>1,a=t[s];null!==a&&!$u(a)&&(n?a<=e:a<e)?i=s+1:r=s}return r}return Is(t,e,Ih,n)}function Is(t,e,n,i){var r=0,a=null==t?0:t.length;if(0===a)return 0;e=n(e);var o=e!==e,l=null===e,c=$u(e),u=e===s;while(r<a){var d=Oe((r+a)/2),h=n(t[d]),p=h!==s,f=null===h,m=h===h,g=$u(h);if(o)var v=i||m;else v=u?m&&(i||p):l?m&&p&&(i||!f):c?m&&p&&!f&&(i||!g):!f&&!g&&(i?h<=e:h<e);v?r=d+1:a=d}return Ue(a,U)}function Es(t,e){var n=-1,i=t.length,r=0,s=[];while(++n<i){var a=t[n],o=e?e(a):a;if(!n||!ru(o,l)){var l=o;s[r++]=0===a?0:a}}return s}function Ls(t){return"number"==typeof t?t:$u(t)?$:+t}function Ns(t){if("string"==typeof t)return t;if(lu(t))return Mn(t,Ns)+"";if($u(t))return wi?wi.call(t):"";var e=t+"";return"0"==e&&1/t==-j?"-0":e}function Os(t,e,n){var i=-1,r=An,s=t.length,a=!0,l=[],c=l;if(n)a=!1,r=Sn;else if(s>=o){var u=e?null:Ma(t);if(u)return hi(u);a=!1,r=Zn,c=new Ji}else c=e?[]:l;t:while(++i<s){var d=t[i],h=e?e(d):d;if(d=n||0!==d?d:0,a&&h===h){var p=c.length;while(p--)if(c[p]===h)continue t;e&&c.push(h),l.push(d)}else r(c,h,n)||(c!==l&&c.push(h),l.push(d))}return l}function Ds(t,e){return e=qs(e,t),t=ko(t,e),null==t||delete t[Eo(sl(e))]}function js(t,e,n,i){return Cs(t,e,n(Or(t,e)),i)}function Rs(t,e,n,i){var r=t.length,s=i?r:-1;while((i?s--:++s<r)&&e(t[s],s,t));return n?Ss(t,i?0:s,i?s+1:r):Ss(t,i?s+1:0,i?r:s)}function Bs(t,e){var n=t;return n instanceof Si&&(n=n.value()),In(e,(function(t,e){return e.func.apply(e.thisArg,Pn([t],e.args))}),n)}function $s(t,e,i){var r=t.length;if(r<2)return r?Os(t[0]):[];var s=-1,a=n(r);while(++s<r){var o=t[s],l=-1;while(++l<r)l!=s&&(a[s]=kr(a[s]||o,t[l],e,i))}return Os(Mr(a,1),e,i)}function Fs(t,e,n){var i=-1,r=t.length,a=e.length,o={};while(++i<r){var l=i<a?e[i]:s;n(o,t[i],l)}return o}function Us(t){return du(t)?t:[]}function zs(t){return"function"==typeof t?t:Ih}function qs(t,e){return lu(t)?t:oo(t,e)?[t]:Io(Xu(t))}var Hs=ws;function Vs(t,e,n){var i=t.length;return n=n===s?i:n,!e&&n>=i?t:Ss(t,e,n)}var Ws=Ie||function(t){return ln.clearTimeout(t)};function Ks(t,e){if(e)return t.slice();var n=t.length,i=ke?ke(n):new t.constructor(n);return t.copy(i),i}function Ys(t){var e=new t.constructor(t.byteLength);return new we(e).set(new we(t)),e}function Js(t,e){var n=e?Ys(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Qs(t){var e=new t.constructor(t.source,Kt.exec(t));return e.lastIndex=t.lastIndex,e}function Gs(t){return fi?ne(fi.call(t)):{}}function Zs(t,e){var n=e?Ys(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Xs(t,e){if(t!==e){var n=t!==s,i=null===t,r=t===t,a=$u(t),o=e!==s,l=null===e,c=e===e,u=$u(e);if(!l&&!u&&!a&&t>e||a&&o&&c&&!l&&!u||i&&o&&c||!n&&c||!r)return 1;if(!i&&!a&&!u&&t<e||u&&n&&r&&!i&&!a||l&&n&&r||!o&&r||!c)return-1}return 0}function ta(t,e,n){var i=-1,r=t.criteria,s=e.criteria,a=r.length,o=n.length;while(++i<a){var l=Xs(r[i],s[i]);if(l){if(i>=o)return l;var c=n[i];return l*("desc"==c?-1:1)}}return t.index-e.index}function ea(t,e,i,r){var s=-1,a=t.length,o=i.length,l=-1,c=e.length,u=Fe(a-o,0),d=n(c+u),h=!r;while(++l<c)d[l]=e[l];while(++s<o)(h||s<a)&&(d[i[s]]=t[s]);while(u--)d[l++]=t[s++];return d}function na(t,e,i,r){var s=-1,a=t.length,o=-1,l=i.length,c=-1,u=e.length,d=Fe(a-l,0),h=n(d+u),p=!r;while(++s<d)h[s]=t[s];var f=s;while(++c<u)h[f+c]=e[c];while(++o<l)(p||s<a)&&(h[f+i[o]]=t[s++]);return h}function ia(t,e){var i=-1,r=t.length;e||(e=n(r));while(++i<r)e[i]=t[i];return e}function ra(t,e,n,i){var r=!n;n||(n={});var a=-1,o=e.length;while(++a<o){var l=e[a],c=i?i(n[l],t[l],l,n,t):s;c===s&&(c=t[l]),r?fr(n,l,c):cr(n,l,c)}return n}function sa(t,e){return ra(t,Ya(t),e)}function aa(t,e){return ra(t,Ja(t),e)}function oa(t,e){return function(n,i){var r=lu(n)?kn:dr,s=e?e():{};return r(n,t,qa(i,2),s)}}function la(t){return ws((function(e,n){var i=-1,r=n.length,a=r>1?n[r-1]:s,o=r>2?n[2]:s;a=t.length>3&&"function"==typeof a?(r--,a):s,o&&ao(n[0],n[1],o)&&(a=r<3?s:a,r=1),e=ne(e);while(++i<r){var l=n[i];l&&t(e,l,i,a)}return e}))}function ca(t,e){return function(n,i){if(null==n)return n;if(!uu(n))return t(n,i);var r=n.length,s=e?r:-1,a=ne(n);while(e?s--:++s<r)if(!1===i(a[s],s,a))break;return n}}function ua(t){return function(e,n,i){var r=-1,s=ne(e),a=i(e),o=a.length;while(o--){var l=a[t?o:++r];if(!1===n(s[l],l,s))break}return e}}function da(t,e,n){var i=e&b,r=fa(t);function s(){var e=this&&this!==ln&&this instanceof s?r:t;return e.apply(i?n:this,arguments)}return s}function ha(t){return function(e){e=Xu(e);var n=ai(e)?vi(e):s,i=n?n[0]:e.charAt(0),r=n?Vs(n,1).join(""):e.slice(1);return i[t]()+r}}function pa(t){return function(e){return In(kh(Yd(e).replace(qe,"")),t,"")}}function fa(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ci(t.prototype),i=t.apply(n,e);return Tu(i)?i:n}}function ma(t,e,i){var r=fa(t);function a(){var o=arguments.length,l=n(o),c=o,u=za(a);while(c--)l[c]=arguments[c];var d=o<3&&l[0]!==u&&l[o-1]!==u?[]:di(l,u);if(o-=d.length,o<i)return Aa(t,e,ya,a.placeholder,s,l,d,s,s,i-o);var h=this&&this!==ln&&this instanceof a?r:t;return wn(h,this,l)}return a}function ga(t){return function(e,n,i){var r=ne(e);if(!uu(e)){var a=qa(n,3);e=_d(e),n=function(t){return a(r[t],t,r)}}var o=t(e,n,i);return o>-1?r[a?e[o]:o]:s}}function va(t){return Ra((function(e){var n=e.length,i=n,r=Ai.prototype.thru;t&&e.reverse();while(i--){var a=e[i];if("function"!=typeof a)throw new se(c);if(r&&!o&&"wrapper"==Ua(a))var o=new Ai([],!0)}i=o?i:n;while(++i<n){a=e[i];var l=Ua(a),u="wrapper"==l?Fa(a):s;o=u&&co(u[0])&&u[1]==(A|_|T|S)&&!u[4].length&&1==u[9]?o[Ua(u[0])].apply(o,u[3]):1==a.length&&co(a)?o[l]():o.thru(a)}return function(){var t=arguments,i=t[0];if(o&&1==t.length&&lu(i))return o.plant(i).value();var r=0,s=n?e[r].apply(this,t):i;while(++r<n)s=e[r].call(this,s);return s}}))}function ya(t,e,i,r,a,o,l,c,u,d){var h=e&A,p=e&b,f=e&w,m=e&(_|C),g=e&M,v=f?s:fa(t);function y(){var s=arguments.length,b=n(s),w=s;while(w--)b[w]=arguments[w];if(m)var k=za(y),_=ei(b,k);if(r&&(b=ea(b,r,a,m)),o&&(b=na(b,o,l,m)),s-=_,m&&s<d){var C=di(b,k);return Aa(t,e,ya,y.placeholder,i,b,C,c,u,d-s)}var T=p?i:this,x=f?T[t]:t;return s=b.length,c?b=_o(b,c):g&&s>1&&b.reverse(),h&&u<s&&(b.length=u),this&&this!==ln&&this instanceof y&&(x=v||fa(x)),x.apply(T,b)}return y}function ba(t,e){return function(n,i){return zr(n,t,e(i),{})}}function wa(t,e){return function(n,i){var r;if(n===s&&i===s)return e;if(n!==s&&(r=n),i!==s){if(r===s)return i;"string"==typeof n||"string"==typeof i?(n=Ns(n),i=Ns(i)):(n=Ls(n),i=Ls(i)),r=t(n,i)}return r}}function ka(t){return Ra((function(e){return e=Mn(e,Qn(qa())),ws((function(n){var i=this;return t(e,(function(t){return wn(t,i,n)}))}))}))}function _a(t,e){e=e===s?" ":Ns(e);var n=e.length;if(n<2)return n?bs(e,t):e;var i=bs(e,Ne(t/gi(e)));return ai(e)?Vs(vi(i),0,t).join(""):i.slice(0,t)}function Ca(t,e,i,r){var s=e&b,a=fa(t);function o(){var e=-1,l=arguments.length,c=-1,u=r.length,d=n(u+l),h=this&&this!==ln&&this instanceof o?a:t;while(++c<u)d[c]=r[c];while(l--)d[c++]=arguments[++e];return wn(h,s?i:this,d)}return o}function Ta(t){return function(e,n,i){return i&&"number"!=typeof i&&ao(e,n,i)&&(n=i=s),e=Ku(e),n===s?(n=e,e=0):n=Ku(n),i=i===s?e<n?1:-1:Ku(i),ys(e,n,i,t)}}function xa(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Qu(e),n=Qu(n)),t(e,n)}}function Aa(t,e,n,i,r,a,o,l,c,u){var d=e&_,h=d?o:s,p=d?s:o,f=d?a:s,m=d?s:a;e|=d?T:x,e&=~(d?x:T),e&k||(e&=~(b|w));var g=[t,e,r,f,h,m,p,l,c,u],v=n.apply(s,g);return co(t)&&To(v,g),v.placeholder=i,So(v,t,e)}function Sa(t){var e=qt[t];return function(t,n){if(t=Qu(t),n=null==n?0:Ue(Yu(n),292),n&&Re(t)){var i=(Xu(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));return i=(Xu(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}var Ma=en&&1/hi(new en([,-0]))[1]==j?function(t){return new en(t)}:Bh;function Pa(t){return function(e){var n=Qa(e);return n==X?ci(e):n==at?pi(e):Yn(e,t(e))}}function Ia(t,e,n,i,r,a,o,l){var u=e&w;if(!u&&"function"!=typeof t)throw new se(c);var d=i?i.length:0;if(d||(e&=~(T|x),i=r=s),o=o===s?o:Fe(Yu(o),0),l=l===s?l:Yu(l),d-=r?r.length:0,e&x){var h=i,p=r;i=r=s}var f=u?s:Fa(t),m=[t,e,n,i,r,h,p,a,o,l];if(f&&vo(m,f),t=m[0],e=m[1],n=m[2],i=m[3],r=m[4],l=m[9]=m[9]===s?u?0:t.length:Fe(m[9]-d,0),!l&&e&(_|C)&&(e&=~(_|C)),e&&e!=b)g=e==_||e==C?ma(t,e,l):e!=T&&e!=(b|T)||r.length?ya.apply(s,m):Ca(t,e,n,i);else var g=da(t,e,n);var v=f?Ts:To;return So(v(g,m),t,e)}function Ea(t,e,n,i){return t===s||ru(t,le[n])&&!de.call(i,n)?e:t}function La(t,e,n,i,r,a){return Tu(t)&&Tu(e)&&(a.set(e,t),ls(t,e,s,La,a),a["delete"](e)),t}function Na(t){return Ou(t)?s:t}function Oa(t,e,n,i,r,a){var o=n&v,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var h=-1,p=!0,f=n&y?new Ji:s;a.set(t,e),a.set(e,t);while(++h<l){var m=t[h],g=e[h];if(i)var b=o?i(g,m,h,e,t,a):i(m,g,h,t,e,a);if(b!==s){if(b)continue;p=!1;break}if(f){if(!Ln(e,(function(t,e){if(!Zn(f,e)&&(m===t||r(m,t,n,i,a)))return f.push(e)}))){p=!1;break}}else if(m!==g&&!r(m,g,n,i,a)){p=!1;break}}return a["delete"](t),a["delete"](e),p}function Da(t,e,n,i,r,s,a){switch(n){case pt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ht:return!(t.byteLength!=e.byteLength||!s(new we(t),new we(e)));case K:case Y:case tt:return ru(+t,+e);case Q:return t.name==e.name&&t.message==e.message;case st:case ot:return t==e+"";case X:var o=ci;case at:var l=i&v;if(o||(o=hi),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;i|=y,a.set(t,e);var u=Oa(o(t),o(e),i,r,s,a);return a["delete"](t),u;case lt:if(fi)return fi.call(t)==fi.call(e)}return!1}function ja(t,e,n,i,r,a){var o=n&v,l=Ba(t),c=l.length,u=Ba(e),d=u.length;if(c!=d&&!o)return!1;var h=c;while(h--){var p=l[h];if(!(o?p in e:de.call(e,p)))return!1}var f=a.get(t),m=a.get(e);if(f&&m)return f==e&&m==t;var g=!0;a.set(t,e),a.set(e,t);var y=o;while(++h<c){p=l[h];var b=t[p],w=e[p];if(i)var k=o?i(w,b,p,e,t,a):i(b,w,p,t,e,a);if(!(k===s?b===w||r(b,w,n,i,a):k)){g=!1;break}y||(y="constructor"==p)}if(g&&!y){var _=t.constructor,C=e.constructor;_==C||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof C&&C instanceof C||(g=!1)}return a["delete"](t),a["delete"](e),g}function Ra(t){return Ao(wo(t,s,Yo),t+"")}function Ba(t){return Dr(t,_d,Ya)}function $a(t){return Dr(t,Cd,Ja)}var Fa=on?function(t){return on.get(t)}:Bh;function Ua(t){var e=t.name+"",n=cn[e],i=de.call(cn,e)?n.length:0;while(i--){var r=n[i],s=r.func;if(null==s||s==t)return r.name}return e}function za(t){var e=de.call(ki,"placeholder")?ki:t;return e.placeholder}function qa(){var t=ki.iteratee||Eh;return t=t===Eh?es:t,arguments.length?t(arguments[0],arguments[1]):t}function Ha(t,e){var n=t.__data__;return lo(e)?n["string"==typeof e?"string":"hash"]:n.map}function Va(t){var e=_d(t),n=e.length;while(n--){var i=e[n],r=t[i];e[n]=[i,r,fo(r)]}return e}function Wa(t,e){var n=si(t,e);return Gr(n)?n:s}function Ka(t){var e=de.call(t,Me),n=t[Me];try{t[Me]=s;var i=!0}catch(a){}var r=fe.call(t);return i&&(e?t[Me]=n:delete t[Me]),r}var Ya=De?function(t){return null==t?[]:(t=ne(t),xn(De(t),(function(e){return Te.call(t,e)})))}:Kh,Ja=De?function(t){var e=[];while(t)Pn(e,Ya(t)),t=_e(t);return e}:Kh,Qa=jr;function Ga(t,e,n){var i=-1,r=n.length;while(++i<r){var s=n[i],a=s.size;switch(s.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Ue(e,t+a);break;case"takeRight":t=Fe(t,e-a);break}}return{start:t,end:e}}function Za(t){var e=t.match(Ut);return e?e[1].split(zt):[]}function Xa(t,e,n){e=qs(e,t);var i=-1,r=e.length,s=!1;while(++i<r){var a=Eo(e[i]);if(!(s=null!=t&&n(t,a)))break;t=t[a]}return s||++i!=r?s:(r=null==t?0:t.length,!!r&&Cu(r)&&so(a,r)&&(lu(t)||ou(t)))}function to(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&de.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function eo(t){return"function"!=typeof t.constructor||po(t)?{}:Ci(_e(t))}function no(t,e,n){var i=t.constructor;switch(e){case ht:return Ys(t);case K:case Y:return new i(+t);case pt:return Js(t,n);case ft:case mt:case gt:case vt:case yt:case bt:case wt:case kt:case _t:return Zs(t,n);case X:return new i;case tt:case ot:return new i(t);case st:return Qs(t);case at:return new i;case lt:return Gs(t)}}function io(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Ft,"{\n/* [wrapped with "+e+"] */\n")}function ro(t){return lu(t)||ou(t)||!!(Ae&&t&&t[Ae])}function so(t,e){var n=typeof t;return e=null==e?R:e,!!e&&("number"==n||"symbol"!=n&&Zt.test(t))&&t>-1&&t%1==0&&t<e}function ao(t,e,n){if(!Tu(n))return!1;var i=typeof e;return!!("number"==i?uu(n)&&so(e,n.length):"string"==i&&e in n)&&ru(n[e],t)}function oo(t,e){if(lu(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!$u(t))||(Ot.test(t)||!Nt.test(t)||null!=e&&t in ne(e))}function lo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function co(t){var e=Ua(t),n=ki[e];if("function"!=typeof n||!(e in Si.prototype))return!1;if(t===n)return!0;var i=Fa(n);return!!i&&t===i[0]}function uo(t){return!!pe&&pe in t}(Ye&&Qa(new Ye(new ArrayBuffer(1)))!=pt||Xe&&Qa(new Xe)!=X||tn&&Qa(tn.resolve())!=it||en&&Qa(new en)!=at||nn&&Qa(new nn)!=ut)&&(Qa=function(t){var e=jr(t),n=e==nt?t.constructor:s,i=n?Lo(n):"";if(i)switch(i){case un:return pt;case hn:return X;case pn:return it;case Nn:return at;case On:return ut}return e});var ho=ce?ku:Yh;function po(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||le;return t===n}function fo(t){return t===t&&!Tu(t)}function mo(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==s||t in ne(n)))}}function go(t){var e=Fc(t,(function(t){return n.size===h&&n.clear(),t})),n=e.cache;return e}function vo(t,e){var n=t[1],i=e[1],r=n|i,s=r<(b|w|A),a=i==A&&n==_||i==A&&n==S&&t[7].length<=e[8]||i==(A|S)&&e[7].length<=e[8]&&n==_;if(!s&&!a)return t;i&b&&(t[2]=e[2],r|=n&b?0:k);var o=e[3];if(o){var l=t[3];t[3]=l?ea(l,o,e[4]):o,t[4]=l?di(t[3],p):e[4]}return o=e[5],o&&(l=t[5],t[5]=l?na(l,o,e[6]):o,t[6]=l?di(t[5],p):e[6]),o=e[7],o&&(t[7]=o),i&A&&(t[8]=null==t[8]?e[8]:Ue(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function yo(t){var e=[];if(null!=t)for(var n in ne(t))e.push(n);return e}function bo(t){return fe.call(t)}function wo(t,e,i){return e=Fe(e===s?t.length-1:e,0),function(){var r=arguments,s=-1,a=Fe(r.length-e,0),o=n(a);while(++s<a)o[s]=r[e+s];s=-1;var l=n(e+1);while(++s<e)l[s]=r[s];return l[e]=i(o),wn(t,this,l)}}function ko(t,e){return e.length<2?t:Or(t,Ss(e,0,-1))}function _o(t,e){var n=t.length,i=Ue(e.length,n),r=ia(t);while(i--){var a=e[i];t[i]=so(a,n)?r[a]:s}return t}function Co(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var To=Mo(Ts),xo=Le||function(t,e){return ln.setTimeout(t,e)},Ao=Mo(xs);function So(t,e,n){var i=e+"";return Ao(t,io(i,No(Za(i),n)))}function Mo(t){var e=0,n=0;return function(){var i=ze(),r=L-(i-n);if(n=i,r>0){if(++e>=E)return arguments[0]}else e=0;return t.apply(s,arguments)}}function Po(t,e){var n=-1,i=t.length,r=i-1;e=e===s?i:e;while(++n<e){var a=vs(n,r),o=t[a];t[a]=t[n],t[n]=o}return t.length=e,t}var Io=go((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Dt,(function(t,n,i,r){e.push(i?r.replace(Vt,"$1"):n||t)})),e}));function Eo(t){if("string"==typeof t||$u(t))return t;var e=t+"";return"0"==e&&1/t==-j?"-0":e}function Lo(t){if(null!=t){try{return ue.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function No(t,e){return _n(q,(function(n){var i="_."+n[0];e&n[1]&&!An(t,i)&&t.push(i)})),t.sort()}function Oo(t){if(t instanceof Si)return t.clone();var e=new Ai(t.__wrapped__,t.__chain__);return e.__actions__=ia(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Do(t,e,i){e=(i?ao(t,e,i):e===s)?1:Fe(Yu(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];var a=0,o=0,l=n(Ne(r/e));while(a<r)l[o++]=Ss(t,a,a+=e);return l}function jo(t){var e=-1,n=null==t?0:t.length,i=0,r=[];while(++e<n){var s=t[e];s&&(r[i++]=s)}return r}function Ro(){var t=arguments.length;if(!t)return[];var e=n(t-1),i=arguments[0],r=t;while(r--)e[r-1]=arguments[r];return Pn(lu(i)?ia(i):[i],Mr(e,1))}var Bo=ws((function(t,e){return du(t)?kr(t,Mr(e,1,du,!0)):[]})),$o=ws((function(t,e){var n=sl(e);return du(n)&&(n=s),du(t)?kr(t,Mr(e,1,du,!0),qa(n,2)):[]})),Fo=ws((function(t,e){var n=sl(e);return du(n)&&(n=s),du(t)?kr(t,Mr(e,1,du,!0),s,n):[]}));function Uo(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===s?1:Yu(e),Ss(t,e<0?0:e,i)):[]}function zo(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===s?1:Yu(e),e=i-e,Ss(t,0,e<0?0:e)):[]}function qo(t,e){return t&&t.length?Rs(t,qa(e,3),!0,!0):[]}function Ho(t,e){return t&&t.length?Rs(t,qa(e,3),!0):[]}function Vo(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&ao(t,e,n)&&(n=0,i=r),Ar(t,e,n,i)):[]}function Wo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Yu(n);return r<0&&(r=Fe(i+r,0)),Rn(t,qa(e,3),r)}function Ko(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==s&&(r=Yu(n),r=n<0?Fe(i+r,0):Ue(r,i-1)),Rn(t,qa(e,3),r,!0)}function Yo(t){var e=null==t?0:t.length;return e?Mr(t,1):[]}function Jo(t){var e=null==t?0:t.length;return e?Mr(t,j):[]}function Qo(t,e){var n=null==t?0:t.length;return n?(e=e===s?1:Yu(e),Mr(t,e)):[]}function Go(t){var e=-1,n=null==t?0:t.length,i={};while(++e<n){var r=t[e];i[r[0]]=r[1]}return i}function Zo(t){return t&&t.length?t[0]:s}function Xo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Yu(n);return r<0&&(r=Fe(i+r,0)),Bn(t,e,r)}function tl(t){var e=null==t?0:t.length;return e?Ss(t,0,-1):[]}var el=ws((function(t){var e=Mn(t,Us);return e.length&&e[0]===t[0]?Ur(e):[]})),nl=ws((function(t){var e=sl(t),n=Mn(t,Us);return e===sl(n)?e=s:n.pop(),n.length&&n[0]===t[0]?Ur(n,qa(e,2)):[]})),il=ws((function(t){var e=sl(t),n=Mn(t,Us);return e="function"==typeof e?e:s,e&&n.pop(),n.length&&n[0]===t[0]?Ur(n,s,e):[]}));function rl(t,e){return null==t?"":Be.call(t,e)}function sl(t){var e=null==t?0:t.length;return e?t[e-1]:s}function al(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==s&&(r=Yu(n),r=r<0?Fe(i+r,0):Ue(r,i-1)),e===e?mi(t,e,r):Rn(t,Fn,r,!0)}function ol(t,e){return t&&t.length?us(t,Yu(e)):s}var ll=ws(cl);function cl(t,e){return t&&t.length&&e&&e.length?ms(t,e):t}function ul(t,e,n){return t&&t.length&&e&&e.length?ms(t,e,qa(n,2)):t}function dl(t,e,n){return t&&t.length&&e&&e.length?ms(t,e,s,n):t}var hl=Ra((function(t,e){var n=null==t?0:t.length,i=mr(t,e);return gs(t,Mn(e,(function(t){return so(t,n)?+t:t})).sort(Xs)),i}));function pl(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],s=t.length;e=qa(e,3);while(++i<s){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return gs(t,r),n}function fl(t){return null==t?t:Ke.call(t)}function ml(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&ao(t,e,n)?(e=0,n=i):(e=null==e?0:Yu(e),n=n===s?i:Yu(n)),Ss(t,e,n)):[]}function gl(t,e){return Ps(t,e)}function vl(t,e,n){return Is(t,e,qa(n,2))}function yl(t,e){var n=null==t?0:t.length;if(n){var i=Ps(t,e);if(i<n&&ru(t[i],e))return i}return-1}function bl(t,e){return Ps(t,e,!0)}function wl(t,e,n){return Is(t,e,qa(n,2),!0)}function kl(t,e){var n=null==t?0:t.length;if(n){var i=Ps(t,e,!0)-1;if(ru(t[i],e))return i}return-1}function _l(t){return t&&t.length?Es(t):[]}function Cl(t,e){return t&&t.length?Es(t,qa(e,2)):[]}function Tl(t){var e=null==t?0:t.length;return e?Ss(t,1,e):[]}function xl(t,e,n){return t&&t.length?(e=n||e===s?1:Yu(e),Ss(t,0,e<0?0:e)):[]}function Al(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===s?1:Yu(e),e=i-e,Ss(t,e<0?0:e,i)):[]}function Sl(t,e){return t&&t.length?Rs(t,qa(e,3),!1,!0):[]}function Ml(t,e){return t&&t.length?Rs(t,qa(e,3)):[]}var Pl=ws((function(t){return Os(Mr(t,1,du,!0))})),Il=ws((function(t){var e=sl(t);return du(e)&&(e=s),Os(Mr(t,1,du,!0),qa(e,2))})),El=ws((function(t){var e=sl(t);return e="function"==typeof e?e:s,Os(Mr(t,1,du,!0),s,e)}));function Ll(t){return t&&t.length?Os(t):[]}function Nl(t,e){return t&&t.length?Os(t,qa(e,2)):[]}function Ol(t,e){return e="function"==typeof e?e:s,t&&t.length?Os(t,s,e):[]}function Dl(t){if(!t||!t.length)return[];var e=0;return t=xn(t,(function(t){if(du(t))return e=Fe(t.length,e),!0})),Kn(e,(function(e){return Mn(t,zn(e))}))}function jl(t,e){if(!t||!t.length)return[];var n=Dl(t);return null==e?n:Mn(n,(function(t){return wn(e,s,t)}))}var Rl=ws((function(t,e){return du(t)?kr(t,e):[]})),Bl=ws((function(t){return $s(xn(t,du))})),$l=ws((function(t){var e=sl(t);return du(e)&&(e=s),$s(xn(t,du),qa(e,2))})),Fl=ws((function(t){var e=sl(t);return e="function"==typeof e?e:s,$s(xn(t,du),s,e)})),Ul=ws(Dl);function zl(t,e){return Fs(t||[],e||[],cr)}function ql(t,e){return Fs(t||[],e||[],Cs)}var Hl=ws((function(t){var e=t.length,n=e>1?t[e-1]:s;return n="function"==typeof n?(t.pop(),n):s,jl(t,n)}));function Vl(t){var e=ki(t);return e.__chain__=!0,e}function Wl(t,e){return e(t),t}function Kl(t,e){return e(t)}var Yl=Ra((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return mr(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Si&&so(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:Kl,args:[r],thisArg:s}),new Ai(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(s),t}))):this.thru(r)}));function Jl(){return Vl(this)}function Ql(){return new Ai(this.value(),this.__chain__)}function Gl(){this.__values__===s&&(this.__values__=Wu(this.value()));var t=this.__index__>=this.__values__.length,e=t?s:this.__values__[this.__index__++];return{done:t,value:e}}function Zl(){return this}function Xl(t){var e,n=this;while(n instanceof xi){var i=Oo(n);i.__index__=0,i.__values__=s,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function tc(){var t=this.__wrapped__;if(t instanceof Si){var e=t;return this.__actions__.length&&(e=new Si(this)),e=e.reverse(),e.__actions__.push({func:Kl,args:[fl],thisArg:s}),new Ai(e,this.__chain__)}return this.thru(fl)}function ec(){return Bs(this.__wrapped__,this.__actions__)}var nc=oa((function(t,e,n){de.call(t,n)?++t[n]:fr(t,n,1)}));function ic(t,e,n){var i=lu(t)?Tn:Tr;return n&&ao(t,e,n)&&(e=s),i(t,qa(e,3))}function rc(t,e){var n=lu(t)?xn:Sr;return n(t,qa(e,3))}var sc=ga(Wo),ac=ga(Ko);function oc(t,e){return Mr(gc(t,e),1)}function lc(t,e){return Mr(gc(t,e),j)}function cc(t,e,n){return n=n===s?1:Yu(n),Mr(gc(t,e),n)}function uc(t,e){var n=lu(t)?_n:_r;return n(t,qa(e,3))}function dc(t,e){var n=lu(t)?Cn:Cr;return n(t,qa(e,3))}var hc=oa((function(t,e,n){de.call(t,n)?t[n].push(e):fr(t,n,[e])}));function pc(t,e,n,i){t=uu(t)?t:Ud(t),n=n&&!i?Yu(n):0;var r=t.length;return n<0&&(n=Fe(r+n,0)),Bu(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&Bn(t,e,n)>-1}var fc=ws((function(t,e,i){var r=-1,s="function"==typeof e,a=uu(t)?n(t.length):[];return _r(t,(function(t){a[++r]=s?wn(e,t,i):qr(t,e,i)})),a})),mc=oa((function(t,e,n){fr(t,n,e)}));function gc(t,e){var n=lu(t)?Mn:ss;return n(t,qa(e,3))}function vc(t,e,n,i){return null==t?[]:(lu(e)||(e=null==e?[]:[e]),n=i?s:n,lu(n)||(n=null==n?[]:[n]),ds(t,e,n))}var yc=oa((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));function bc(t,e,n){var i=lu(t)?In:Hn,r=arguments.length<3;return i(t,qa(e,4),n,r,_r)}function wc(t,e,n){var i=lu(t)?En:Hn,r=arguments.length<3;return i(t,qa(e,4),n,r,Cr)}function kc(t,e){var n=lu(t)?xn:Sr;return n(t,Uc(qa(e,3)))}function _c(t){var e=lu(t)?sr:ks;return e(t)}function Cc(t,e,n){e=(n?ao(t,e,n):e===s)?1:Yu(e);var i=lu(t)?ar:_s;return i(t,e)}function Tc(t){var e=lu(t)?or:As;return e(t)}function xc(t){if(null==t)return 0;if(uu(t))return Bu(t)?gi(t):t.length;var e=Qa(t);return e==X||e==at?t.size:ns(t).length}function Ac(t,e,n){var i=lu(t)?Ln:Ms;return n&&ao(t,e,n)&&(e=s),i(t,qa(e,3))}var Sc=ws((function(t,e){if(null==t)return[];var n=e.length;return n>1&&ao(t,e[0],e[1])?e=[]:n>2&&ao(e[0],e[1],e[2])&&(e=[e[0]]),ds(t,Mr(e,1),[])})),Mc=Ee||function(){return ln.Date.now()};function Pc(t,e){if("function"!=typeof e)throw new se(c);return t=Yu(t),function(){if(--t<1)return e.apply(this,arguments)}}function Ic(t,e,n){return e=n?s:e,e=t&&null==e?t.length:e,Ia(t,A,s,s,s,s,e)}function Ec(t,e){var n;if("function"!=typeof e)throw new se(c);return t=Yu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=s),n}}var Lc=ws((function(t,e,n){var i=b;if(n.length){var r=di(n,za(Lc));i|=T}return Ia(t,i,e,n,r)})),Nc=ws((function(t,e,n){var i=b|w;if(n.length){var r=di(n,za(Nc));i|=T}return Ia(e,i,t,n,r)}));function Oc(t,e,n){e=n?s:e;var i=Ia(t,_,s,s,s,s,s,e);return i.placeholder=Oc.placeholder,i}function Dc(t,e,n){e=n?s:e;var i=Ia(t,C,s,s,s,s,s,e);return i.placeholder=Dc.placeholder,i}function jc(t,e,n){var i,r,a,o,l,u,d=0,h=!1,p=!1,f=!0;if("function"!=typeof t)throw new se(c);function m(e){var n=i,a=r;return i=r=s,d=e,o=t.apply(a,n),o}function g(t){return d=t,l=xo(b,e),h?m(t):o}function v(t){var n=t-u,i=t-d,r=e-n;return p?Ue(r,a-i):r}function y(t){var n=t-u,i=t-d;return u===s||n>=e||n<0||p&&i>=a}function b(){var t=Mc();if(y(t))return w(t);l=xo(b,v(t))}function w(t){return l=s,f&&i?m(t):(i=r=s,o)}function k(){l!==s&&Ws(l),d=0,i=u=r=l=s}function _(){return l===s?o:w(Mc())}function C(){var t=Mc(),n=y(t);if(i=arguments,r=this,u=t,n){if(l===s)return g(u);if(p)return Ws(l),l=xo(b,e),m(u)}return l===s&&(l=xo(b,e)),o}return e=Qu(e)||0,Tu(n)&&(h=!!n.leading,p="maxWait"in n,a=p?Fe(Qu(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f),C.cancel=k,C.flush=_,C}var Rc=ws((function(t,e){return wr(t,1,e)})),Bc=ws((function(t,e,n){return wr(t,Qu(e)||0,n)}));function $c(t){return Ia(t,M)}function Fc(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new se(c);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var a=t.apply(this,i);return n.cache=s.set(r,a)||s,a};return n.cache=new(Fc.Cache||qi),n}function Uc(t){if("function"!=typeof t)throw new se(c);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function zc(t){return Ec(2,t)}Fc.Cache=qi;var qc=Hs((function(t,e){e=1==e.length&&lu(e[0])?Mn(e[0],Qn(qa())):Mn(Mr(e,1),Qn(qa()));var n=e.length;return ws((function(i){var r=-1,s=Ue(i.length,n);while(++r<s)i[r]=e[r].call(this,i[r]);return wn(t,this,i)}))})),Hc=ws((function(t,e){var n=di(e,za(Hc));return Ia(t,T,s,e,n)})),Vc=ws((function(t,e){var n=di(e,za(Vc));return Ia(t,x,s,e,n)})),Wc=Ra((function(t,e){return Ia(t,S,s,s,s,e)}));function Kc(t,e){if("function"!=typeof t)throw new se(c);return e=e===s?e:Yu(e),ws(t,e)}function Yc(t,e){if("function"!=typeof t)throw new se(c);return e=null==e?0:Fe(Yu(e),0),ws((function(n){var i=n[e],r=Vs(n,0,e);return i&&Pn(r,i),wn(t,this,r)}))}function Jc(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new se(c);return Tu(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),jc(t,e,{leading:i,maxWait:e,trailing:r})}function Qc(t){return Ic(t,1)}function Gc(t,e){return Hc(zs(e),t)}function Zc(){if(!arguments.length)return[];var t=arguments[0];return lu(t)?t:[t]}function Xc(t){return vr(t,g)}function tu(t,e){return e="function"==typeof e?e:s,vr(t,g,e)}function eu(t){return vr(t,f|g)}function nu(t,e){return e="function"==typeof e?e:s,vr(t,f|g,e)}function iu(t,e){return null==e||br(t,e,_d(e))}function ru(t,e){return t===e||t!==t&&e!==e}var su=xa(Rr),au=xa((function(t,e){return t>=e})),ou=Hr(function(){return arguments}())?Hr:function(t){return xu(t)&&de.call(t,"callee")&&!Te.call(t,"callee")},lu=n.isArray,cu=fn?Qn(fn):Vr;function uu(t){return null!=t&&Cu(t.length)&&!ku(t)}function du(t){return xu(t)&&uu(t)}function hu(t){return!0===t||!1===t||xu(t)&&jr(t)==K}var pu=je||Yh,fu=mn?Qn(mn):Wr;function mu(t){return xu(t)&&1===t.nodeType&&!Ou(t)}function gu(t){if(null==t)return!0;if(uu(t)&&(lu(t)||"string"==typeof t||"function"==typeof t.splice||pu(t)||Fu(t)||ou(t)))return!t.length;var e=Qa(t);if(e==X||e==at)return!t.size;if(po(t))return!ns(t).length;for(var n in t)if(de.call(t,n))return!1;return!0}function vu(t,e){return Kr(t,e)}function yu(t,e,n){n="function"==typeof n?n:s;var i=n?n(t,e):s;return i===s?Kr(t,e,s,n):!!i}function bu(t){if(!xu(t))return!1;var e=jr(t);return e==Q||e==J||"string"==typeof t.message&&"string"==typeof t.name&&!Ou(t)}function wu(t){return"number"==typeof t&&Re(t)}function ku(t){if(!Tu(t))return!1;var e=jr(t);return e==G||e==Z||e==W||e==rt}function _u(t){return"number"==typeof t&&t==Yu(t)}function Cu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=R}function Tu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function xu(t){return null!=t&&"object"==typeof t}var Au=gn?Qn(gn):Jr;function Su(t,e){return t===e||Qr(t,e,Va(e))}function Mu(t,e,n){return n="function"==typeof n?n:s,Qr(t,e,Va(e),n)}function Pu(t){return Nu(t)&&t!=+t}function Iu(t){if(ho(t))throw new r(l);return Gr(t)}function Eu(t){return null===t}function Lu(t){return null==t}function Nu(t){return"number"==typeof t||xu(t)&&jr(t)==tt}function Ou(t){if(!xu(t)||jr(t)!=nt)return!1;var e=_e(t);if(null===e)return!0;var n=de.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ue.call(n)==me}var Du=vn?Qn(vn):Zr;function ju(t){return _u(t)&&t>=-R&&t<=R}var Ru=yn?Qn(yn):Xr;function Bu(t){return"string"==typeof t||!lu(t)&&xu(t)&&jr(t)==ot}function $u(t){return"symbol"==typeof t||xu(t)&&jr(t)==lt}var Fu=bn?Qn(bn):ts;function Uu(t){return t===s}function zu(t){return xu(t)&&Qa(t)==ut}function qu(t){return xu(t)&&jr(t)==dt}var Hu=xa(rs),Vu=xa((function(t,e){return t<=e}));function Wu(t){if(!t)return[];if(uu(t))return Bu(t)?vi(t):ia(t);if(Se&&t[Se])return li(t[Se]());var e=Qa(t),n=e==X?ci:e==at?hi:Ud;return n(t)}function Ku(t){if(!t)return 0===t?t:0;if(t=Qu(t),t===j||t===-j){var e=t<0?-1:1;return e*B}return t===t?t:0}function Yu(t){var e=Ku(t),n=e%1;return e===e?n?e-n:e:0}function Ju(t){return t?gr(Yu(t),0,F):0}function Qu(t){if("number"==typeof t)return t;if($u(t))return $;if(Tu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Tu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Jn(t);var n=Jt.test(t);return n||Gt.test(t)?sn(t.slice(2),n?2:8):Yt.test(t)?$:+t}function Gu(t){return ra(t,Cd(t))}function Zu(t){return t?gr(Yu(t),-R,R):0===t?t:0}function Xu(t){return null==t?"":Ns(t)}var td=la((function(t,e){if(po(e)||uu(e))ra(e,_d(e),t);else for(var n in e)de.call(e,n)&&cr(t,n,e[n])})),ed=la((function(t,e){ra(e,Cd(e),t)})),nd=la((function(t,e,n,i){ra(e,Cd(e),t,i)})),id=la((function(t,e,n,i){ra(e,_d(e),t,i)})),rd=Ra(mr);function sd(t,e){var n=Ci(t);return null==e?n:hr(n,e)}var ad=ws((function(t,e){t=ne(t);var n=-1,i=e.length,r=i>2?e[2]:s;r&&ao(e[0],e[1],r)&&(i=1);while(++n<i){var a=e[n],o=Cd(a),l=-1,c=o.length;while(++l<c){var u=o[l],d=t[u];(d===s||ru(d,le[u])&&!de.call(t,u))&&(t[u]=a[u])}}return t})),od=ws((function(t){return t.push(s,La),wn(Sd,s,t)}));function ld(t,e){return jn(t,qa(e,3),Er)}function cd(t,e){return jn(t,qa(e,3),Lr)}function ud(t,e){return null==t?t:Pr(t,qa(e,3),Cd)}function dd(t,e){return null==t?t:Ir(t,qa(e,3),Cd)}function hd(t,e){return t&&Er(t,qa(e,3))}function pd(t,e){return t&&Lr(t,qa(e,3))}function fd(t){return null==t?[]:Nr(t,_d(t))}function md(t){return null==t?[]:Nr(t,Cd(t))}function gd(t,e,n){var i=null==t?s:Or(t,e);return i===s?n:i}function vd(t,e){return null!=t&&Xa(t,e,Br)}function yd(t,e){return null!=t&&Xa(t,e,$r)}var bd=ba((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=fe.call(e)),t[e]=n}),Ah(Ih)),wd=ba((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=fe.call(e)),de.call(t,e)?t[e].push(n):t[e]=[n]}),qa),kd=ws(qr);function _d(t){return uu(t)?rr(t):ns(t)}function Cd(t){return uu(t)?rr(t,!0):is(t)}function Td(t,e){var n={};return e=qa(e,3),Er(t,(function(t,i,r){fr(n,e(t,i,r),t)})),n}function xd(t,e){var n={};return e=qa(e,3),Er(t,(function(t,i,r){fr(n,i,e(t,i,r))})),n}var Ad=la((function(t,e,n){ls(t,e,n)})),Sd=la((function(t,e,n,i){ls(t,e,n,i)})),Md=Ra((function(t,e){var n={};if(null==t)return n;var i=!1;e=Mn(e,(function(e){return e=qs(e,t),i||(i=e.length>1),e})),ra(t,$a(t),n),i&&(n=vr(n,f|m|g,Na));var r=e.length;while(r--)Ds(n,e[r]);return n}));function Pd(t,e){return Ed(t,Uc(qa(e)))}var Id=Ra((function(t,e){return null==t?{}:hs(t,e)}));function Ed(t,e){if(null==t)return{};var n=Mn($a(t),(function(t){return[t]}));return e=qa(e),ps(t,n,(function(t,n){return e(t,n[0])}))}function Ld(t,e,n){e=qs(e,t);var i=-1,r=e.length;r||(r=1,t=s);while(++i<r){var a=null==t?s:t[Eo(e[i])];a===s&&(i=r,a=n),t=ku(a)?a.call(t):a}return t}function Nd(t,e,n){return null==t?t:Cs(t,e,n)}function Od(t,e,n,i){return i="function"==typeof i?i:s,null==t?t:Cs(t,e,n,i)}var Dd=Pa(_d),jd=Pa(Cd);function Rd(t,e,n){var i=lu(t),r=i||pu(t)||Fu(t);if(e=qa(e,4),null==n){var s=t&&t.constructor;n=r?i?new s:[]:Tu(t)&&ku(s)?Ci(_e(t)):{}}return(r?_n:Er)(t,(function(t,i,r){return e(n,t,i,r)})),n}function Bd(t,e){return null==t||Ds(t,e)}function $d(t,e,n){return null==t?t:js(t,e,zs(n))}function Fd(t,e,n,i){return i="function"==typeof i?i:s,null==t?t:js(t,e,zs(n),i)}function Ud(t){return null==t?[]:Gn(t,_d(t))}function zd(t){return null==t?[]:Gn(t,Cd(t))}function qd(t,e,n){return n===s&&(n=e,e=s),n!==s&&(n=Qu(n),n=n===n?n:0),e!==s&&(e=Qu(e),e=e===e?e:0),gr(Qu(t),e,n)}function Hd(t,e,n){return e=Ku(e),n===s?(n=e,e=0):n=Ku(n),t=Qu(t),Fr(t,e,n)}function Vd(t,e,n){if(n&&"boolean"!=typeof n&&ao(t,e,n)&&(e=n=s),n===s&&("boolean"==typeof e?(n=e,e=s):"boolean"==typeof t&&(n=t,t=s)),t===s&&e===s?(t=0,e=1):(t=Ku(t),e===s?(e=t,t=0):e=Ku(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=We();return Ue(t+r*(e-t+rn("1e-"+((r+"").length-1))),e)}return vs(t,e)}var Wd=pa((function(t,e,n){return e=e.toLowerCase(),t+(n?Kd(e):e)}));function Kd(t){return wh(Xu(t).toLowerCase())}function Yd(t){return t=Xu(t),t&&t.replace(Xt,ni).replace(He,"")}function Jd(t,e,n){t=Xu(t),e=Ns(e);var i=t.length;n=n===s?i:gr(Yu(n),0,i);var r=n;return n-=e.length,n>=0&&t.slice(n,r)==e}function Qd(t){return t=Xu(t),t&&Pt.test(t)?t.replace(St,ii):t}function Gd(t){return t=Xu(t),t&&Rt.test(t)?t.replace(jt,"\\$&"):t}var Zd=pa((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Xd=pa((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),th=ha("toLowerCase");function eh(t,e,n){t=Xu(t),e=Yu(e);var i=e?gi(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return _a(Oe(r),n)+t+_a(Ne(r),n)}function nh(t,e,n){t=Xu(t),e=Yu(e);var i=e?gi(t):0;return e&&i<e?t+_a(e-i,n):t}function ih(t,e,n){t=Xu(t),e=Yu(e);var i=e?gi(t):0;return e&&i<e?_a(e-i,n)+t:t}function rh(t,e,n){return n||null==e?e=0:e&&(e=+e),Ve(Xu(t).replace(Bt,""),e||0)}function sh(t,e,n){return e=(n?ao(t,e,n):e===s)?1:Yu(e),bs(Xu(t),e)}function ah(){var t=arguments,e=Xu(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var oh=pa((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));function lh(t,e,n){return n&&"number"!=typeof n&&ao(t,e,n)&&(e=n=s),n=n===s?F:n>>>0,n?(t=Xu(t),t&&("string"==typeof e||null!=e&&!Du(e))&&(e=Ns(e),!e&&ai(t))?Vs(vi(t),0,n):t.split(e,n)):[]}var ch=pa((function(t,e,n){return t+(n?" ":"")+wh(e)}));function uh(t,e,n){return t=Xu(t),n=null==n?0:gr(Yu(n),0,t.length),e=Ns(e),t.slice(n,n+e.length)==e}function dh(t,e,n){var i=ki.templateSettings;n&&ao(t,e,n)&&(e=s),t=Xu(t),e=nd({},e,i,Ea);var a,o,l=nd({},e.imports,i.imports,Ea),c=_d(l),d=Gn(l,c),h=0,p=e.interpolate||te,f="__p += '",m=ie((e.escape||te).source+"|"+p.source+"|"+(p===Lt?Wt:te).source+"|"+(e.evaluate||te).source+"|$","g"),g="//# sourceURL="+(de.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Qe+"]")+"\n";t.replace(m,(function(e,n,i,r,s,l){return i||(i=r),f+=t.slice(h,l).replace(ee,ri),n&&(a=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),h=l+e.length,e})),f+="';\n";var v=de.call(e,"variable")&&e.variable;if(v){if(Ht.test(v))throw new r(u)}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(Ct,""):f).replace(Tt,"$1").replace(xt,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=_h((function(){return $t(c,g+"return "+f).apply(s,d)}));if(y.source=f,bu(y))throw y;return y}function hh(t){return Xu(t).toLowerCase()}function ph(t){return Xu(t).toUpperCase()}function fh(t,e,n){if(t=Xu(t),t&&(n||e===s))return Jn(t);if(!t||!(e=Ns(e)))return t;var i=vi(t),r=vi(e),a=Xn(i,r),o=ti(i,r)+1;return Vs(i,a,o).join("")}function mh(t,e,n){if(t=Xu(t),t&&(n||e===s))return t.slice(0,yi(t)+1);if(!t||!(e=Ns(e)))return t;var i=vi(t),r=ti(i,vi(e))+1;return Vs(i,0,r).join("")}function gh(t,e,n){if(t=Xu(t),t&&(n||e===s))return t.replace(Bt,"");if(!t||!(e=Ns(e)))return t;var i=vi(t),r=Xn(i,vi(e));return Vs(i,r).join("")}function vh(t,e){var n=P,i=I;if(Tu(e)){var r="separator"in e?e.separator:r;n="length"in e?Yu(e.length):n,i="omission"in e?Ns(e.omission):i}t=Xu(t);var a=t.length;if(ai(t)){var o=vi(t);a=o.length}if(n>=a)return t;var l=n-gi(i);if(l<1)return i;var c=o?Vs(o,0,l).join(""):t.slice(0,l);if(r===s)return c+i;if(o&&(l+=c.length-l),Du(r)){if(t.slice(l).search(r)){var u,d=c;r.global||(r=ie(r.source,Xu(Kt.exec(r))+"g")),r.lastIndex=0;while(u=r.exec(d))var h=u.index;c=c.slice(0,h===s?l:h)}}else if(t.indexOf(Ns(r),l)!=l){var p=c.lastIndexOf(r);p>-1&&(c=c.slice(0,p))}return c+i}function yh(t){return t=Xu(t),t&&Mt.test(t)?t.replace(At,bi):t}var bh=pa((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),wh=ha("toUpperCase");function kh(t,e,n){return t=Xu(t),e=n?s:e,e===s?oi(t)?_i(t):Dn(t):t.match(e)||[]}var _h=ws((function(t,e){try{return wn(t,s,e)}catch(n){return bu(n)?n:new r(n)}})),Ch=Ra((function(t,e){return _n(e,(function(e){e=Eo(e),fr(t,e,Lc(t[e],t))})),t}));function Th(t){var e=null==t?0:t.length,n=qa();return t=e?Mn(t,(function(t){if("function"!=typeof t[1])throw new se(c);return[n(t[0]),t[1]]})):[],ws((function(n){var i=-1;while(++i<e){var r=t[i];if(wn(r[0],this,n))return wn(r[1],this,n)}}))}function xh(t){return yr(vr(t,f))}function Ah(t){return function(){return t}}function Sh(t,e){return null==t||t!==t?e:t}var Mh=va(),Ph=va(!0);function Ih(t){return t}function Eh(t){return es("function"==typeof t?t:vr(t,f))}function Lh(t){return as(vr(t,f))}function Nh(t,e){return os(t,vr(e,f))}var Oh=ws((function(t,e){return function(n){return qr(n,t,e)}})),Dh=ws((function(t,e){return function(n){return qr(t,n,e)}}));function jh(t,e,n){var i=_d(e),r=Nr(e,i);null!=n||Tu(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=Nr(e,_d(e)));var s=!(Tu(n)&&"chain"in n)||!!n.chain,a=ku(t);return _n(r,(function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__),r=n.__actions__=ia(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,Pn([this.value()],arguments))})})),t}function Rh(){return ln._===this&&(ln._=ge),this}function Bh(){}function $h(t){return t=Yu(t),ws((function(e){return us(e,t)}))}var Fh=ka(Mn),Uh=ka(Tn),zh=ka(Ln);function qh(t){return oo(t)?zn(Eo(t)):fs(t)}function Hh(t){return function(e){return null==t?s:Or(t,e)}}var Vh=Ta(),Wh=Ta(!0);function Kh(){return[]}function Yh(){return!1}function Jh(){return{}}function Qh(){return""}function Gh(){return!0}function Zh(t,e){if(t=Yu(t),t<1||t>R)return[];var n=F,i=Ue(t,F);e=qa(e),t-=F;var r=Kn(i,e);while(++n<t)e(n);return r}function Xh(t){return lu(t)?Mn(t,Eo):$u(t)?[t]:ia(Io(Xu(t)))}function tp(t){var e=++he;return Xu(t)+e}var ep=wa((function(t,e){return t+e}),0),np=Sa("ceil"),ip=wa((function(t,e){return t/e}),1),rp=Sa("floor");function sp(t){return t&&t.length?xr(t,Ih,Rr):s}function ap(t,e){return t&&t.length?xr(t,qa(e,2),Rr):s}function op(t){return Un(t,Ih)}function lp(t,e){return Un(t,qa(e,2))}function cp(t){return t&&t.length?xr(t,Ih,rs):s}function up(t,e){return t&&t.length?xr(t,qa(e,2),rs):s}var dp=wa((function(t,e){return t*e}),1),hp=Sa("round"),pp=wa((function(t,e){return t-e}),0);function fp(t){return t&&t.length?Wn(t,Ih):0}function mp(t,e){return t&&t.length?Wn(t,qa(e,2)):0}return ki.after=Pc,ki.ary=Ic,ki.assign=td,ki.assignIn=ed,ki.assignInWith=nd,ki.assignWith=id,ki.at=rd,ki.before=Ec,ki.bind=Lc,ki.bindAll=Ch,ki.bindKey=Nc,ki.castArray=Zc,ki.chain=Vl,ki.chunk=Do,ki.compact=jo,ki.concat=Ro,ki.cond=Th,ki.conforms=xh,ki.constant=Ah,ki.countBy=nc,ki.create=sd,ki.curry=Oc,ki.curryRight=Dc,ki.debounce=jc,ki.defaults=ad,ki.defaultsDeep=od,ki.defer=Rc,ki.delay=Bc,ki.difference=Bo,ki.differenceBy=$o,ki.differenceWith=Fo,ki.drop=Uo,ki.dropRight=zo,ki.dropRightWhile=qo,ki.dropWhile=Ho,ki.fill=Vo,ki.filter=rc,ki.flatMap=oc,ki.flatMapDeep=lc,ki.flatMapDepth=cc,ki.flatten=Yo,ki.flattenDeep=Jo,ki.flattenDepth=Qo,ki.flip=$c,ki.flow=Mh,ki.flowRight=Ph,ki.fromPairs=Go,ki.functions=fd,ki.functionsIn=md,ki.groupBy=hc,ki.initial=tl,ki.intersection=el,ki.intersectionBy=nl,ki.intersectionWith=il,ki.invert=bd,ki.invertBy=wd,ki.invokeMap=fc,ki.iteratee=Eh,ki.keyBy=mc,ki.keys=_d,ki.keysIn=Cd,ki.map=gc,ki.mapKeys=Td,ki.mapValues=xd,ki.matches=Lh,ki.matchesProperty=Nh,ki.memoize=Fc,ki.merge=Ad,ki.mergeWith=Sd,ki.method=Oh,ki.methodOf=Dh,ki.mixin=jh,ki.negate=Uc,ki.nthArg=$h,ki.omit=Md,ki.omitBy=Pd,ki.once=zc,ki.orderBy=vc,ki.over=Fh,ki.overArgs=qc,ki.overEvery=Uh,ki.overSome=zh,ki.partial=Hc,ki.partialRight=Vc,ki.partition=yc,ki.pick=Id,ki.pickBy=Ed,ki.property=qh,ki.propertyOf=Hh,ki.pull=ll,ki.pullAll=cl,ki.pullAllBy=ul,ki.pullAllWith=dl,ki.pullAt=hl,ki.range=Vh,ki.rangeRight=Wh,ki.rearg=Wc,ki.reject=kc,ki.remove=pl,ki.rest=Kc,ki.reverse=fl,ki.sampleSize=Cc,ki.set=Nd,ki.setWith=Od,ki.shuffle=Tc,ki.slice=ml,ki.sortBy=Sc,ki.sortedUniq=_l,ki.sortedUniqBy=Cl,ki.split=lh,ki.spread=Yc,ki.tail=Tl,ki.take=xl,ki.takeRight=Al,ki.takeRightWhile=Sl,ki.takeWhile=Ml,ki.tap=Wl,ki.throttle=Jc,ki.thru=Kl,ki.toArray=Wu,ki.toPairs=Dd,ki.toPairsIn=jd,ki.toPath=Xh,ki.toPlainObject=Gu,ki.transform=Rd,ki.unary=Qc,ki.union=Pl,ki.unionBy=Il,ki.unionWith=El,ki.uniq=Ll,ki.uniqBy=Nl,ki.uniqWith=Ol,ki.unset=Bd,ki.unzip=Dl,ki.unzipWith=jl,ki.update=$d,ki.updateWith=Fd,ki.values=Ud,ki.valuesIn=zd,ki.without=Rl,ki.words=kh,ki.wrap=Gc,ki.xor=Bl,ki.xorBy=$l,ki.xorWith=Fl,ki.zip=Ul,ki.zipObject=zl,ki.zipObjectDeep=ql,ki.zipWith=Hl,ki.entries=Dd,ki.entriesIn=jd,ki.extend=ed,ki.extendWith=nd,jh(ki,ki),ki.add=ep,ki.attempt=_h,ki.camelCase=Wd,ki.capitalize=Kd,ki.ceil=np,ki.clamp=qd,ki.clone=Xc,ki.cloneDeep=eu,ki.cloneDeepWith=nu,ki.cloneWith=tu,ki.conformsTo=iu,ki.deburr=Yd,ki.defaultTo=Sh,ki.divide=ip,ki.endsWith=Jd,ki.eq=ru,ki.escape=Qd,ki.escapeRegExp=Gd,ki.every=ic,ki.find=sc,ki.findIndex=Wo,ki.findKey=ld,ki.findLast=ac,ki.findLastIndex=Ko,ki.findLastKey=cd,ki.floor=rp,ki.forEach=uc,ki.forEachRight=dc,ki.forIn=ud,ki.forInRight=dd,ki.forOwn=hd,ki.forOwnRight=pd,ki.get=gd,ki.gt=su,ki.gte=au,ki.has=vd,ki.hasIn=yd,ki.head=Zo,ki.identity=Ih,ki.includes=pc,ki.indexOf=Xo,ki.inRange=Hd,ki.invoke=kd,ki.isArguments=ou,ki.isArray=lu,ki.isArrayBuffer=cu,ki.isArrayLike=uu,ki.isArrayLikeObject=du,ki.isBoolean=hu,ki.isBuffer=pu,ki.isDate=fu,ki.isElement=mu,ki.isEmpty=gu,ki.isEqual=vu,ki.isEqualWith=yu,ki.isError=bu,ki.isFinite=wu,ki.isFunction=ku,ki.isInteger=_u,ki.isLength=Cu,ki.isMap=Au,ki.isMatch=Su,ki.isMatchWith=Mu,ki.isNaN=Pu,ki.isNative=Iu,ki.isNil=Lu,ki.isNull=Eu,ki.isNumber=Nu,ki.isObject=Tu,ki.isObjectLike=xu,ki.isPlainObject=Ou,ki.isRegExp=Du,ki.isSafeInteger=ju,ki.isSet=Ru,ki.isString=Bu,ki.isSymbol=$u,ki.isTypedArray=Fu,ki.isUndefined=Uu,ki.isWeakMap=zu,ki.isWeakSet=qu,ki.join=rl,ki.kebabCase=Zd,ki.last=sl,ki.lastIndexOf=al,ki.lowerCase=Xd,ki.lowerFirst=th,ki.lt=Hu,ki.lte=Vu,ki.max=sp,ki.maxBy=ap,ki.mean=op,ki.meanBy=lp,ki.min=cp,ki.minBy=up,ki.stubArray=Kh,ki.stubFalse=Yh,ki.stubObject=Jh,ki.stubString=Qh,ki.stubTrue=Gh,ki.multiply=dp,ki.nth=ol,ki.noConflict=Rh,ki.noop=Bh,ki.now=Mc,ki.pad=eh,ki.padEnd=nh,ki.padStart=ih,ki.parseInt=rh,ki.random=Vd,ki.reduce=bc,ki.reduceRight=wc,ki.repeat=sh,ki.replace=ah,ki.result=Ld,ki.round=hp,ki.runInContext=t,ki.sample=_c,ki.size=xc,ki.snakeCase=oh,ki.some=Ac,ki.sortedIndex=gl,ki.sortedIndexBy=vl,ki.sortedIndexOf=yl,ki.sortedLastIndex=bl,ki.sortedLastIndexBy=wl,ki.sortedLastIndexOf=kl,ki.startCase=ch,ki.startsWith=uh,ki.subtract=pp,ki.sum=fp,ki.sumBy=mp,ki.template=dh,ki.times=Zh,ki.toFinite=Ku,ki.toInteger=Yu,ki.toLength=Ju,ki.toLower=hh,ki.toNumber=Qu,ki.toSafeInteger=Zu,ki.toString=Xu,ki.toUpper=ph,ki.trim=fh,ki.trimEnd=mh,ki.trimStart=gh,ki.truncate=vh,ki.unescape=yh,ki.uniqueId=tp,ki.upperCase=bh,ki.upperFirst=wh,ki.each=uc,ki.eachRight=dc,ki.first=Zo,jh(ki,function(){var t={};return Er(ki,(function(e,n){de.call(ki.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),ki.VERSION=a,_n(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){ki[t].placeholder=ki})),_n(["drop","take"],(function(t,e){Si.prototype[t]=function(n){n=n===s?1:Fe(Yu(n),0);var i=this.__filtered__&&!e?new Si(this):this.clone();return i.__filtered__?i.__takeCount__=Ue(n,i.__takeCount__):i.__views__.push({size:Ue(n,F),type:t+(i.__dir__<0?"Right":"")}),i},Si.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),_n(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=n==N||n==D;Si.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:qa(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),_n(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Si.prototype[t]=function(){return this[n](1).value()[0]}})),_n(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Si.prototype[t]=function(){return this.__filtered__?new Si(this):this[n](1)}})),Si.prototype.compact=function(){return this.filter(Ih)},Si.prototype.find=function(t){return this.filter(t).head()},Si.prototype.findLast=function(t){return this.reverse().find(t)},Si.prototype.invokeMap=ws((function(t,e){return"function"==typeof t?new Si(this):this.map((function(n){return qr(n,t,e)}))})),Si.prototype.reject=function(t){return this.filter(Uc(qa(t)))},Si.prototype.slice=function(t,e){t=Yu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Si(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==s&&(e=Yu(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},Si.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Si.prototype.toArray=function(){return this.take(F)},Er(Si.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=ki[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);r&&(ki.prototype[e]=function(){var e=this.__wrapped__,o=i?[1]:arguments,l=e instanceof Si,c=o[0],u=l||lu(e),d=function(t){var e=r.apply(ki,Pn([t],o));return i&&h?e[0]:e};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,p=!!this.__actions__.length,f=a&&!h,m=l&&!p;if(!a&&u){e=m?e:new Si(this);var g=t.apply(e,o);return g.__actions__.push({func:Kl,args:[d],thisArg:s}),new Ai(g,h)}return f&&m?t.apply(this,o):(g=this.thru(d),f?i?g.value()[0]:g.value():g)})})),_n(["pop","push","shift","sort","splice","unshift"],(function(t){var e=ae[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);ki.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(lu(r)?r:[],t)}return this[n]((function(n){return e.apply(lu(n)?n:[],t)}))}})),Er(Si.prototype,(function(t,e){var n=ki[e];if(n){var i=n.name+"";de.call(cn,i)||(cn[i]=[]),cn[i].push({name:e,func:n})}})),cn[ya(s,w).name]=[{name:"wrapper",func:s}],Si.prototype.clone=Mi,Si.prototype.reverse=Pi,Si.prototype.value=Ii,ki.prototype.at=Yl,ki.prototype.chain=Jl,ki.prototype.commit=Ql,ki.prototype.next=Gl,ki.prototype.plant=Xl,ki.prototype.reverse=tc,ki.prototype.toJSON=ki.prototype.valueOf=ki.prototype.value=ec,ki.prototype.first=ki.prototype.head,Se&&(ki.prototype[Se]=Zl),ki},Ti=Ci();ln._=Ti,r=function(){return Ti}.call(e,n,e,i),r===s||(i.exports=r)}).call(this)}).call(this,n("c8ba"),n("62e4")(t))},"2f3a":function(t,e,n){const i=n("bbf0"),r=n("7bf0");function s(t){this.mode=i.KANJI,this.data=t}s.getBitsLength=function(t){return 13*t},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=r.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),t.put(n,13)}},t.exports=s},3020:function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cover",class:{"cover-hover":t.coverHover},on:{mouseover:function(e){t.focus=!0},mouseleave:function(e){t.focus=!1},click:function(e){t.clickCoverToPlay?t.play():t.goTo()}}},[e("div",{staticClass:"cover-container"},[e("div",{staticClass:"shade"},[e("button",{directives:[{name:"show",rawName:"v-show",value:t.focus,expression:"focus"}],staticClass:"play-button",style:t.playButtonStyles,on:{click:function(e){return e.stopPropagation(),t.play()}}},[e("svg-icon",{attrs:{"icon-class":"play"}})],1)]),e("img",{style:t.imageStyles,attrs:{src:t.imgUrl,loading:"lazy"}}),t.coverHover||t.alwaysShowShadow?e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.focus||t.alwaysShowShadow,expression:"focus || alwaysShowShadow"}],staticClass:"shadow",style:t.shadowStyles})]):t._e()],1)])},r=[],s=(n("14d9"),{props:{id:{type:Number,required:!0},type:{type:String,required:!0},imgUrl:{type:String,required:!0},fixedSize:{type:Number,default:0},playButtonSize:{type:Number,default:22},coverHover:{type:Boolean,default:!0},alwaysShowPlayButton:{type:Boolean,default:!0},alwaysShowShadow:{type:Boolean,default:!1},clickCoverToPlay:{type:Boolean,default:!1},shadowMargin:{type:Number,default:12},radius:{type:Number,default:12}},data(){return{focus:!1}},computed:{imageStyles(){let t={};return 0!==this.fixedSize&&(t.width=this.fixedSize+"px",t.height=this.fixedSize+"px"),"artist"===this.type&&(t.borderRadius="50%"),t},playButtonStyles(){let t={};return t.width=this.playButtonSize+"%",t.height=this.playButtonSize+"%",t},shadowStyles(){let t={};return t.backgroundImage=`url(${this.imgUrl})`,"artist"===this.type&&(t.borderRadius="50%"),t}},methods:{play(){const t=this.$store.state.player,e={album:t.playAlbumByID,playlist:t.playPlaylistByID,artist:t.playArtistByID};e[this.type].bind(t)(this.id)},goTo(){this.$router.push({name:this.type,params:{id:this.id}})}}}),a=s,o=(n("e481"),n("0c7c")),l=Object(o["a"])(a,i,r,!1,null,"70007bd9",null);e["a"]=l.exports},"32f42":function(t,e,n){},"34f2":function(t,e,n){"use strict";n("3e5b")},"34fc":function(t,e,n){const i=n("7a43"),r=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],s=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case i.L:return r[4*(t-1)+0];case i.M:return r[4*(t-1)+1];case i.Q:return r[4*(t-1)+2];case i.H:return r[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case i.L:return s[4*(t-1)+0];case i.M:return s[4*(t-1)+1];case i.Q:return s[4*(t-1)+2];case i.H:return s[4*(t-1)+3];default:return}}},"3e5b":function(t,e,n){},"3fcc":function(t,e,n){},4006:function(t,e,n){const i=n("45be");function r(t,e){const n=t.a/255,i=e+'="'+t.hex+'"';return n<1?i+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':i}function s(t,e,n){let i=t+e;return"undefined"!==typeof n&&(i+=" "+n),i}function a(t,e,n){let i="",r=0,a=!1,o=0;for(let l=0;l<t.length;l++){const c=Math.floor(l%e),u=Math.floor(l/e);c||a||(a=!0),t[l]?(o++,l>0&&c>0&&t[l-1]||(i+=a?s("M",c+n,.5+u+n):s("m",r,0),r=0,a=!1),c+1<e&&t[l+1]||(i+=s("h",o),o=0)):r++}return i}e.render=function(t,e,n){const s=i.getOptions(e),o=t.modules.size,l=t.modules.data,c=o+2*s.margin,u=s.color.light.a?"<path "+r(s.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",d="<path "+r(s.color.dark,"stroke")+' d="'+a(l,o,s.margin)+'"/>',h='viewBox="0 0 '+c+" "+c+'"',p=s.width?'width="'+s.width+'" height="'+s.width+'" ':"",f='<svg xmlns="http://www.w3.org/2000/svg" '+p+h+' shape-rendering="crispEdges">'+u+d+"</svg>\n";return"function"===typeof n&&n(null,f),f}},41344:function(t,e,n){},4146:function(t,e,n){const i=n("45be");function r(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}function s(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}e.render=function(t,e,n){let a=n,o=e;"undefined"!==typeof a||e&&e.getContext||(a=e,e=void 0),e||(o=s()),a=i.getOptions(a);const l=i.getImageWidth(t.modules.size,a),c=o.getContext("2d"),u=c.createImageData(l,l);return i.qrToImageData(u.data,t,a),r(c,o,l),c.putImageData(u,0,0),o},e.renderToDataURL=function(t,n,i){let r=i;"undefined"!==typeof r||n&&n.getContext||(r=n,n=void 0),r||(r={});const s=e.render(t,n,r),a=r.type||"image/png",o=r.rendererOpts||{};return s.toDataURL(a,o.quality)}},4497:function(t,e,n){},4502:function(t,e,n){},"45be":function(t,e){function n(t){if("number"===typeof t&&(t=t.toString()),"string"!==typeof t)throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push("F","F");const n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});const e="undefined"===typeof t.margin||null===t.margin||t.margin<0?4:t.margin,i=t.width&&t.width>=21?t.width:void 0,r=t.scale||4;return{width:i,scale:i?4:r,margin:e,color:{dark:n(t.color.dark||"#000000ff"),light:n(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,n){const i=e.getScale(t,n);return Math.floor((t+2*n.margin)*i)},e.qrToImageData=function(t,n,i){const r=n.modules.size,s=n.modules.data,a=e.getScale(r,i),o=Math.floor((r+2*i.margin)*a),l=i.margin*a,c=[i.color.light,i.color.dark];for(let e=0;e<o;e++)for(let n=0;n<o;n++){let u=4*(e*o+n),d=i.color.light;if(e>=l&&n>=l&&e<o-l&&n<o-l){const t=Math.floor((e-l)/a),i=Math.floor((n-l)/a);d=c[s[t*r+i]?1:0]}t[u++]=d.r,t[u++]=d.g,t[u++]=d.b,t[u]=d.a}}},"4a3e":function(t,e,n){"use strict";n("6581")},"4e22":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"search-page"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.artists.length>0||t.albums.length>0,expression:"artists.length > 0 || albums.length > 0"}],staticClass:"row"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.artists.length>0,expression:"artists.length > 0"}],staticClass:"artists"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.artists.length>0,expression:"artists.length > 0"}],staticClass:"section-title"},[t._v(t._s(t.$t("search.artist"))),e("router-link",{attrs:{to:`/search/${t.keywords}/artists`}},[t._v(t._s(t.$t("home.seeMore")))])],1),e("CoverRow",{attrs:{type:"artist","column-number":3,items:t.artists.slice(0,3),gap:"34px 24px"}})],1),e("div",{staticClass:"albums"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.albums.length>0,expression:"albums.length > 0"}],staticClass:"section-title"},[t._v(t._s(t.$t("search.album"))),e("router-link",{attrs:{to:`/search/${t.keywords}/albums`}},[t._v(t._s(t.$t("home.seeMore")))])],1),e("CoverRow",{attrs:{type:"album",items:t.albums.slice(0,3),"sub-text":"artist","column-number":3,"sub-text-font-size":"14px",gap:"34px 24px","play-button-size":26}})],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tracks.length>0,expression:"tracks.length > 0"}],staticClass:"tracks"},[e("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.song"))),e("router-link",{attrs:{to:`/search/${t.keywords}/tracks`}},[t._v(t._s(t.$t("home.seeMore")))])],1),e("TrackList",{attrs:{tracks:t.tracks,type:"tracklist"}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.musicVideos.length>0,expression:"musicVideos.length > 0"}],staticClass:"music-videos"},[e("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.mv"))),e("router-link",{attrs:{to:`/search/${t.keywords}/music-videos`}},[t._v(t._s(t.$t("home.seeMore")))])],1),e("MvRow",{attrs:{mvs:t.musicVideos.slice(0,5)}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.playlists.length>0,expression:"playlists.length > 0"}],staticClass:"playlists"},[e("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.playlist"))),e("router-link",{attrs:{to:`/search/${t.keywords}/playlists`}},[t._v(t._s(t.$t("home.seeMore")))])],1),e("CoverRow",{attrs:{type:"playlist",items:t.playlists.slice(0,12),"sub-text":"title","column-number":6,"sub-text-font-size":"14px",gap:"34px 24px","play-button-size":26}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.haveResult,expression:"!haveResult"}],staticClass:"no-results"},[e("div",[e("svg-icon",{attrs:{"icon-class":"search"}}),t._v(" "+t._s(0===t.keywords.length?"输入关键字搜索":t.$t("search.noResult")))],1)])])},r=[],s=n("2f62"),a=n("fefb"),o=n("dad3"),l=n("323e"),c=n.n(l),u=n("a1a1"),d=n("d4e3"),h=n("2726"),p={name:"Search",components:{TrackList:u["a"],MvRow:d["a"],CoverRow:h["a"]},data(){return{show:!1,tracks:[],artists:[],albums:[],playlists:[],musicVideos:[]}},computed:{keywords(){var t;return null!==(t=this.$route.params.keywords)&&void 0!==t?t:""},haveResult(){return this.tracks.length+this.artists.length+this.albums.length+this.playlists.length+this.musicVideos.length>0}},watch:{keywords:function(t){0!==t.length&&this.getData()}},created(){this.getData()},methods:{...Object(s["b"])(["showToast"]),playTrackInSearchResult(t){let e=this.tracks.find(e=>e.id===t);this.$store.state.player.appendTrackToPlayerList(e,!0)},search(t="all"){let e=this.showToast;const n={all:1018,musicVideos:1004,tracks:1,albums:10,artists:100,playlists:1e3};return Object(o["c"])({keywords:this.keywords,type:n[t],limit:16}).then(e=>({result:e.result,type:t})).catch(t=>{e(t.response.data.msg||t.response.data.message)})},getData(){setTimeout(()=>{this.show||c.a.start()},1e3),this.show=!1;const t=t=>{const e=this.keywords;Promise.all(t).then(t=>{e==this.keywords&&(t.map(t=>{var e,n,i,r,s;const a=t.type;if(void 0!==t.result)switch(t=t.result,a){case"all":this.result=t;break;case"musicVideos":this.musicVideos=null!==(e=t.mvs)&&void 0!==e?e:[];break;case"artists":this.artists=null!==(n=t.artists)&&void 0!==n?n:[];break;case"albums":this.albums=null!==(i=t.albums)&&void 0!==i?i:[];break;case"tracks":this.tracks=null!==(r=t.songs)&&void 0!==r?r:[],this.getTracksDetail();break;case"playlists":this.playlists=null!==(s=t.playlists)&&void 0!==s?s:[];break}}),c.a.done(),this.show=!0)})},e=[this.search("artists"),this.search("albums"),this.search("tracks")],n=[this.search("musicVideos"),this.search("playlists")];t(e),t(n)},getTracksDetail(){const t=this.tracks.map(t=>t.id);0!==t.length&&Object(a["c"])(t.join(",")).then(t=>{this.tracks=t.songs})}}},f=p,m=(n("e57c"),n("0c7c")),g=Object(m["a"])(f,i,r,!1,null,"67ed526a",null);e["default"]=g.exports},"4fb8":function(t,e,n){(function(e){"object"==typeof navigator&&function(e,n){t.exports=n()}(0,(function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,s=t}finally{try{i||null==o.return||o.return()}finally{if(r)throw s}}return n}}(t,e)||d(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v={addCSS:!0,thumbWidth:15,watch:!0};function y(t,e){return function(){return Array.from(document.querySelectorAll(e)).includes(this)}.call(t,e)}var b=function(t){return null!=t?t.constructor:null},w=function(t,e){return!!(t&&e&&t instanceof e)},k=function(t){return null==t},_=function(t){return b(t)===Object},C=function(t){return b(t)===String},T=function(t){return Array.isArray(t)},x=function(t){return w(t,NodeList)},A=C,S=T,M=x,P=function(t){return w(t,Element)},I=function(t){return w(t,Event)},E=function(t){return k(t)||(C(t)||T(t)||x(t))&&!t.length||_(t)&&!Object.keys(t).length};function L(t,e){if(1>e){var n=function(t){var e="".concat(t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}(e);return parseFloat(t.toFixed(n))}return Math.round(t/e)*e}var N,O,D,j=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),P(e)?this.element=e:A(e)&&(this.element=document.querySelector(e)),P(this.element)&&E(this.element.rangeTouch)&&(this.config=g({},v,{},n),this.init())}return function(t,e,n){e&&p(t.prototype,e),n&&p(t,n)}(t,[{key:"init",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(t){var e=this,n=t?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(t){e.element[n](t,(function(t){return e.set(t)}),!1)}))}},{key:"get",value:function(e){if(!t.enabled||!I(e))return null;var n,i=e.target,r=e.changedTouches[0],s=parseFloat(i.getAttribute("min"))||0,a=parseFloat(i.getAttribute("max"))||100,o=parseFloat(i.getAttribute("step"))||1,l=i.getBoundingClientRect(),c=100/l.width*(this.config.thumbWidth/2)/100;return 0>(n=100/l.width*(r.clientX-l.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*c:50<n&&(n+=2*(n-50)*c),s+L(n/100*(a-s),o)}},{key:"set",value:function(e){t.enabled&&I(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),function(t,e){if(t&&e){var n=new Event(e,{bubbles:!0});t.dispatchEvent(n)}}(e.target,"touchend"===e.type?"change":"input"))}}],[{key:"setup",value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=null;if(E(e)||A(e)?i=Array.from(document.querySelectorAll(A(e)?e:'input[type="range"]')):P(e)?i=[e]:M(e)?i=Array.from(e):S(e)&&(i=e.filter(P)),E(i))return null;var r=g({},v,{},n);if(A(e)&&r.watch){var s=new MutationObserver((function(n){Array.from(n).forEach((function(n){Array.from(n.addedNodes).forEach((function(n){P(n)&&y(n,e)&&new t(n,r)}))}))}));s.observe(document.body,{childList:!0,subtree:!0})}return i.map((function(e){return new t(e,n)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),t}(),R=function(t){return null!=t?t.constructor:null},B=function(t,e){return Boolean(t&&e&&t instanceof e)},$=function(t){return null==t},F=function(t){return R(t)===Object},U=function(t){return R(t)===String},z=function(t){return R(t)===Function},q=function(t){return Array.isArray(t)},H=function(t){return B(t,NodeList)},V=function(t){return $(t)||(U(t)||q(t)||H(t))&&!t.length||F(t)&&!Object.keys(t).length},W=$,K=F,Y=function(t){return R(t)===Number&&!Number.isNaN(t)},J=U,Q=function(t){return R(t)===Boolean},G=z,Z=q,X=H,tt=function(e){return null!==e&&"object"===t(e)&&1===e.nodeType&&"object"===t(e.style)&&"object"===t(e.ownerDocument)},et=function(t){return B(t,Event)},nt=function(t){return B(t,KeyboardEvent)},it=function(t){return B(t,TextTrack)||!$(t)&&U(t.kind)},rt=function(t){return B(t,Promise)&&z(t.then)},st=function(t){if(B(t,window.URL))return!0;if(!U(t))return!1;var e=t;t.startsWith("http://")&&t.startsWith("https://")||(e="http://".concat(t));try{return!V(new URL(e).hostname)}catch(t){return!1}},at=V,ot=(N=document.createElement("span"),O={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},D=Object.keys(O).find((function(t){return void 0!==N.style[t]})),!!J(D)&&O[D]);function lt(t,e){setTimeout((function(){try{t.hidden=!0,t.offsetHeight,t.hidden=!1}catch(t){}}),e)}var ct={isIE:
/* @cc_on!@ */
!!document.documentMode,isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function ut(t,e){return e.split(".").reduce((function(t,e){return t&&t[e]}),t)}function dt(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(!n.length)return t;var r=n.shift();return K(r)?(Object.keys(r).forEach((function(e){K(r[e])?(Object.keys(t).includes(e)||Object.assign(t,s({},e,{})),dt(t[e],r[e])):Object.assign(t,s({},e,r[e]))})),dt.apply(void 0,[t].concat(n))):t}function ht(t,e){var n=t.length?t:[t];Array.from(n).reverse().forEach((function(t,n){var i=n>0?e.cloneNode(!0):e,r=t.parentNode,s=t.nextSibling;i.appendChild(t),s?r.insertBefore(i,s):r.appendChild(i)}))}function pt(t,e){tt(t)&&!at(e)&&Object.entries(e).filter((function(t){var e=c(t,2)[1];return!W(e)})).forEach((function(e){var n=c(e,2),i=n[0],r=n[1];return t.setAttribute(i,r)}))}function ft(t,e,n){var i=document.createElement(t);return K(e)&&pt(i,e),J(n)&&(i.innerText=n),i}function mt(t,e,n,i){tt(e)&&e.appendChild(ft(t,n,i))}function gt(t){X(t)||Z(t)?Array.from(t).forEach(gt):tt(t)&&tt(t.parentNode)&&t.parentNode.removeChild(t)}function vt(t){if(tt(t))for(var e=t.childNodes.length;e>0;)t.removeChild(t.lastChild),e-=1}function yt(t,e){return tt(e)&&tt(e.parentNode)&&tt(t)?(e.parentNode.replaceChild(t,e),t):null}function bt(t,e){if(!J(t)||at(t))return{};var n={},i=dt({},e);return t.split(",").forEach((function(t){var e=t.trim(),r=e.replace(".",""),s=e.replace(/[[\]]/g,"").split("="),a=c(s,1)[0],o=s.length>1?s[1].replace(/["']/g,""):"";switch(e.charAt(0)){case".":J(i.class)?n.class="".concat(i.class," ").concat(r):n.class=r;break;case"#":n.id=e.replace("#","");break;case"[":n[a]=o}})),dt(i,n)}function wt(t,e){if(tt(t)){var n=e;Q(n)||(n=!t.hidden),t.hidden=n}}function kt(t,e,n){if(X(t))return Array.from(t).map((function(t){return kt(t,e,n)}));if(tt(t)){var i="toggle";return void 0!==n&&(i=n?"add":"remove"),t.classList[i](e),t.classList.contains(e)}return!1}function _t(t,e){return tt(t)&&t.classList.contains(e)}function Ct(t,e){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(e)).includes(this)}).call(t,e)}function Tt(t){return this.elements.container.querySelectorAll(t)}function xt(t){return this.elements.container.querySelector(t)}function At(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];tt(t)&&(t.focus({preventScroll:!0}),e&&kt(t,this.config.classNames.tabFocus))}var St,Mt={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},Pt={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(t,e,n){var i=ct.isIPhone&&n&&Pt.playsinline,r=Pt[t]||"html5"!==e;return{api:r,ui:r&&Pt.rangeInput&&("video"!==t||!ct.isIPhone||i)}},pip:!(ct.isIPhone||!G(ft("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||ft("video").disablePictureInPicture)),airplay:G(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(t){if(at(t))return!1;var e=c(t.split("/"),1)[0],n=t;if(!this.isHTML5||e!==this.type)return!1;Object.keys(Mt).includes(n)&&(n+='; codecs="'.concat(Mt[t],'"'));try{return Boolean(n&&this.media.canPlayType(n).replace(/no/,""))}catch(t){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(St=document.createElement("input"),St.type="range","range"===St.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==ot,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},It=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0,null}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(t){}return t}();function Et(t,e,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(t&&"addEventListener"in t&&!at(e)&&G(n)){var o=e.split(" "),l=a;It&&(l={passive:s,capture:a}),o.forEach((function(e){i&&i.eventListeners&&r&&i.eventListeners.push({element:t,type:e,callback:n,options:l}),t[r?"addEventListener":"removeEventListener"](e,n,l)}))}}function Lt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Et.call(this,t,e,n,!0,i,r)}function Nt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Et.call(this,t,e,n,!1,i,r)}function Ot(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function a(){Nt(t,n,a,r,s);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];i.apply(e,l)};Et.call(this,t,n,a,!0,r,s)}function Dt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(tt(t)&&!at(e)){var r=new CustomEvent(e,{bubbles:n,detail:o(o({},i),{},{plyr:this})});t.dispatchEvent(r)}}function jt(){this&&this.eventListeners&&(this.eventListeners.forEach((function(t){var e=t.element,n=t.type,i=t.callback,r=t.options;e.removeEventListener(n,i,r)})),this.eventListeners=[])}function Rt(){var t=this;return new Promise((function(e){return t.ready?setTimeout(e,0):Lt.call(t,t.elements.container,"ready",e)})).then((function(){}))}function Bt(t){rt(t)&&t.then(null,(function(){}))}function $t(t){return!!(Z(t)||J(t)&&t.includes(":"))&&(Z(t)?t:t.split(":")).map(Number).every(Y)}function Ft(t){if(!Z(t)||!t.every(Y))return null;var e=c(t,2),n=e[0],i=e[1],r=function t(e,n){return 0===n?e:t(n,e%n)}(n,i);return[n/r,i/r]}function Ut(t){var e=function(t){return $t(t)?t.split(":").map(Number):null},n=e(t);if(null===n&&(n=e(this.config.ratio)),null===n&&!at(this.embed)&&Z(this.embed.ratio)&&(n=this.embed.ratio),null===n&&this.isHTML5){var i=this.media;n=Ft([i.videoWidth,i.videoHeight])}return n}function zt(t){if(!this.isVideo)return{};var e=this.elements.wrapper,n=Ut.call(this,t),i=c(Z(n)?n:[0,0],2),r=100/i[0]*i[1];if(e.style.paddingBottom="".concat(r,"%"),this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){var s=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),a=(s-r)/(s/50);this.fullscreen.active?e.style.paddingBottom=null:this.media.style.transform="translateY(-".concat(a,"%)")}else this.isHTML5&&e.classList.toggle(this.config.classNames.videoFixedRatio,null!==n);return{padding:r,ratio:n}}var qt={getSources:function(){var t=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter((function(e){var n=e.getAttribute("type");return!!at(n)||Pt.mime.call(t,n)})):[]},getQualityOptions:function(){return this.config.quality.forced?this.config.quality.options:qt.getSources.call(this).map((function(t){return Number(t.getAttribute("size"))})).filter(Boolean)},setup:function(){if(this.isHTML5){var t=this;t.options.speed=t.config.speed.options,at(this.config.ratio)||zt.call(t),Object.defineProperty(t.media,"quality",{get:function(){var e=qt.getSources.call(t).find((function(e){return e.getAttribute("src")===t.source}));return e&&Number(e.getAttribute("size"))},set:function(e){if(t.quality!==e){if(t.config.quality.forced&&G(t.config.quality.onChange))t.config.quality.onChange(e);else{var n=qt.getSources.call(t).find((function(t){return Number(t.getAttribute("size"))===e}));if(!n)return;var i=t.media,r=i.currentTime,s=i.paused,a=i.preload,o=i.readyState,l=i.playbackRate;t.media.src=n.getAttribute("src"),("none"!==a||o)&&(t.once("loadedmetadata",(function(){t.speed=l,t.currentTime=r,s||Bt(t.play())})),t.media.load())}Dt.call(t,t.media,"qualitychange",!1,{quality:e})}}})}},cancelRequests:function(){this.isHTML5&&(gt(qt.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function Ht(t){return Z(t)?t.filter((function(e,n){return t.indexOf(e)===n})):t}function Vt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return at(t)?t:t.toString().replace(/{(\d+)}/g,(function(t,e){return n[e].toString()}))}var Wt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t.replace(new RegExp(e.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString())},Kt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.toString().replace(/\w\S*/g,(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}))};function Yt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.toString();return e=Wt(e,"-"," "),e=Wt(e,"_"," "),e=Kt(e),Wt(e," ","")}function Jt(t){var e=document.createElement("div");return e.appendChild(t),e.innerHTML}var Qt={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Gt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(at(t)||at(e))return"";var n=ut(e.i18n,t);if(at(n))return Object.keys(Qt).includes(t)?Qt[t]:"";var i={"{seektime}":e.seekTime,"{title}":e.title};return Object.entries(i).forEach((function(t){var e=c(t,2),i=e[0],r=e[1];n=Wt(n,i,r)})),n},Zt=function(){function t(e){var i=this;n(this,t),s(this,"get",(function(e){if(!t.supported||!i.enabled)return null;var n=window.localStorage.getItem(i.key);if(at(n))return null;var r=JSON.parse(n);return J(e)&&e.length?r[e]:r})),s(this,"set",(function(e){if(t.supported&&i.enabled&&K(e)){var n=i.get();at(n)&&(n={}),dt(n,e),window.localStorage.setItem(i.key,JSON.stringify(n))}})),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}return r(t,null,[{key:"supported",get:function(){try{if(!("localStorage"in window))return!1;var t="___test";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(t){return!1}}}]),t}();function Xt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return new Promise((function(n,i){try{var r=new XMLHttpRequest;if(!("withCredentials"in r))return;r.addEventListener("load",(function(){if("text"===e)try{n(JSON.parse(r.responseText))}catch(t){n(r.responseText)}else n(r.response)})),r.addEventListener("error",(function(){throw new Error(r.status)})),r.open("GET",t,!0),r.responseType=e,r.send()}catch(t){i(t)}}))}function te(t,e){if(J(t)){var n="cache",i=J(e),r=function(){return null!==document.getElementById(e)},s=function(t,e){t.innerHTML=e,i&&r()||document.body.insertAdjacentElement("afterbegin",t)};if(!i||!r()){var a=Zt.supported,o=document.createElement("div");if(o.setAttribute("hidden",""),i&&o.setAttribute("id",e),a){var l=window.localStorage.getItem("".concat(n,"-").concat(e));if(null!==l){var c=JSON.parse(l);s(o,c.content)}}Xt(t).then((function(t){at(t)||(a&&window.localStorage.setItem("".concat(n,"-").concat(e),JSON.stringify({content:t})),s(o,t))})).catch((function(){}))}}}var ee=function(t){return Math.trunc(t/60/60%60,10)},ne=function(t){return Math.trunc(t/60%60,10)},ie=function(t){return Math.trunc(t%60,10)};function re(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Y(t))return re(void 0,e,n);var i=function(t){return"0".concat(t).slice(-2)},r=ee(t),s=ne(t),a=ie(t);return r=e||r>0?"".concat(r,":"):"","".concat(n&&t>0?"-":"").concat(r).concat(i(s),":").concat(i(a))}var se={getIconUrl:function(){var t=new URL(this.config.iconUrl,window.location).host!==window.location.host||ct.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:t}},findElements:function(){try{return this.elements.controls=xt.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:Tt.call(this,this.config.selectors.buttons.play),pause:xt.call(this,this.config.selectors.buttons.pause),restart:xt.call(this,this.config.selectors.buttons.restart),rewind:xt.call(this,this.config.selectors.buttons.rewind),fastForward:xt.call(this,this.config.selectors.buttons.fastForward),mute:xt.call(this,this.config.selectors.buttons.mute),pip:xt.call(this,this.config.selectors.buttons.pip),airplay:xt.call(this,this.config.selectors.buttons.airplay),settings:xt.call(this,this.config.selectors.buttons.settings),captions:xt.call(this,this.config.selectors.buttons.captions),fullscreen:xt.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=xt.call(this,this.config.selectors.progress),this.elements.inputs={seek:xt.call(this,this.config.selectors.inputs.seek),volume:xt.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:xt.call(this,this.config.selectors.display.buffer),currentTime:xt.call(this,this.config.selectors.display.currentTime),duration:xt.call(this,this.config.selectors.display.duration)},tt(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(t){return this.debug.warn("It looks like there is a problem with your custom controls HTML",t),this.toggleNativeControls(!0),!1}},createIcon:function(t,e){var n="http://www.w3.org/2000/svg",i=se.getIconUrl.call(this),r="".concat(i.cors?"":i.url,"#").concat(this.config.iconPrefix),s=document.createElementNS(n,"svg");pt(s,dt(e,{"aria-hidden":"true",focusable:"false"}));var a=document.createElementNS(n,"use"),o="".concat(r,"-").concat(t);return"href"in a&&a.setAttributeNS("http://www.w3.org/1999/xlink","href",o),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o),s.appendChild(a),s},createLabel:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Gt(t,this.config),i=o(o({},e),{},{class:[e.class,this.config.classNames.hidden].filter(Boolean).join(" ")});return ft("span",i,n)},createBadge:function(t){if(at(t))return null;var e=ft("span",{class:this.config.classNames.menu.value});return e.appendChild(ft("span",{class:this.config.classNames.menu.badge},t)),e},createButton:function(t,e){var n=this,i=dt({},e),r=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return(t=Yt(t)).charAt(0).toLowerCase()+t.slice(1)}(t),s={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((function(t){Object.keys(i).includes(t)&&(s[t]=i[t],delete i[t])})),"button"!==s.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some((function(t){return t===n.config.classNames.control}))||dt(i,{class:"".concat(i.class," ").concat(this.config.classNames.control)}):i.class=this.config.classNames.control,t){case"play":s.toggle=!0,s.label="play",s.labelPressed="pause",s.icon="play",s.iconPressed="pause";break;case"mute":s.toggle=!0,s.label="mute",s.labelPressed="unmute",s.icon="volume",s.iconPressed="muted";break;case"captions":s.toggle=!0,s.label="enableCaptions",s.labelPressed="disableCaptions",s.icon="captions-off",s.iconPressed="captions-on";break;case"fullscreen":s.toggle=!0,s.label="enterFullscreen",s.labelPressed="exitFullscreen",s.icon="enter-fullscreen",s.iconPressed="exit-fullscreen";break;case"play-large":i.class+=" ".concat(this.config.classNames.control,"--overlaid"),r="play",s.label="play",s.icon="play";break;default:at(s.label)&&(s.label=r),at(s.icon)&&(s.icon=t)}var a=ft(s.element);return s.toggle?(a.appendChild(se.createIcon.call(this,s.iconPressed,{class:"icon--pressed"})),a.appendChild(se.createIcon.call(this,s.icon,{class:"icon--not-pressed"})),a.appendChild(se.createLabel.call(this,s.labelPressed,{class:"label--pressed"})),a.appendChild(se.createLabel.call(this,s.label,{class:"label--not-pressed"}))):(a.appendChild(se.createIcon.call(this,s.icon)),a.appendChild(se.createLabel.call(this,s.label))),dt(i,bt(this.config.selectors.buttons[r],i)),pt(a,i),"play"===r?(Z(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(a)):this.elements.buttons[r]=a,a},createRange:function(t,e){var n=ft("input",dt(bt(this.config.selectors.inputs[t]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Gt(t,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},e));return this.elements.inputs[t]=n,se.updateRangeFill.call(this,n),j.setup(n),n},createProgress:function(t,e){var n=ft("progress",dt(bt(this.config.selectors.display[t]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},e));if("volume"!==t){n.appendChild(ft("span",null,"0"));var i={played:"played",buffer:"buffered"}[t],r=i?Gt(i,this.config):"";n.innerText="% ".concat(r.toLowerCase())}return this.elements.display[t]=n,n},createTime:function(t,e){var n=bt(this.config.selectors.display[t],e),i=ft("div",dt(n,{class:"".concat(n.class?n.class:""," ").concat(this.config.classNames.display.time," ").trim(),"aria-label":Gt(t,this.config)}),"00:00");return this.elements.display[t]=i,i},bindMenuItemShortcuts:function(t,e){var n=this;Lt.call(this,t,"keydown keyup",(function(i){if([32,38,39,40].includes(i.which)&&(i.preventDefault(),i.stopPropagation(),"keydown"!==i.type)){var r,s=Ct(t,'[role="menuitemradio"]');!s&&[32,39].includes(i.which)?se.showMenuPanel.call(n,e,!0):32!==i.which&&(40===i.which||s&&39===i.which?(r=t.nextElementSibling,tt(r)||(r=t.parentNode.firstElementChild)):(r=t.previousElementSibling,tt(r)||(r=t.parentNode.lastElementChild)),At.call(n,r,!0))}}),!1),Lt.call(this,t,"keyup",(function(t){13===t.which&&se.focusFirstMenuItem.call(n,null,!0)}))},createMenuItem:function(t){var e=this,n=t.value,i=t.list,r=t.type,s=t.title,a=t.badge,o=void 0===a?null:a,l=t.checked,c=void 0!==l&&l,u=bt(this.config.selectors.inputs[r]),d=ft("button",dt(u,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(u.class?u.class:"").trim(),"aria-checked":c,value:n})),h=ft("span");h.innerHTML=s,tt(o)&&h.appendChild(o),d.appendChild(h),Object.defineProperty(d,"checked",{enumerable:!0,get:function(){return"true"===d.getAttribute("aria-checked")},set:function(t){t&&Array.from(d.parentNode.children).filter((function(t){return Ct(t,'[role="menuitemradio"]')})).forEach((function(t){return t.setAttribute("aria-checked","false")})),d.setAttribute("aria-checked",t?"true":"false")}}),this.listeners.bind(d,"click keyup",(function(t){if(!nt(t)||32===t.which){switch(t.preventDefault(),t.stopPropagation(),d.checked=!0,r){case"language":e.currentTrack=Number(n);break;case"quality":e.quality=n;break;case"speed":e.speed=parseFloat(n)}se.showMenuPanel.call(e,"home",nt(t))}}),r,!1),se.bindMenuItemShortcuts.call(this,d,r),i.appendChild(d)},formatTime:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Y(t))return t;var n=ee(this.duration)>0;return re(t,n,e)},updateTimeDisplay:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];tt(t)&&Y(e)&&(t.innerText=se.formatTime(e,n))},updateVolume:function(){this.supported.ui&&(tt(this.elements.inputs.volume)&&se.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),tt(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;tt(t)&&(t.value=e,se.updateRangeFill.call(this,t))},updateProgress:function(t){var e=this;if(this.supported.ui&&et(t)){var n,i,r=0;if(t)switch(t.type){case"timeupdate":case"seeking":case"seeked":n=this.currentTime,i=this.duration,r=0===n||0===i||Number.isNaN(n)||Number.isNaN(i)?0:(n/i*100).toFixed(2),"timeupdate"===t.type&&se.setRange.call(this,this.elements.inputs.seek,r);break;case"playing":case"progress":!function(t,n){var i=Y(n)?n:0,r=tt(t)?t:e.elements.display.buffer;if(tt(r)){r.value=i;var s=r.getElementsByTagName("span")[0];tt(s)&&(s.childNodes[0].nodeValue=i)}}(this.elements.display.buffer,100*this.buffered)}}},updateRangeFill:function(t){var e=et(t)?t.target:t;if(tt(e)&&"range"===e.getAttribute("type")){if(Ct(e,this.config.selectors.inputs.seek)){e.setAttribute("aria-valuenow",this.currentTime);var n=se.formatTime(this.currentTime),i=se.formatTime(this.duration),r=Gt("seekLabel",this.config);e.setAttribute("aria-valuetext",r.replace("{currentTime}",n).replace("{duration}",i))}else if(Ct(e,this.config.selectors.inputs.volume)){var s=100*e.value;e.setAttribute("aria-valuenow",s),e.setAttribute("aria-valuetext","".concat(s.toFixed(1),"%"))}else e.setAttribute("aria-valuenow",e.value);ct.isWebkit&&e.style.setProperty("--value","".concat(e.value/e.max*100,"%"))}},updateSeekTooltip:function(t){var e=this;if(this.config.tooltips.seek&&tt(this.elements.inputs.seek)&&tt(this.elements.display.seekTooltip)&&0!==this.duration){var n="".concat(this.config.classNames.tooltip,"--visible"),i=function(t){return kt(e.elements.display.seekTooltip,n,t)};if(this.touch)i(!1);else{var r=0,s=this.elements.progress.getBoundingClientRect();if(et(t))r=100/s.width*(t.pageX-s.left);else{if(!_t(this.elements.display.seekTooltip,n))return;r=parseFloat(this.elements.display.seekTooltip.style.left,10)}r<0?r=0:r>100&&(r=100),se.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*r),this.elements.display.seekTooltip.style.left="".concat(r,"%"),et(t)&&["mouseenter","mouseleave"].includes(t.type)&&i("mouseenter"===t.type)}}},timeUpdate:function(t){var e=!tt(this.elements.display.duration)&&this.config.invertTime;se.updateTimeDisplay.call(this,this.elements.display.currentTime,e?this.duration-this.currentTime:this.currentTime,e),t&&"timeupdate"===t.type&&this.media.seeking||se.updateProgress.call(this,t)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return wt(this.elements.display.currentTime,!0),void wt(this.elements.progress,!0);tt(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var t=tt(this.elements.display.duration);!t&&this.config.displayDuration&&this.paused&&se.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),t&&se.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),se.updateSeekTooltip.call(this)}},toggleMenuButton:function(t,e){wt(this.elements.settings.buttons[t],!e)},updateSetting:function(t,e,n){var i=this.elements.settings.panels[t],r=null,s=e;if("captions"===t)r=this.currentTrack;else{if(r=at(n)?this[t]:n,at(r)&&(r=this.config[t].default),!at(this.options[t])&&!this.options[t].includes(r))return void this.debug.warn("Unsupported value of '".concat(r,"' for ").concat(t));if(!this.config[t].options.includes(r))return void this.debug.warn("Disabled value of '".concat(r,"' for ").concat(t))}if(tt(s)||(s=i&&i.querySelector('[role="menu"]')),tt(s)){this.elements.settings.buttons[t].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=se.getLabel.call(this,t,r);var a=s&&s.querySelector('[value="'.concat(r,'"]'));tt(a)&&(a.checked=!0)}},getLabel:function(t,e){switch(t){case"speed":return 1===e?Gt("normal",this.config):"".concat(e,"&times;");case"quality":if(Y(e)){var n=Gt("qualityLabel.".concat(e),this.config);return n.length?n:"".concat(e,"p")}return Kt(e);case"captions":return le.getLabel.call(this);default:return null}},setQualityMenu:function(t){var e=this;if(tt(this.elements.settings.panels.quality)){var n="quality",i=this.elements.settings.panels.quality.querySelector('[role="menu"]');Z(t)&&(this.options.quality=Ht(t).filter((function(t){return e.config.quality.options.includes(t)})));var r=!at(this.options.quality)&&this.options.quality.length>1;if(se.toggleMenuButton.call(this,n,r),vt(i),se.checkMenu.call(this),r){var s=function(t){var n=Gt("qualityBadge.".concat(t),e.config);return n.length?se.createBadge.call(e,n):null};this.options.quality.sort((function(t,n){var i=e.config.quality.options;return i.indexOf(t)>i.indexOf(n)?1:-1})).forEach((function(t){se.createMenuItem.call(e,{value:t,list:i,type:n,title:se.getLabel.call(e,"quality",t),badge:s(t)})})),se.updateSetting.call(this,n,i)}}},setCaptionsMenu:function(){var t=this;if(tt(this.elements.settings.panels.captions)){var e="captions",n=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i=le.getTracks.call(this),r=Boolean(i.length);if(se.toggleMenuButton.call(this,e,r),vt(n),se.checkMenu.call(this),r){var s=i.map((function(e,i){return{value:i,checked:t.captions.toggled&&t.currentTrack===i,title:le.getLabel.call(t,e),badge:e.language&&se.createBadge.call(t,e.language.toUpperCase()),list:n,type:"language"}}));s.unshift({value:-1,checked:!this.captions.toggled,title:Gt("disabled",this.config),list:n,type:"language"}),s.forEach(se.createMenuItem.bind(this)),se.updateSetting.call(this,e,n)}}},setSpeedMenu:function(){var t=this;if(tt(this.elements.settings.panels.speed)){var e="speed",n=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((function(e){return e>=t.minimumSpeed&&e<=t.maximumSpeed}));var i=!at(this.options.speed)&&this.options.speed.length>1;se.toggleMenuButton.call(this,e,i),vt(n),se.checkMenu.call(this),i&&(this.options.speed.forEach((function(i){se.createMenuItem.call(t,{value:i,list:n,type:e,title:se.getLabel.call(t,"speed",i)})})),se.updateSetting.call(this,e,n))}},checkMenu:function(){var t=this.elements.settings.buttons,e=!at(t)&&Object.values(t).some((function(t){return!t.hidden}));wt(this.elements.settings.menu,!e)},focusFirstMenuItem:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.elements.settings.popup.hidden){var n=t;tt(n)||(n=Object.values(this.elements.settings.panels).find((function(t){return!t.hidden})));var i=n.querySelector('[role^="menuitem"]');At.call(this,i,e)}},toggleMenu:function(t){var e=this.elements.settings.popup,n=this.elements.buttons.settings;if(tt(e)&&tt(n)){var i=e.hidden,r=i;if(Q(t))r=t;else if(nt(t)&&27===t.which)r=!1;else if(et(t)){var s=G(t.composedPath)?t.composedPath()[0]:t.target,a=e.contains(s);if(a||!a&&t.target!==n&&r)return}n.setAttribute("aria-expanded",r),wt(e,!r),kt(this.elements.container,this.config.classNames.menu.open,r),r&&nt(t)?se.focusFirstMenuItem.call(this,null,!0):r||i||At.call(this,n,nt(t))}},getMenuSize:function(t){var e=t.cloneNode(!0);e.style.position="absolute",e.style.opacity=0,e.removeAttribute("hidden"),t.parentNode.appendChild(e);var n=e.scrollWidth,i=e.scrollHeight;return gt(e),{width:n,height:i}},showMenuPanel:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.elements.container.querySelector("#plyr-settings-".concat(this.id,"-").concat(e));if(tt(i)){var r=i.parentNode,s=Array.from(r.children).find((function(t){return!t.hidden}));if(Pt.transitions&&!Pt.reducedMotion){r.style.width="".concat(s.scrollWidth,"px"),r.style.height="".concat(s.scrollHeight,"px");var a=se.getMenuSize.call(this,i),o=function e(n){n.target===r&&["width","height"].includes(n.propertyName)&&(r.style.width="",r.style.height="",Nt.call(t,r,ot,e))};Lt.call(this,r,ot,o),r.style.width="".concat(a.width,"px"),r.style.height="".concat(a.height,"px")}wt(s,!0),wt(i,!1),se.focusFirstMenuItem.call(this,i,n)}},setDownloadUrl:function(){var t=this.elements.buttons.download;tt(t)&&t.setAttribute("href",this.download)},create:function(t){var e=this,n=se.bindMenuItemShortcuts,i=se.createButton,r=se.createProgress,s=se.createRange,a=se.createTime,o=se.setQualityMenu,l=se.setSpeedMenu,c=se.showMenuPanel;this.elements.controls=null,Z(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));var u=ft("div",bt(this.config.selectors.controls.wrapper));this.elements.controls=u;var d={class:"plyr__controls__item"};return Ht(Z(this.config.controls)?this.config.controls:[]).forEach((function(o){if("restart"===o&&u.appendChild(i.call(e,"restart",d)),"rewind"===o&&u.appendChild(i.call(e,"rewind",d)),"play"===o&&u.appendChild(i.call(e,"play",d)),"fast-forward"===o&&u.appendChild(i.call(e,"fast-forward",d)),"progress"===o){var l=ft("div",{class:"".concat(d.class," plyr__progress__container")}),h=ft("div",bt(e.config.selectors.progress));if(h.appendChild(s.call(e,"seek",{id:"plyr-seek-".concat(t.id)})),h.appendChild(r.call(e,"buffer")),e.config.tooltips.seek){var p=ft("span",{class:e.config.classNames.tooltip},"00:00");h.appendChild(p),e.elements.display.seekTooltip=p}e.elements.progress=h,l.appendChild(e.elements.progress),u.appendChild(l)}if("current-time"===o&&u.appendChild(a.call(e,"currentTime",d)),"duration"===o&&u.appendChild(a.call(e,"duration",d)),"mute"===o||"volume"===o){var f=e.elements.volume;if(tt(f)&&u.contains(f)||(f=ft("div",dt({},d,{class:"".concat(d.class," plyr__volume").trim()})),e.elements.volume=f,u.appendChild(f)),"mute"===o&&f.appendChild(i.call(e,"mute")),"volume"===o&&!ct.isIos){var m={max:1,step:.05,value:e.config.volume};f.appendChild(s.call(e,"volume",dt(m,{id:"plyr-volume-".concat(t.id)})))}}if("captions"===o&&u.appendChild(i.call(e,"captions",d)),"settings"===o&&!at(e.config.settings)){var g=ft("div",dt({},d,{class:"".concat(d.class," plyr__menu").trim(),hidden:""}));g.appendChild(i.call(e,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(t.id),"aria-expanded":!1}));var v=ft("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(t.id),hidden:""}),y=ft("div"),b=ft("div",{id:"plyr-settings-".concat(t.id,"-home")}),w=ft("div",{role:"menu"});b.appendChild(w),y.appendChild(b),e.elements.settings.panels.home=b,e.config.settings.forEach((function(i){var r=ft("button",dt(bt(e.config.selectors.buttons.settings),{type:"button",class:"".concat(e.config.classNames.control," ").concat(e.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));n.call(e,r,i),Lt.call(e,r,"click",(function(){c.call(e,i,!1)}));var s=ft("span",null,Gt(i,e.config)),a=ft("span",{class:e.config.classNames.menu.value});a.innerHTML=t[i],s.appendChild(a),r.appendChild(s),w.appendChild(r);var o=ft("div",{id:"plyr-settings-".concat(t.id,"-").concat(i),hidden:""}),l=ft("button",{type:"button",class:"".concat(e.config.classNames.control," ").concat(e.config.classNames.control,"--back")});l.appendChild(ft("span",{"aria-hidden":!0},Gt(i,e.config))),l.appendChild(ft("span",{class:e.config.classNames.hidden},Gt("menuBack",e.config))),Lt.call(e,o,"keydown",(function(t){37===t.which&&(t.preventDefault(),t.stopPropagation(),c.call(e,"home",!0))}),!1),Lt.call(e,l,"click",(function(){c.call(e,"home",!1)})),o.appendChild(l),o.appendChild(ft("div",{role:"menu"})),y.appendChild(o),e.elements.settings.buttons[i]=r,e.elements.settings.panels[i]=o})),v.appendChild(y),g.appendChild(v),u.appendChild(g),e.elements.settings.popup=v,e.elements.settings.menu=g}if("pip"===o&&Pt.pip&&u.appendChild(i.call(e,"pip",d)),"airplay"===o&&Pt.airplay&&u.appendChild(i.call(e,"airplay",d)),"download"===o){var k=dt({},d,{element:"a",href:e.download,target:"_blank"});e.isHTML5&&(k.download="");var _=e.config.urls.download;!st(_)&&e.isEmbed&&dt(k,{icon:"logo-".concat(e.provider),label:e.provider}),u.appendChild(i.call(e,"download",k))}"fullscreen"===o&&u.appendChild(i.call(e,"fullscreen",d))})),this.isHTML5&&o.call(this,qt.getQualityOptions.call(this)),l.call(this),u},inject:function(){var t=this;if(this.config.loadSprite){var e=se.getIconUrl.call(this);e.cors&&te(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var n=null;this.elements.controls=null;var i,r,s={id:this.id,seektime:this.config.seekTime,title:this.config.title},a=!0;if(G(this.config.controls)&&(this.config.controls=this.config.controls.call(this,s)),this.config.controls||(this.config.controls=[]),tt(this.config.controls)||J(this.config.controls)?n=this.config.controls:(n=se.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:le.getLabel.call(this)}),a=!1),a&&J(this.config.controls)&&(i=n,Object.entries(s).forEach((function(t){var e=c(t,2),n=e[0],r=e[1];i=Wt(i,"{".concat(n,"}"),r)})),n=i),J(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),tt(r)||(r=this.elements.container),r[tt(n)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",n),tt(this.elements.controls)||se.findElements.call(this),!at(this.elements.buttons)){var o=function(e){var n=t.config.classNames.controlPressed;Object.defineProperty(e,"pressed",{enumerable:!0,get:function(){return _t(e,n)},set:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];kt(e,n,t)}})};Object.values(this.elements.buttons).filter(Boolean).forEach((function(t){Z(t)||X(t)?Array.from(t).filter(Boolean).forEach(o):o(t)}))}if(ct.isEdge&&lt(r),this.config.tooltips.controls){var l=this.config,u=l.classNames,d=l.selectors,h="".concat(d.controls.wrapper," ").concat(d.labels," .").concat(u.hidden),p=Tt.call(this,h);Array.from(p).forEach((function(e){kt(e,t.config.classNames.hidden,!1),kt(e,t.config.classNames.tooltip,!0)}))}}};function ae(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t;if(e){var i=document.createElement("a");i.href=n,n=i.href}try{return new URL(n)}catch(t){return null}}function oe(t){var e=new URLSearchParams;return K(t)&&Object.entries(t).forEach((function(t){var n=c(t,2),i=n[0],r=n[1];e.set(i,r)})),e}var le={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!Pt.textTracks)Z(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&se.setCaptionsMenu.call(this);else{if(tt(this.elements.captions)||(this.elements.captions=ft("div",bt(this.config.selectors.captions)),function(t,e){tt(t)&&tt(e)&&e.parentNode.insertBefore(t,e.nextSibling)}(this.elements.captions,this.elements.wrapper)),ct.isIE&&window.URL){var t=this.media.querySelectorAll("track");Array.from(t).forEach((function(t){var e=t.getAttribute("src"),n=ae(e);null!==n&&n.hostname!==window.location.href.hostname&&["http:","https:"].includes(n.protocol)&&Xt(e,"blob").then((function(e){t.setAttribute("src",window.URL.createObjectURL(e))})).catch((function(){gt(t)}))}))}var e=Ht((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((function(t){return t.split("-")[0]}))),n=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===n&&(n=c(e,1)[0]);var i=this.storage.get("captions");if(Q(i)||(i=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:i,language:n,languages:e}),this.isHTML5){var r=this.config.captions.update?"addtrack removetrack":"removetrack";Lt.call(this,this.media.textTracks,r,le.update.bind(this))}setTimeout(le.update.bind(this),0)}},update:function(){var t=this,e=le.getTracks.call(this,!0),n=this.captions,i=n.active,r=n.language,s=n.meta,a=n.currentTrackNode,o=Boolean(e.find((function(t){return t.language===r})));this.isHTML5&&this.isVideo&&e.filter((function(t){return!s.get(t)})).forEach((function(e){t.debug.log("Track added",e),s.set(e,{default:"showing"===e.mode}),"showing"===e.mode&&(e.mode="hidden"),Lt.call(t,e,"cuechange",(function(){return le.updateCues.call(t)}))})),(o&&this.language!==r||!e.includes(a))&&(le.setLanguage.call(this,r),le.toggle.call(this,i&&o)),kt(this.elements.container,this.config.classNames.captions.enabled,!at(e)),Z(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&se.setCaptionsMenu.call(this)},toggle:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.supported.ui){var i=this.captions.toggled,r=this.config.classNames.captions.active,s=W(t)?!i:t;if(s!==i){if(n||(this.captions.active=s,this.storage.set({captions:s})),!this.language&&s&&!n){var a=le.getTracks.call(this),o=le.findTrack.call(this,[this.captions.language].concat(u(this.captions.languages)),!0);return this.captions.language=o.language,void le.set.call(this,a.indexOf(o))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=s),kt(this.elements.container,r,s),this.captions.toggled=s,se.updateSetting.call(this,"captions"),Dt.call(this,this.media,s?"captionsenabled":"captionsdisabled")}setTimeout((function(){s&&e.captions.toggled&&(e.captions.currentTrackNode.mode="hidden")}))}},set:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=le.getTracks.call(this);if(-1!==t)if(Y(t))if(t in n){if(this.captions.currentTrack!==t){this.captions.currentTrack=t;var i=n[t],r=i||{},s=r.language;this.captions.currentTrackNode=i,se.updateSetting.call(this,"captions"),e||(this.captions.language=s,this.storage.set({language:s})),this.isVimeo&&this.embed.enableTextTrack(s),Dt.call(this,this.media,"languagechange")}le.toggle.call(this,!0,e),this.isHTML5&&this.isVideo&&le.updateCues.call(this)}else this.debug.warn("Track not found",t);else this.debug.warn("Invalid caption argument",t);else le.toggle.call(this,!1,e)},setLanguage:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(J(t)){var n=t.toLowerCase();this.captions.language=n;var i=le.getTracks.call(this),r=le.findTrack.call(this,[n]);le.set.call(this,i.indexOf(r),e)}else this.debug.warn("Invalid language argument",t)},getTracks:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Array.from((this.media||{}).textTracks||[]);return n.filter((function(n){return!t.isHTML5||e||t.captions.meta.has(n)})).filter((function(t){return["captions","subtitles"].includes(t.kind)}))},findTrack:function(t){var e,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=le.getTracks.call(this),s=function(t){return Number((n.captions.meta.get(t)||{}).default)},a=Array.from(r).sort((function(t,e){return s(e)-s(t)}));return t.every((function(t){return!(e=a.find((function(e){return e.language===t})))})),e||(i?a[0]:void 0)},getCurrentTrack:function(){return le.getTracks.call(this)[this.currentTrack]},getLabel:function(t){var e=t;return!it(e)&&Pt.textTracks&&this.captions.toggled&&(e=le.getCurrentTrack.call(this)),it(e)?at(e.label)?at(e.language)?Gt("enabled",this.config):t.language.toUpperCase():e.label:Gt("disabled",this.config)},updateCues:function(t){if(this.supported.ui)if(tt(this.elements.captions))if(W(t)||Array.isArray(t)){var e=t;if(!e){var n=le.getCurrentTrack.call(this);e=Array.from((n||{}).activeCues||[]).map((function(t){return t.getCueAsHTML()})).map(Jt)}var i=e.map((function(t){return t.trim()})).join("\n");if(i!==this.elements.captions.innerHTML){vt(this.elements.captions);var r=ft("span",bt(this.config.selectors.caption));r.innerHTML=i,this.elements.captions.appendChild(r),Dt.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",t);else this.debug.warn("No captions element to render to")}},ce={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.6.4/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1}},ue="picture-in-picture",de="inline",he={html5:"html5",youtube:"youtube",vimeo:"vimeo"},pe="audio",fe="video",me=function(){},ge=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n(this,t),this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}return r(t,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):me}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):me}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):me}}]),t}(),ve=function(){function t(e){var i=this;n(this,t),s(this,"onChange",(function(){if(i.enabled){var t=i.player.elements.buttons.fullscreen;tt(t)&&(t.pressed=i.active);var e=i.target===i.player.media?i.target:i.player.elements.container;Dt.call(i.player,e,i.active?"enterfullscreen":"exitfullscreen",!0)}})),s(this,"toggleFallback",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t?i.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(i.scrollPosition.x,i.scrollPosition.y),document.body.style.overflow=t?"hidden":"",kt(i.target,i.player.config.classNames.fullscreen.fallback,t),ct.isIos){var e=document.head.querySelector('meta[name="viewport"]'),n="viewport-fit=cover";e||(e=document.createElement("meta")).setAttribute("name","viewport");var r=J(e.content)&&e.content.includes(n);t?(i.cleanupViewport=!r,r||(e.content+=",".concat(n))):i.cleanupViewport&&(e.content=e.content.split(",").filter((function(t){return t.trim()!==n})).join(","))}i.onChange()})),s(this,"trapFocus",(function(t){if(!ct.isIos&&i.active&&"Tab"===t.key&&9===t.keyCode){var e=document.activeElement,n=Tt.call(i.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),r=c(n,1)[0],s=n[n.length-1];e!==s||t.shiftKey?e===r&&t.shiftKey&&(s.focus(),t.preventDefault()):(r.focus(),t.preventDefault())}})),s(this,"update",(function(){var e;i.enabled?(e=i.forceFallback?"Fallback (forced)":t.native?"Native":"Fallback",i.player.debug.log("".concat(e," fullscreen enabled"))):i.player.debug.log("Fullscreen not supported and fallback disabled"),kt(i.player.elements.container,i.player.config.classNames.fullscreen.enabled,i.enabled)})),s(this,"enter",(function(){i.enabled&&(ct.isIos&&i.player.config.fullscreen.iosNative?i.player.isVimeo?i.player.embed.requestFullscreen():i.target.webkitEnterFullscreen():!t.native||i.forceFallback?i.toggleFallback(!0):i.prefix?at(i.prefix)||i.target["".concat(i.prefix,"Request").concat(i.property)]():i.target.requestFullscreen({navigationUI:"hide"}))})),s(this,"exit",(function(){if(i.enabled)if(ct.isIos&&i.player.config.fullscreen.iosNative)i.target.webkitExitFullscreen(),Bt(i.player.play());else if(!t.native||i.forceFallback)i.toggleFallback(!1);else if(i.prefix){if(!at(i.prefix)){var e="moz"===i.prefix?"Cancel":"Exit";document["".concat(i.prefix).concat(e).concat(i.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)})),s(this,"toggle",(function(){i.active?i.exit():i.enter()})),this.player=e,this.prefix=t.prefix,this.property=t.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===e.config.fullscreen.fallback,this.player.elements.fullscreen=e.config.fullscreen.container&&function(t,e){return(Element.prototype.closest||function(){var t=this;do{if(Ct.matches(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}).call(t,e)}(this.player.elements.container,e.config.fullscreen.container),Lt.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),(function(){i.onChange()})),Lt.call(this.player,this.player.elements.container,"dblclick",(function(t){tt(i.player.elements.controls)&&i.player.elements.controls.contains(t.target)||i.player.listeners.proxy(t,i.toggle,"fullscreen")})),Lt.call(this,this.player.elements.container,"keydown",(function(t){return i.trapFocus(t)})),this.update()}return r(t,[{key:"usingNative",get:function(){return t.native&&!this.forceFallback}},{key:"enabled",get:function(){return(t.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){if(!this.enabled)return!1;if(!t.native||this.forceFallback)return _t(this.target,this.player.config.classNames.fullscreen.fallback);var e=this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}},{key:"target",get:function(){return ct.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(G(document.exitFullscreen))return"";var t="";return["webkit","moz","ms"].some((function(e){return!(!G(document["".concat(e,"ExitFullscreen")])&&!G(document["".concat(e,"CancelFullScreen")]))&&(t=e,!0)})),t}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),t}();function ye(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise((function(n,i){var r=new Image,s=function(){delete r.onload,delete r.onerror,(r.naturalWidth>=e?n:i)(r)};Object.assign(r,{onload:s,onerror:s,src:t})}))}var be={addStyleHook:function(){kt(this.elements.container,this.config.selectors.container.replace(".",""),!0),kt(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var t=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void be.toggleNativeControls.call(this,!0);tt(this.elements.controls)||(se.inject.call(this),this.listeners.controls()),be.toggleNativeControls.call(this),this.isHTML5&&le.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,se.updateVolume.call(this),se.timeUpdate.call(this),be.checkPlaying.call(this),kt(this.elements.container,this.config.classNames.pip.supported,Pt.pip&&this.isHTML5&&this.isVideo),kt(this.elements.container,this.config.classNames.airplay.supported,Pt.airplay&&this.isHTML5),kt(this.elements.container,this.config.classNames.isIos,ct.isIos),kt(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((function(){Dt.call(t,t.media,"ready")}),0),be.setTitle.call(this),this.poster&&be.setPoster.call(this,this.poster,!1).catch((function(){})),this.config.duration&&se.durationUpdate.call(this)},setTitle:function(){var t=Gt("play",this.config);if(J(this.config.title)&&!at(this.config.title)&&(t+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach((function(e){e.setAttribute("aria-label",t)})),this.isEmbed){var e=xt.call(this,"iframe");if(!tt(e))return;var n=at(this.config.title)?"video":this.config.title,i=Gt("frameTitle",this.config);e.setAttribute("title",i.replace("{title}",n))}},togglePoster:function(t){kt(this.elements.container,this.config.classNames.posterEnabled,t)},setPoster:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",t),this.elements.poster.removeAttribute("hidden"),Rt.call(this).then((function(){return ye(t)})).catch((function(n){throw t===e.poster&&be.togglePoster.call(e,!1),n})).then((function(){if(t!==e.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((function(){return Object.assign(e.elements.poster.style,{backgroundImage:"url('".concat(t,"')"),backgroundSize:""}),be.togglePoster.call(e,!0),t})))},checkPlaying:function(t){var e=this;kt(this.elements.container,this.config.classNames.playing,this.playing),kt(this.elements.container,this.config.classNames.paused,this.paused),kt(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((function(t){Object.assign(t,{pressed:e.playing}),t.setAttribute("aria-label",Gt(e.playing?"pause":"play",e.config))})),et(t)&&"timeupdate"===t.type||be.toggleControls.call(this)},checkLoading:function(t){var e=this;this.loading=["stalled","waiting"].includes(t.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((function(){kt(e.elements.container,e.config.classNames.loading,e.loading),be.toggleControls.call(e)}),this.loading?250:0)},toggleControls:function(t){var e=this.elements.controls;if(e&&this.config.hideControls){var n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(t||this.loading||this.paused||e.pressed||e.hover||n))}},migrateStyles:function(){var t=this;Object.values(o({},this.media.style)).filter((function(t){return!at(t)&&J(t)&&t.startsWith("--plyr")})).forEach((function(e){t.elements.container.style.setProperty(e,t.media.style.getPropertyValue(e)),t.media.style.removeProperty(e)})),at(this.media.style)&&this.media.removeAttribute("style")}},we=function(){function t(e){var i=this;n(this,t),s(this,"firstTouch",(function(){var t=i.player,e=t.elements;t.touch=!0,kt(e.container,t.config.classNames.isTouch,!0)})),s(this,"setTabFocus",(function(t){var e=i.player,n=e.elements;if(clearTimeout(i.focusTimer),"keydown"!==t.type||9===t.which){"keydown"===t.type&&(i.lastKeyDown=t.timeStamp);var r,s=t.timeStamp-i.lastKeyDown<=20;("focus"!==t.type||s)&&(r=e.config.classNames.tabFocus,kt(Tt.call(e,".".concat(r)),r,!1),"focusout"!==t.type&&(i.focusTimer=setTimeout((function(){var t=document.activeElement;n.container.contains(t)&&kt(document.activeElement,e.config.classNames.tabFocus,!0)}),10)))}})),s(this,"global",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=i.player;e.config.keyboard.global&&Et.call(e,window,"keydown keyup",i.handleKey,t,!1),Et.call(e,document.body,"click",i.toggleMenu,t),Ot.call(e,document.body,"touchstart",i.firstTouch),Et.call(e,document.body,"keydown focus blur focusout",i.setTabFocus,t,!1,!0)})),s(this,"container",(function(){var t=i.player,e=t.config,n=t.elements,r=t.timers;!e.keyboard.global&&e.keyboard.focused&&Lt.call(t,n.container,"keydown keyup",i.handleKey,!1),Lt.call(t,n.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(function(e){var i=n.controls;i&&"enterfullscreen"===e.type&&(i.pressed=!1,i.hover=!1);var s=0;["touchstart","touchmove","mousemove"].includes(e.type)&&(be.toggleControls.call(t,!0),s=t.touch?3e3:2e3),clearTimeout(r.controls),r.controls=setTimeout((function(){return be.toggleControls.call(t,!1)}),s)}));var s=function(e){if(!e)return zt.call(t);var i=n.container.getBoundingClientRect(),r=i.width,s=i.height;return zt.call(t,"".concat(r,":").concat(s))},a=function(){clearTimeout(r.resized),r.resized=setTimeout(s,50)};Lt.call(t,n.container,"enterfullscreen exitfullscreen",(function(e){var i=t.fullscreen,r=i.target,o=i.usingNative;if(r===n.container&&(t.isEmbed||!at(t.config.ratio))){var l="enterfullscreen"===e.type,u=s(l);u.padding,!function(e,n,i){if(t.isVimeo&&!t.config.vimeo.premium){var r=t.elements.wrapper.firstChild,s=c(e,2)[1],a=c(Ut.call(t),2),o=a[0],l=a[1];r.style.maxWidth=i?"".concat(s/l*o,"px"):null,r.style.margin=i?"0 auto":null}}(u.ratio,0,l),l&&setTimeout((function(){return lt(n.container)}),100),o||(l?Lt.call(t,window,"resize",a):Nt.call(t,window,"resize",a))}}))})),s(this,"media",(function(){var t=i.player,e=t.elements;if(Lt.call(t,t.media,"timeupdate seeking seeked",(function(e){return se.timeUpdate.call(t,e)})),Lt.call(t,t.media,"durationchange loadeddata loadedmetadata",(function(e){return se.durationUpdate.call(t,e)})),Lt.call(t,t.media,"ended",(function(){t.isHTML5&&t.isVideo&&t.config.resetOnEnd&&(t.restart(),t.pause())})),Lt.call(t,t.media,"progress playing seeking seeked",(function(e){return se.updateProgress.call(t,e)})),Lt.call(t,t.media,"volumechange",(function(e){return se.updateVolume.call(t,e)})),Lt.call(t,t.media,"playing play pause ended emptied timeupdate",(function(e){return be.checkPlaying.call(t,e)})),Lt.call(t,t.media,"waiting canplay seeked playing",(function(e){return be.checkLoading.call(t,e)})),t.supported.ui&&t.config.clickToPlay&&!t.isAudio){var n=xt.call(t,".".concat(t.config.classNames.video));if(!tt(n))return;Lt.call(t,e.container,"click",(function(r){([e.container,n].includes(r.target)||n.contains(r.target))&&(t.touch&&t.config.hideControls||(t.ended?(i.proxy(r,t.restart,"restart"),i.proxy(r,(function(){Bt(t.play())}),"play")):i.proxy(r,(function(){Bt(t.togglePlay())}),"play")))}))}t.supported.ui&&t.config.disableContextMenu&&Lt.call(t,e.wrapper,"contextmenu",(function(t){t.preventDefault()}),!1),Lt.call(t,t.media,"volumechange",(function(){t.storage.set({volume:t.volume,muted:t.muted})})),Lt.call(t,t.media,"ratechange",(function(){se.updateSetting.call(t,"speed"),t.storage.set({speed:t.speed})})),Lt.call(t,t.media,"qualitychange",(function(e){se.updateSetting.call(t,"quality",null,e.detail.quality)})),Lt.call(t,t.media,"ready qualitychange",(function(){se.setDownloadUrl.call(t)}));var r=t.config.events.concat(["keyup","keydown"]).join(" ");Lt.call(t,t.media,r,(function(n){var i=n.detail,r=void 0===i?{}:i;"error"===n.type&&(r=t.media.error),Dt.call(t,e.container,n.type,!0,r)}))})),s(this,"proxy",(function(t,e,n){var r=i.player,s=r.config.listeners[n],a=!0;G(s)&&(a=s.call(r,t)),!1!==a&&G(e)&&e.call(r,t)})),s(this,"bind",(function(t,e,n,r){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=i.player,o=a.config.listeners[r],l=G(o);Lt.call(a,t,e,(function(t){return i.proxy(t,n,r)}),s&&!l)})),s(this,"controls",(function(){var t=i.player,e=t.elements,n=ct.isIE?"change":"input";if(e.buttons.play&&Array.from(e.buttons.play).forEach((function(e){i.bind(e,"click",(function(){Bt(t.togglePlay())}),"play")})),i.bind(e.buttons.restart,"click",t.restart,"restart"),i.bind(e.buttons.rewind,"click",(function(){t.lastSeekTime=Date.now(),t.rewind()}),"rewind"),i.bind(e.buttons.fastForward,"click",(function(){t.lastSeekTime=Date.now(),t.forward()}),"fastForward"),i.bind(e.buttons.mute,"click",(function(){t.muted=!t.muted}),"mute"),i.bind(e.buttons.captions,"click",(function(){return t.toggleCaptions()})),i.bind(e.buttons.download,"click",(function(){Dt.call(t,t.media,"download")}),"download"),i.bind(e.buttons.fullscreen,"click",(function(){t.fullscreen.toggle()}),"fullscreen"),i.bind(e.buttons.pip,"click",(function(){t.pip="toggle"}),"pip"),i.bind(e.buttons.airplay,"click",t.airplay,"airplay"),i.bind(e.buttons.settings,"click",(function(e){e.stopPropagation(),e.preventDefault(),se.toggleMenu.call(t,e)}),null,!1),i.bind(e.buttons.settings,"keyup",(function(e){var n=e.which;[13,32].includes(n)&&(13!==n?(e.preventDefault(),e.stopPropagation(),se.toggleMenu.call(t,e)):se.focusFirstMenuItem.call(t,null,!0))}),null,!1),i.bind(e.settings.menu,"keydown",(function(e){27===e.which&&se.toggleMenu.call(t,e)})),i.bind(e.inputs.seek,"mousedown mousemove",(function(t){var n=e.progress.getBoundingClientRect(),i=100/n.width*(t.pageX-n.left);t.currentTarget.setAttribute("seek-value",i)})),i.bind(e.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(function(e){var n=e.currentTarget,i=e.keyCode?e.keyCode:e.which,r="play-on-seeked";if(!nt(e)||39===i||37===i){t.lastSeekTime=Date.now();var s=n.hasAttribute(r),a=["mouseup","touchend","keyup"].includes(e.type);s&&a?(n.removeAttribute(r),Bt(t.play())):!a&&t.playing&&(n.setAttribute(r,""),t.pause())}})),ct.isIos){var r=Tt.call(t,'input[type="range"]');Array.from(r).forEach((function(t){return i.bind(t,n,(function(t){return lt(t.target)}))}))}i.bind(e.inputs.seek,n,(function(e){var n=e.currentTarget,i=n.getAttribute("seek-value");at(i)&&(i=n.value),n.removeAttribute("seek-value"),t.currentTime=i/n.max*t.duration}),"seek"),i.bind(e.progress,"mouseenter mouseleave mousemove",(function(e){return se.updateSeekTooltip.call(t,e)})),i.bind(e.progress,"mousemove touchmove",(function(e){var n=t.previewThumbnails;n&&n.loaded&&n.startMove(e)})),i.bind(e.progress,"mouseleave touchend click",(function(){var e=t.previewThumbnails;e&&e.loaded&&e.endMove(!1,!0)})),i.bind(e.progress,"mousedown touchstart",(function(e){var n=t.previewThumbnails;n&&n.loaded&&n.startScrubbing(e)})),i.bind(e.progress,"mouseup touchend",(function(e){var n=t.previewThumbnails;n&&n.loaded&&n.endScrubbing(e)})),ct.isWebkit&&Array.from(Tt.call(t,'input[type="range"]')).forEach((function(e){i.bind(e,"input",(function(e){return se.updateRangeFill.call(t,e.target)}))})),t.config.toggleInvert&&!tt(e.display.duration)&&i.bind(e.display.currentTime,"click",(function(){0!==t.currentTime&&(t.config.invertTime=!t.config.invertTime,se.timeUpdate.call(t))})),i.bind(e.inputs.volume,n,(function(e){t.volume=e.target.value}),"volume"),i.bind(e.controls,"mouseenter mouseleave",(function(n){e.controls.hover=!t.touch&&"mouseenter"===n.type})),e.fullscreen&&Array.from(e.fullscreen.children).filter((function(t){return!t.contains(e.container)})).forEach((function(n){i.bind(n,"mouseenter mouseleave",(function(n){e.controls.hover=!t.touch&&"mouseenter"===n.type}))})),i.bind(e.controls,"mousedown mouseup touchstart touchend touchcancel",(function(t){e.controls.pressed=["mousedown","touchstart"].includes(t.type)})),i.bind(e.controls,"focusin",(function(){var n=t.config,r=t.timers;kt(e.controls,n.classNames.noTransition,!0),be.toggleControls.call(t,!0),setTimeout((function(){kt(e.controls,n.classNames.noTransition,!1)}),0);var s=i.touch?3e3:4e3;clearTimeout(r.controls),r.controls=setTimeout((function(){return be.toggleControls.call(t,!1)}),s)})),i.bind(e.inputs.volume,"wheel",(function(e){var n=e.webkitDirectionInvertedFromDevice,i=c([e.deltaX,-e.deltaY].map((function(t){return n?-t:t})),2),r=i[0],s=i[1],a=Math.sign(Math.abs(r)>Math.abs(s)?r:s);t.increaseVolume(a/50);var o=t.media.volume;(1===a&&o<1||-1===a&&o>0)&&e.preventDefault()}),"volume",!1)})),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}return r(t,[{key:"handleKey",value:function(t){var e=this.player,n=e.elements,i=t.keyCode?t.keyCode:t.which,r="keydown"===t.type,s=r&&i===this.lastKey;if(!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)&&Y(i))if(r){var a=document.activeElement;if(tt(a)){var o=e.config.selectors.editable;if(a!==n.inputs.seek&&Ct(a,o))return;if(32===t.which&&Ct(a,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(i)&&(t.preventDefault(),t.stopPropagation()),i){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:s||(e.currentTime=e.duration/10*(i-48));break;case 32:case 75:s||Bt(e.togglePlay());break;case 38:e.increaseVolume(.1);break;case 40:e.decreaseVolume(.1);break;case 77:s||(e.muted=!e.muted);break;case 39:e.forward();break;case 37:e.rewind();break;case 70:e.fullscreen.toggle();break;case 67:s||e.toggleCaptions();break;case 76:e.loop=!e.loop}27===i&&!e.fullscreen.usingNative&&e.fullscreen.active&&e.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null}},{key:"toggleMenu",value:function(t){se.toggleMenu.call(this.player,t)}}]),t}();"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e||"undefined"!=typeof self&&self;var ke=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){t.exports=function(){var t=function(){},e={},n={},i={};function r(t,e){t=t.push?t:[t];var r,s,a,o=[],l=t.length,c=l;for(r=function(t,n){n.length&&o.push(t),--c||e(o)};l--;)s=t[l],(a=n[s])?r(s,a):(i[s]=i[s]||[]).push(r)}function s(t,e){if(t){var r=i[t];if(n[t]=e,r)for(;r.length;)r[0](t,e),r.splice(0,1)}}function a(e,n){e.call&&(e={success:e}),n.length?(e.error||t)(n):(e.success||t)(e)}function o(e,n,i,r){var s,a,l=document,c=i.async,u=(i.numRetries||0)+1,d=i.before||t,h=e.replace(/[\?|#].*$/,""),p=e.replace(/^(css|img)!/,"");r=r||0,/(^css!|\.css$)/.test(h)?((a=l.createElement("link")).rel="stylesheet",a.href=p,(s="hideFocus"in a)&&a.relList&&(s=0,a.rel="preload",a.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(h)?(a=l.createElement("img")).src=p:((a=l.createElement("script")).src=e,a.async=void 0===c||c),a.onload=a.onerror=a.onbeforeload=function(t){var l=t.type[0];if(s)try{a.sheet.cssText.length||(l="e")}catch(t){18!=t.code&&(l="e")}if("e"==l){if((r+=1)<u)return o(e,n,i,r)}else if("preload"==a.rel&&"style"==a.as)return a.rel="stylesheet";n(e,l,t.defaultPrevented)},!1!==d(e,a)&&l.head.appendChild(a)}function l(t,e,n){var i,r,s=(t=t.push?t:[t]).length,a=s,l=[];for(i=function(t,n,i){if("e"==n&&l.push(t),"b"==n){if(!i)return;l.push(t)}--s||e(l)},r=0;r<a;r++)o(t[r],i,n)}function c(t,n,i){var r,o;if(n&&n.trim&&(r=n),o=(r?i:n)||{},r){if(r in e)throw"LoadJS";e[r]=!0}function c(e,n){l(t,(function(t){a(o,t),e&&a({success:e,error:n},t),s(r,t)}),o)}if(o.returnPromise)return new Promise(c);c()}return c.ready=function(t,e){return r(t,(function(t){a(e,t)})),c},c.done=function(t){s(t,[])},c.reset=function(){e={},n={},i={}},c.isDefined=function(t){return t in e},c}()}));function _e(t){return new Promise((function(e,n){ke(t,{success:e,error:n})}))}function Ce(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,Dt.call(this,this.media,t?"play":"pause"))}var Te={setup:function(){var t=this;kt(t.elements.wrapper,t.config.classNames.embed,!0),t.options.speed=t.config.speed.options,zt.call(t),K(window.Vimeo)?Te.ready.call(t):_e(t.config.urls.vimeo.sdk).then((function(){Te.ready.call(t)})).catch((function(e){t.debug.warn("Vimeo SDK (player.js) failed to load",e)}))},ready:function(){var t=this,e=this,n=e.config.vimeo,i=n.premium,r=n.referrerPolicy,s=l(n,["premium","referrerPolicy"]);i&&Object.assign(s,{controls:!1,sidedock:!1});var a=oe(o({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative},s)),u=e.media.getAttribute("src");at(u)&&(u=e.media.getAttribute(e.config.attributes.embed.id));var d,h=at(d=u)?null:Y(Number(d))?d:d.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:d,p=ft("iframe"),f=Vt(e.config.urls.vimeo.iframe,h,a);if(p.setAttribute("src",f),p.setAttribute("allowfullscreen",""),p.setAttribute("allow",["autoplay","fullscreen","picture-in-picture"].join("; ")),at(r)||p.setAttribute("referrerPolicy",r),i||!n.customControls)p.setAttribute("data-poster",e.poster),e.media=yt(p,e.media);else{var m=ft("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});m.appendChild(p),e.media=yt(m,e.media)}n.customControls||Xt(Vt(e.config.urls.vimeo.api,f)).then((function(t){!at(t)&&t.thumbnail_url&&be.setPoster.call(e,t.thumbnail_url).catch((function(){}))})),e.embed=new window.Vimeo.Player(p,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=function(){return Ce.call(e,!0),e.embed.play()},e.media.pause=function(){return Ce.call(e,!1),e.embed.pause()},e.media.stop=function(){e.pause(),e.currentTime=0};var g=e.media.currentTime;Object.defineProperty(e.media,"currentTime",{get:function(){return g},set:function(t){var n=e.embed,i=e.media,r=e.paused,s=e.volume,a=r&&!n.hasPlayed;i.seeking=!0,Dt.call(e,i,"seeking"),Promise.resolve(a&&n.setVolume(0)).then((function(){return n.setCurrentTime(t)})).then((function(){return a&&n.pause()})).then((function(){return a&&n.setVolume(s)})).catch((function(){}))}});var v=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:function(){return v},set:function(t){e.embed.setPlaybackRate(t).then((function(){v=t,Dt.call(e,e.media,"ratechange")})).catch((function(){e.options.speed=[1]}))}});var y=e.config.volume;Object.defineProperty(e.media,"volume",{get:function(){return y},set:function(t){e.embed.setVolume(t).then((function(){y=t,Dt.call(e,e.media,"volumechange")}))}});var b=e.config.muted;Object.defineProperty(e.media,"muted",{get:function(){return b},set:function(t){var n=!!Q(t)&&t;e.embed.setVolume(n?0:e.config.volume).then((function(){b=n,Dt.call(e,e.media,"volumechange")}))}});var w,k=e.config.loop;Object.defineProperty(e.media,"loop",{get:function(){return k},set:function(t){var n=Q(t)?t:e.config.loop.active;e.embed.setLoop(n).then((function(){k=n}))}}),e.embed.getVideoUrl().then((function(t){w=t,se.setDownloadUrl.call(e)})).catch((function(e){t.debug.warn(e)})),Object.defineProperty(e.media,"currentSrc",{get:function(){return w}}),Object.defineProperty(e.media,"ended",{get:function(){return e.currentTime===e.duration}}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then((function(n){var i=c(n,2),r=i[0],s=i[1];e.embed.ratio=[r,s],zt.call(t)})),e.embed.setAutopause(e.config.autopause).then((function(t){e.config.autopause=t})),e.embed.getVideoTitle().then((function(n){e.config.title=n,be.setTitle.call(t)})),e.embed.getCurrentTime().then((function(t){g=t,Dt.call(e,e.media,"timeupdate")})),e.embed.getDuration().then((function(t){e.media.duration=t,Dt.call(e,e.media,"durationchange")})),e.embed.getTextTracks().then((function(t){e.media.textTracks=t,le.setup.call(e)})),e.embed.on("cuechange",(function(t){var n=t.cues,i=(void 0===n?[]:n).map((function(t){return function(t){var e=document.createDocumentFragment(),n=document.createElement("div");return e.appendChild(n),n.innerHTML=t,e.firstChild.innerText}(t.text)}));le.updateCues.call(e,i)})),e.embed.on("loaded",(function(){e.embed.getPaused().then((function(t){Ce.call(e,!t),t||Dt.call(e,e.media,"playing")})),tt(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)})),e.embed.on("bufferstart",(function(){Dt.call(e,e.media,"waiting")})),e.embed.on("bufferend",(function(){Dt.call(e,e.media,"playing")})),e.embed.on("play",(function(){Ce.call(e,!0),Dt.call(e,e.media,"playing")})),e.embed.on("pause",(function(){Ce.call(e,!1)})),e.embed.on("timeupdate",(function(t){e.media.seeking=!1,g=t.seconds,Dt.call(e,e.media,"timeupdate")})),e.embed.on("progress",(function(t){e.media.buffered=t.percent,Dt.call(e,e.media,"progress"),1===parseInt(t.percent,10)&&Dt.call(e,e.media,"canplaythrough"),e.embed.getDuration().then((function(t){t!==e.media.duration&&(e.media.duration=t,Dt.call(e,e.media,"durationchange"))}))})),e.embed.on("seeked",(function(){e.media.seeking=!1,Dt.call(e,e.media,"seeked")})),e.embed.on("ended",(function(){e.media.paused=!0,Dt.call(e,e.media,"ended")})),e.embed.on("error",(function(t){e.media.error=t,Dt.call(e,e.media,"error")})),n.customControls&&setTimeout((function(){return be.build.call(e)}),0)}};function xe(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,Dt.call(this,this.media,t?"play":"pause"))}function Ae(t){return t.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}var Se,Me={setup:function(){var t=this;if(kt(this.elements.wrapper,this.config.classNames.embed,!0),K(window.YT)&&G(window.YT.Player))Me.ready.call(this);else{var e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){G(e)&&e(),Me.ready.call(t)},_e(this.config.urls.youtube.sdk).catch((function(e){t.debug.warn("YouTube API failed to load",e)}))}},getTitle:function(t){var e=this;Xt(Vt(this.config.urls.youtube.api,t)).then((function(t){if(K(t)){var n=t.title,i=t.height,r=t.width;e.config.title=n,be.setTitle.call(e),e.embed.ratio=[r,i]}zt.call(e)})).catch((function(){zt.call(e)}))},ready:function(){var t=this,e=t.config.youtube,n=t.media&&t.media.getAttribute("id");if(at(n)||!n.startsWith("youtube-")){var i=t.media.getAttribute("src");at(i)&&(i=t.media.getAttribute(this.config.attributes.embed.id));var r,s,a=at(r=i)?null:r.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:r,o=ft("div",{id:(s=t.provider,"".concat(s,"-").concat(Math.floor(1e4*Math.random()))),"data-poster":e.customControls?t.poster:void 0});if(t.media=yt(o,t.media),e.customControls){var l=function(t){return"https://i.ytimg.com/vi/".concat(a,"/").concat(t,"default.jpg")};ye(l("maxres"),121).catch((function(){return ye(l("sd"),121)})).catch((function(){return ye(l("hq"))})).then((function(e){return be.setPoster.call(t,e.src)})).then((function(e){e.includes("maxres")||(t.elements.poster.style.backgroundSize="cover")})).catch((function(){}))}t.embed=new window.YT.Player(t.media,{videoId:a,host:Ae(e),playerVars:dt({},{autoplay:t.config.autoplay?1:0,hl:t.config.hl,controls:t.supported.ui&&e.customControls?0:1,disablekb:1,playsinline:t.config.fullscreen.iosNative?0:1,cc_load_policy:t.captions.active?1:0,cc_lang_pref:t.config.captions.language,widget_referrer:window?window.location.href:null},e),events:{onError:function(e){if(!t.media.error){var n=e.data,i={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[n]||"An unknown error occured";t.media.error={code:n,message:i},Dt.call(t,t.media,"error")}},onPlaybackRateChange:function(e){var n=e.target;t.media.playbackRate=n.getPlaybackRate(),Dt.call(t,t.media,"ratechange")},onReady:function(n){if(!G(t.media.play)){var i=n.target;Me.getTitle.call(t,a),t.media.play=function(){xe.call(t,!0),i.playVideo()},t.media.pause=function(){xe.call(t,!1),i.pauseVideo()},t.media.stop=function(){i.stopVideo()},t.media.duration=i.getDuration(),t.media.paused=!0,t.media.currentTime=0,Object.defineProperty(t.media,"currentTime",{get:function(){return Number(i.getCurrentTime())},set:function(e){t.paused&&!t.embed.hasPlayed&&t.embed.mute(),t.media.seeking=!0,Dt.call(t,t.media,"seeking"),i.seekTo(e)}}),Object.defineProperty(t.media,"playbackRate",{get:function(){return i.getPlaybackRate()},set:function(t){i.setPlaybackRate(t)}});var r=t.config.volume;Object.defineProperty(t.media,"volume",{get:function(){return r},set:function(e){r=e,i.setVolume(100*r),Dt.call(t,t.media,"volumechange")}});var s=t.config.muted;Object.defineProperty(t.media,"muted",{get:function(){return s},set:function(e){var n=Q(e)?e:s;s=n,i[n?"mute":"unMute"](),i.setVolume(100*r),Dt.call(t,t.media,"volumechange")}}),Object.defineProperty(t.media,"currentSrc",{get:function(){return i.getVideoUrl()}}),Object.defineProperty(t.media,"ended",{get:function(){return t.currentTime===t.duration}});var o=i.getAvailablePlaybackRates();t.options.speed=o.filter((function(e){return t.config.speed.options.includes(e)})),t.supported.ui&&e.customControls&&t.media.setAttribute("tabindex",-1),Dt.call(t,t.media,"timeupdate"),Dt.call(t,t.media,"durationchange"),clearInterval(t.timers.buffering),t.timers.buffering=setInterval((function(){t.media.buffered=i.getVideoLoadedFraction(),(null===t.media.lastBuffered||t.media.lastBuffered<t.media.buffered)&&Dt.call(t,t.media,"progress"),t.media.lastBuffered=t.media.buffered,1===t.media.buffered&&(clearInterval(t.timers.buffering),Dt.call(t,t.media,"canplaythrough"))}),200),e.customControls&&setTimeout((function(){return be.build.call(t)}),50)}},onStateChange:function(n){var i=n.target;switch(clearInterval(t.timers.playing),t.media.seeking&&[1,2].includes(n.data)&&(t.media.seeking=!1,Dt.call(t,t.media,"seeked")),n.data){case-1:Dt.call(t,t.media,"timeupdate"),t.media.buffered=i.getVideoLoadedFraction(),Dt.call(t,t.media,"progress");break;case 0:xe.call(t,!1),t.media.loop?(i.stopVideo(),i.playVideo()):Dt.call(t,t.media,"ended");break;case 1:e.customControls&&!t.config.autoplay&&t.media.paused&&!t.embed.hasPlayed?t.media.pause():(xe.call(t,!0),Dt.call(t,t.media,"playing"),t.timers.playing=setInterval((function(){Dt.call(t,t.media,"timeupdate")}),50),t.media.duration!==i.getDuration()&&(t.media.duration=i.getDuration(),Dt.call(t,t.media,"durationchange")));break;case 2:t.muted||t.embed.unMute(),xe.call(t,!1);break;case 3:Dt.call(t,t.media,"waiting")}Dt.call(t,t.elements.container,"statechange",!1,{code:n.data})}}})}}},Pe={setup:function(){this.media?(kt(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),kt(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&kt(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=ft("div",{class:this.config.classNames.video}),ht(this.media,this.elements.wrapper),this.elements.poster=ft("div",{class:this.config.classNames.poster,hidden:""}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?qt.setup.call(this):this.isYouTube?Me.setup.call(this):this.isVimeo&&Te.setup.call(this)):this.debug.warn("No media element found!")}},Ie=function(){function t(e){var i=this;n(this,t),s(this,"load",(function(){i.enabled&&(K(window.google)&&K(window.google.ima)?i.ready():_e(i.player.config.urls.googleIMA.sdk).then((function(){i.ready()})).catch((function(){i.trigger("error",new Error("Google IMA SDK failed to load"))})))})),s(this,"ready",(function(){var t;i.enabled||((t=i).manager&&t.manager.destroy(),t.elements.displayContainer&&t.elements.displayContainer.destroy(),t.elements.container.remove()),i.startSafetyTimer(12e3,"ready()"),i.managerPromise.then((function(){i.clearSafetyTimer("onAdsManagerLoaded()")})),i.listeners(),i.setupIMA()})),s(this,"setupIMA",(function(){i.elements.container=ft("div",{class:i.player.config.classNames.ads}),i.player.elements.container.appendChild(i.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(i.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(i.player.config.playsinline),i.elements.displayContainer=new google.ima.AdDisplayContainer(i.elements.container,i.player.media),i.loader=new google.ima.AdsLoader(i.elements.displayContainer),i.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(t){return i.onAdsManagerLoaded(t)}),!1),i.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){return i.onAdError(t)}),!1),i.requestAds()})),s(this,"requestAds",(function(){var t=i.player.elements.container;try{var e=new google.ima.AdsRequest;e.adTagUrl=i.tagUrl,e.linearAdSlotWidth=t.offsetWidth,e.linearAdSlotHeight=t.offsetHeight,e.nonLinearAdSlotWidth=t.offsetWidth,e.nonLinearAdSlotHeight=t.offsetHeight,e.forceNonLinearFullSlot=!1,e.setAdWillPlayMuted(!i.player.muted),i.loader.requestAds(e)}catch(t){i.onAdError(t)}})),s(this,"pollCountdown",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)return clearInterval(i.countdownTimer),void i.elements.container.removeAttribute("data-badge-text");var e=function(){var t=re(Math.max(i.manager.getRemainingTime(),0)),e="".concat(Gt("advertisement",i.player.config)," - ").concat(t);i.elements.container.setAttribute("data-badge-text",e)};i.countdownTimer=setInterval(e,100)})),s(this,"onAdsManagerLoaded",(function(t){if(i.enabled){var e=new google.ima.AdsRenderingSettings;e.restoreCustomPlaybackStateOnAdBreakComplete=!0,e.enablePreloading=!0,i.manager=t.getAdsManager(i.player,e),i.cuePoints=i.manager.getCuePoints(),i.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){return i.onAdError(t)})),Object.keys(google.ima.AdEvent.Type).forEach((function(t){i.manager.addEventListener(google.ima.AdEvent.Type[t],(function(t){return i.onAdEvent(t)}))})),i.trigger("loaded")}})),s(this,"addCuePoints",(function(){at(i.cuePoints)||i.cuePoints.forEach((function(t){if(0!==t&&-1!==t&&t<i.player.duration){var e=i.player.elements.progress;if(tt(e)){var n=100/i.player.duration*t,r=ft("span",{class:i.player.config.classNames.cues});r.style.left="".concat(n.toString(),"%"),e.appendChild(r)}}}))})),s(this,"onAdEvent",(function(t){var e=i.player.elements.container,n=t.getAd(),r=t.getAdData();switch(function(t){Dt.call(i.player,i.player.media,"ads".concat(t.replace(/_/g,"").toLowerCase()))}(t.type),t.type){case google.ima.AdEvent.Type.LOADED:i.trigger("loaded"),i.pollCountdown(!0),n.isLinear()||(n.width=e.offsetWidth,n.height=e.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:i.manager.setVolume(i.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:i.player.ended?i.loadAds():i.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:i.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:i.pollCountdown(),i.resumeContent();break;case google.ima.AdEvent.Type.LOG:r.adError&&i.player.debug.warn("Non-fatal ad error: ".concat(r.adError.getMessage()))}})),s(this,"onAdError",(function(t){i.cancel(),i.player.debug.warn("Ads error",t)})),s(this,"listeners",(function(){var t,e=i.player.elements.container;i.player.on("canplay",(function(){i.addCuePoints()})),i.player.on("ended",(function(){i.loader.contentComplete()})),i.player.on("timeupdate",(function(){t=i.player.currentTime})),i.player.on("seeked",(function(){var e=i.player.currentTime;at(i.cuePoints)||i.cuePoints.forEach((function(n,r){t<n&&n<e&&(i.manager.discardAdBreak(),i.cuePoints.splice(r,1))}))})),window.addEventListener("resize",(function(){i.manager&&i.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)}))})),s(this,"play",(function(){var t=i.player.elements.container;i.managerPromise||i.resumeContent(),i.managerPromise.then((function(){i.manager.setVolume(i.player.volume),i.elements.displayContainer.initialize();try{i.initialized||(i.manager.init(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL),i.manager.start()),i.initialized=!0}catch(t){i.onAdError(t)}})).catch((function(){}))})),s(this,"resumeContent",(function(){i.elements.container.style.zIndex="",i.playing=!1,Bt(i.player.media.play())})),s(this,"pauseContent",(function(){i.elements.container.style.zIndex=3,i.playing=!0,i.player.media.pause()})),s(this,"cancel",(function(){i.initialized&&i.resumeContent(),i.trigger("error"),i.loadAds()})),s(this,"loadAds",(function(){i.managerPromise.then((function(){i.manager&&i.manager.destroy(),i.managerPromise=new Promise((function(t){i.on("loaded",t),i.player.debug.log(i.manager)})),i.initialized=!1,i.requestAds()})).catch((function(){}))})),s(this,"trigger",(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var s=i.events[t];Z(s)&&s.forEach((function(t){G(t)&&t.apply(i,n)}))})),s(this,"on",(function(t,e){return Z(i.events[t])||(i.events[t]=[]),i.events[t].push(e),i})),s(this,"startSafetyTimer",(function(t,e){i.player.debug.log("Safety timer invoked from: ".concat(e)),i.safetyTimer=setTimeout((function(){i.cancel(),i.clearSafetyTimer("startSafetyTimer()")}),t)})),s(this,"clearSafetyTimer",(function(t){W(i.safetyTimer)||(i.player.debug.log("Safety timer cleared from: ".concat(t)),clearTimeout(i.safetyTimer),i.safetyTimer=null)})),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((function(t,e){i.on("loaded",t),i.on("error",e)})),this.load()}return r(t,[{key:"enabled",get:function(){var t=this.config;return this.player.isHTML5&&this.player.isVideo&&t.enabled&&(!at(t.publisherId)||st(t.tagUrl))}},{key:"tagUrl",get:function(){var t=this.config;if(st(t.tagUrl))return t.tagUrl;var e={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:t.publisherId};return"".concat("https://go.aniview.com/api/adserver6/vast/","?").concat(oe(e))}}]),t}(),Ee=function(t,e){var n={};return t>e.width/e.height?(n.width=e.width,n.height=1/t*e.width):(n.height=e.height,n.width=t*e.height),n},Le=function(){function t(e){var i=this;n(this,t),s(this,"load",(function(){i.player.elements.display.seekTooltip&&(i.player.elements.display.seekTooltip.hidden=i.enabled),i.enabled&&i.getThumbnails().then((function(){i.enabled&&(i.render(),i.determineContainerAutoSizing(),i.loaded=!0)}))})),s(this,"getThumbnails",(function(){return new Promise((function(t){var e=i.player.config.previewThumbnails.src;if(at(e))throw new Error("Missing previewThumbnails.src config attribute");var n=function(){i.thumbnails.sort((function(t,e){return t.height-e.height})),i.player.debug.log("Preview thumbnails",i.thumbnails),t()};if(G(e))e((function(t){i.thumbnails=t,n()}));else{var r=(J(e)?[e]:e).map((function(t){return i.getThumbnail(t)}));Promise.all(r).then(n)}}))})),s(this,"getThumbnail",(function(t){return new Promise((function(e){Xt(t).then((function(n){var r,s,a={frames:(r=n,s=[],r.split(/\r\n\r\n|\n\n|\r\r/).forEach((function(t){var e={};t.split(/\r\n|\n|\r/).forEach((function(t){if(Y(e.startTime)){if(!at(t.trim())&&at(e.text)){var n=t.trim().split("#xywh="),i=c(n,1);if(e.text=i[0],n[1]){var r=c(n[1].split(","),4);e.x=r[0],e.y=r[1],e.w=r[2],e.h=r[3]}}}else{var s=t.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);s&&(e.startTime=60*Number(s[1]||0)*60+60*Number(s[2])+Number(s[3])+Number("0.".concat(s[4])),e.endTime=60*Number(s[6]||0)*60+60*Number(s[7])+Number(s[8])+Number("0.".concat(s[9])))}})),e.text&&s.push(e)})),s),height:null,urlPrefix:""};a.frames[0].text.startsWith("/")||a.frames[0].text.startsWith("http://")||a.frames[0].text.startsWith("https://")||(a.urlPrefix=t.substring(0,t.lastIndexOf("/")+1));var o=new Image;o.onload=function(){a.height=o.naturalHeight,a.width=o.naturalWidth,i.thumbnails.push(a),e()},o.src=a.urlPrefix+a.frames[0].text}))}))})),s(this,"startMove",(function(t){if(i.loaded&&et(t)&&["touchmove","mousemove"].includes(t.type)&&i.player.media.duration){if("touchmove"===t.type)i.seekTime=i.player.media.duration*(i.player.elements.inputs.seek.value/100);else{var e=i.player.elements.progress.getBoundingClientRect(),n=100/e.width*(t.pageX-e.left);i.seekTime=i.player.media.duration*(n/100),i.seekTime<0&&(i.seekTime=0),i.seekTime>i.player.media.duration-1&&(i.seekTime=i.player.media.duration-1),i.mousePosX=t.pageX,i.elements.thumb.time.innerText=re(i.seekTime)}i.showImageAtCurrentTime()}})),s(this,"endMove",(function(){i.toggleThumbContainer(!1,!0)})),s(this,"startScrubbing",(function(t){(W(t.button)||!1===t.button||0===t.button)&&(i.mouseDown=!0,i.player.media.duration&&(i.toggleScrubbingContainer(!0),i.toggleThumbContainer(!1,!0),i.showImageAtCurrentTime()))})),s(this,"endScrubbing",(function(){i.mouseDown=!1,Math.ceil(i.lastTime)===Math.ceil(i.player.media.currentTime)?i.toggleScrubbingContainer(!1):Ot.call(i.player,i.player.media,"timeupdate",(function(){i.mouseDown||i.toggleScrubbingContainer(!1)}))})),s(this,"listeners",(function(){i.player.on("play",(function(){i.toggleThumbContainer(!1,!0)})),i.player.on("seeked",(function(){i.toggleThumbContainer(!1)})),i.player.on("timeupdate",(function(){i.lastTime=i.player.media.currentTime}))})),s(this,"render",(function(){i.elements.thumb.container=ft("div",{class:i.player.config.classNames.previewThumbnails.thumbContainer}),i.elements.thumb.imageContainer=ft("div",{class:i.player.config.classNames.previewThumbnails.imageContainer}),i.elements.thumb.container.appendChild(i.elements.thumb.imageContainer);var t=ft("div",{class:i.player.config.classNames.previewThumbnails.timeContainer});i.elements.thumb.time=ft("span",{},"00:00"),t.appendChild(i.elements.thumb.time),i.elements.thumb.container.appendChild(t),tt(i.player.elements.progress)&&i.player.elements.progress.appendChild(i.elements.thumb.container),i.elements.scrubbing.container=ft("div",{class:i.player.config.classNames.previewThumbnails.scrubbingContainer}),i.player.elements.wrapper.appendChild(i.elements.scrubbing.container)})),s(this,"destroy",(function(){i.elements.thumb.container&&i.elements.thumb.container.remove(),i.elements.scrubbing.container&&i.elements.scrubbing.container.remove()})),s(this,"showImageAtCurrentTime",(function(){i.mouseDown?i.setScrubbingContainerSize():i.setThumbContainerSizeAndPos();var t=i.thumbnails[0].frames.findIndex((function(t){return i.seekTime>=t.startTime&&i.seekTime<=t.endTime})),e=t>=0,n=0;i.mouseDown||i.toggleThumbContainer(e),e&&(i.thumbnails.forEach((function(e,r){i.loadedImages.includes(e.frames[t].text)&&(n=r)})),t!==i.showingThumb&&(i.showingThumb=t,i.loadImage(n)))})),s(this,"loadImage",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=i.showingThumb,n=i.thumbnails[t],r=n.urlPrefix,s=n.frames[e],a=n.frames[e].text,o=r+a;if(i.currentImageElement&&i.currentImageElement.dataset.filename===a)i.showImage(i.currentImageElement,s,t,e,a,!1),i.currentImageElement.dataset.index=e,i.removeOldImages(i.currentImageElement);else{i.loadingImage&&i.usingSprites&&(i.loadingImage.onload=null);var l=new Image;l.src=o,l.dataset.index=e,l.dataset.filename=a,i.showingThumbFilename=a,i.player.debug.log("Loading image: ".concat(o)),l.onload=function(){return i.showImage(l,s,t,e,a,!0)},i.loadingImage=l,i.removeOldImages(l)}})),s(this,"showImage",(function(t,e,n,r,s){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];i.player.debug.log("Showing thumb: ".concat(s,". num: ").concat(r,". qual: ").concat(n,". newimg: ").concat(a)),i.setImageSizeAndOffset(t,e),a&&(i.currentImageContainer.appendChild(t),i.currentImageElement=t,i.loadedImages.includes(s)||i.loadedImages.push(s)),i.preloadNearby(r,!0).then(i.preloadNearby(r,!1)).then(i.getHigherQuality(n,t,e,s))})),s(this,"removeOldImages",(function(t){Array.from(i.currentImageContainer.children).forEach((function(e){if("img"===e.tagName.toLowerCase()){var n=i.usingSprites?500:1e3;if(e.dataset.index!==t.dataset.index&&!e.dataset.deleting){e.dataset.deleting=!0;var r=i.currentImageContainer;setTimeout((function(){r.removeChild(e),i.player.debug.log("Removing thumb: ".concat(e.dataset.filename))}),n)}}}))})),s(this,"preloadNearby",(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(n){setTimeout((function(){var r=i.thumbnails[0].frames[t].text;if(i.showingThumbFilename===r){var s;s=e?i.thumbnails[0].frames.slice(t):i.thumbnails[0].frames.slice(0,t).reverse();var a=!1;s.forEach((function(t){var e=t.text;if(e!==r&&!i.loadedImages.includes(e)){a=!0,i.player.debug.log("Preloading thumb filename: ".concat(e));var s=i.thumbnails[0].urlPrefix+e,o=new Image;o.src=s,o.onload=function(){i.player.debug.log("Preloaded thumb filename: ".concat(e)),i.loadedImages.includes(e)||i.loadedImages.push(e),n()}}})),a||n()}}),300)}))})),s(this,"getHigherQuality",(function(t,e,n,r){if(t<i.thumbnails.length-1){var s=e.naturalHeight;i.usingSprites&&(s=n.h),s<i.thumbContainerHeight&&setTimeout((function(){i.showingThumbFilename===r&&(i.player.debug.log("Showing higher quality thumb for: ".concat(r)),i.loadImage(t+1))}),300)}})),s(this,"toggleThumbContainer",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=i.player.config.classNames.previewThumbnails.thumbContainerShown;i.elements.thumb.container.classList.toggle(n,t),!t&&e&&(i.showingThumb=null,i.showingThumbFilename=null)})),s(this,"toggleScrubbingContainer",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=i.player.config.classNames.previewThumbnails.scrubbingContainerShown;i.elements.scrubbing.container.classList.toggle(e,t),t||(i.showingThumb=null,i.showingThumbFilename=null)})),s(this,"determineContainerAutoSizing",(function(){(i.elements.thumb.imageContainer.clientHeight>20||i.elements.thumb.imageContainer.clientWidth>20)&&(i.sizeSpecifiedInCSS=!0)})),s(this,"setThumbContainerSizeAndPos",(function(){if(i.sizeSpecifiedInCSS){if(i.elements.thumb.imageContainer.clientHeight>20&&i.elements.thumb.imageContainer.clientWidth<20){var t=Math.floor(i.elements.thumb.imageContainer.clientHeight*i.thumbAspectRatio);i.elements.thumb.imageContainer.style.width="".concat(t,"px")}else if(i.elements.thumb.imageContainer.clientHeight<20&&i.elements.thumb.imageContainer.clientWidth>20){var e=Math.floor(i.elements.thumb.imageContainer.clientWidth/i.thumbAspectRatio);i.elements.thumb.imageContainer.style.height="".concat(e,"px")}}else{var n=Math.floor(i.thumbContainerHeight*i.thumbAspectRatio);i.elements.thumb.imageContainer.style.height="".concat(i.thumbContainerHeight,"px"),i.elements.thumb.imageContainer.style.width="".concat(n,"px")}i.setThumbContainerPos()})),s(this,"setThumbContainerPos",(function(){var t=i.player.elements.progress.getBoundingClientRect(),e=i.player.elements.container.getBoundingClientRect(),n=i.elements.thumb.container,r=e.left-t.left+10,s=e.right-t.left-n.clientWidth-10,a=i.mousePosX-t.left-n.clientWidth/2;a<r&&(a=r),a>s&&(a=s),n.style.left="".concat(a,"px")})),s(this,"setScrubbingContainerSize",(function(){var t=Ee(i.thumbAspectRatio,{width:i.player.media.clientWidth,height:i.player.media.clientHeight}),e=t.width,n=t.height;i.elements.scrubbing.container.style.width="".concat(e,"px"),i.elements.scrubbing.container.style.height="".concat(n,"px")})),s(this,"setImageSizeAndOffset",(function(t,e){if(i.usingSprites){var n=i.thumbContainerHeight/e.h;t.style.height="".concat(t.naturalHeight*n,"px"),t.style.width="".concat(t.naturalWidth*n,"px"),t.style.left="-".concat(e.x*n,"px"),t.style.top="-".concat(e.y*n,"px")}})),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}return r(t,[{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}},{key:"currentImageContainer",get:function(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}},{key:"usingSprites",get:function(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}},{key:"thumbAspectRatio",get:function(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}},{key:"thumbContainerHeight",get:function(){return this.mouseDown?Ee(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}).height:this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}},{key:"currentImageElement",get:function(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement},set:function(t){this.mouseDown?this.currentScrubbingImageElement=t:this.currentThumbnailImageElement=t}}]),t}(),Ne={insertElements:function(t,e){var n=this;J(e)?mt(t,this.media,{src:e}):Z(e)&&e.forEach((function(e){mt(t,n.media,e)}))},change:function(t){var e=this;ut(t,"sources.length")?(qt.cancelRequests.call(this),this.destroy.call(this,(function(){e.options.quality=[],gt(e.media),e.media=null,tt(e.elements.container)&&e.elements.container.removeAttribute("class");var n=t.sources,i=t.type,r=c(n,1)[0],s=r.provider,a=void 0===s?he.html5:s,o=r.src,l="html5"===a?i:"div",u="html5"===a?{}:{src:o};Object.assign(e,{provider:a,type:i,supported:Pt.check(i,a,e.config.playsinline),media:ft(l,u)}),e.elements.container.appendChild(e.media),Q(t.autoplay)&&(e.config.autoplay=t.autoplay),e.isHTML5&&(e.config.crossorigin&&e.media.setAttribute("crossorigin",""),e.config.autoplay&&e.media.setAttribute("autoplay",""),at(t.poster)||(e.poster=t.poster),e.config.loop.active&&e.media.setAttribute("loop",""),e.config.muted&&e.media.setAttribute("muted",""),e.config.playsinline&&e.media.setAttribute("playsinline","")),be.addStyleHook.call(e),e.isHTML5&&Ne.insertElements.call(e,"source",n),e.config.title=t.title,Pe.setup.call(e),e.isHTML5&&Object.keys(t).includes("tracks")&&Ne.insertElements.call(e,"track",t.tracks),(e.isHTML5||e.isEmbed&&!e.supported.ui)&&be.build.call(e),e.isHTML5&&e.media.load(),at(t.previewThumbnails)||(Object.assign(e.config.previewThumbnails,t.previewThumbnails),e.previewThumbnails&&e.previewThumbnails.loaded&&(e.previewThumbnails.destroy(),e.previewThumbnails=null),e.config.previewThumbnails.enabled&&(e.previewThumbnails=new Le(e))),e.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}},Oe=function(){function t(e,i){var r=this;if(n(this,t),s(this,"play",(function(){return G(r.media.play)?(r.ads&&r.ads.enabled&&r.ads.managerPromise.then((function(){return r.ads.play()})).catch((function(){return Bt(r.media.play())})),r.media.play()):null})),s(this,"pause",(function(){return r.playing&&G(r.media.pause)?r.media.pause():null})),s(this,"togglePlay",(function(t){return(Q(t)?t:!r.playing)?r.play():r.pause()})),s(this,"stop",(function(){r.isHTML5?(r.pause(),r.restart()):G(r.media.stop)&&r.media.stop()})),s(this,"restart",(function(){r.currentTime=0})),s(this,"rewind",(function(t){r.currentTime-=Y(t)?t:r.config.seekTime})),s(this,"forward",(function(t){r.currentTime+=Y(t)?t:r.config.seekTime})),s(this,"increaseVolume",(function(t){var e=r.media.muted?0:r.volume;r.volume=e+(Y(t)?t:0)})),s(this,"decreaseVolume",(function(t){r.increaseVolume(-t)})),s(this,"airplay",(function(){Pt.airplay&&r.media.webkitShowPlaybackTargetPicker()})),s(this,"toggleControls",(function(t){if(r.supported.ui&&!r.isAudio){var e=_t(r.elements.container,r.config.classNames.hideControls),n=void 0===t?void 0:!t,i=kt(r.elements.container,r.config.classNames.hideControls,n);if(i&&Z(r.config.controls)&&r.config.controls.includes("settings")&&!at(r.config.settings)&&se.toggleMenu.call(r,!1),i!==e){var s=i?"controlshidden":"controlsshown";Dt.call(r,r.media,s)}return!i}return!1})),s(this,"on",(function(t,e){Lt.call(r,r.elements.container,t,e)})),s(this,"once",(function(t,e){Ot.call(r,r.elements.container,t,e)})),s(this,"off",(function(t,e){Nt(r.elements.container,t,e)})),s(this,"destroy",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r.ready){var n=function(){document.body.style.overflow="",r.embed=null,e?(Object.keys(r.elements).length&&(gt(r.elements.buttons.play),gt(r.elements.captions),gt(r.elements.controls),gt(r.elements.wrapper),r.elements.buttons.play=null,r.elements.captions=null,r.elements.controls=null,r.elements.wrapper=null),G(t)&&t()):(jt.call(r),qt.cancelRequests.call(r),yt(r.elements.original,r.elements.container),Dt.call(r,r.elements.original,"destroyed",!0),G(t)&&t.call(r.elements.original),r.ready=!1,setTimeout((function(){r.elements=null,r.media=null}),200))};r.stop(),clearTimeout(r.timers.loading),clearTimeout(r.timers.controls),clearTimeout(r.timers.resized),r.isHTML5?(be.toggleNativeControls.call(r,!0),n()):r.isYouTube?(clearInterval(r.timers.buffering),clearInterval(r.timers.playing),null!==r.embed&&G(r.embed.destroy)&&r.embed.destroy(),n()):r.isVimeo&&(null!==r.embed&&r.embed.unload().then(n),setTimeout(n,200))}})),s(this,"supports",(function(t){return Pt.mime.call(r,t)})),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=Pt.touch,this.media=e,J(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||X(this.media)||Z(this.media))&&(this.media=this.media[0]),this.config=dt({},ce,t.defaults,i||{},function(){try{return JSON.parse(r.media.getAttribute("data-plyr-config"))}catch(t){return{}}}()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new ge(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",Pt),!W(this.media)&&tt(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(Pt.check().api){var a=this.media.cloneNode(!0);a.autoplay=!1,this.elements.original=a;var o=this.media.tagName.toLowerCase(),l=null,c=null;switch(o){case"div":if(l=this.media.querySelector("iframe"),tt(l)){if(c=ae(l.getAttribute("src")),this.provider=function(t){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(t)?he.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(t)?he.vimeo:null}(c.toString()),this.elements.container=this.media,this.media=l,this.elements.container.className="",c.search.length){var u=["1","true"];u.includes(c.searchParams.get("autoplay"))&&(this.config.autoplay=!0),u.includes(c.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=u.includes(c.searchParams.get("playsinline")),this.config.youtube.hl=c.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(at(this.provider)||!Object.values(he).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=fe;break;case"video":case"audio":this.type=o,this.provider=he.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=Pt.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new we(this),this.storage=new Zt(this),this.media.plyr=this,tt(this.elements.container)||(this.elements.container=ft("div",{tabindex:0}),ht(this.media,this.elements.container)),be.migrateStyles.call(this),be.addStyleHook.call(this),Pe.setup.call(this),this.config.debug&&Lt.call(this,this.elements.container,this.config.events.join(" "),(function(t){r.debug.log("event: ".concat(t.type))})),this.fullscreen=new ve(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&be.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new Ie(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",(function(){return Bt(r.play())})),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Le(this))):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return r(t,[{key:"toggleCaptions",value:function(t){le.toggle.call(this,t,!1)}},{key:"isHTML5",get:function(){return this.provider===he.html5}},{key:"isEmbed",get:function(){return this.isYouTube||this.isVimeo}},{key:"isYouTube",get:function(){return this.provider===he.youtube}},{key:"isVimeo",get:function(){return this.provider===he.vimeo}},{key:"isVideo",get:function(){return this.type===fe}},{key:"isAudio",get:function(){return this.type===pe}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(t){if(this.duration){var e=Y(t)&&t>0;this.media.currentTime=e?Math.min(t,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var t=this.media.buffered;return Y(t)?t:t&&t.length&&this.duration>0?t.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var t=parseFloat(this.config.duration),e=(this.media||{}).duration,n=Y(e)&&e!==1/0?e:0;return t||n}},{key:"volume",set:function(t){var e=t;J(e)&&(e=Number(e)),Y(e)||(e=this.storage.get("volume")),Y(e)||(e=this.config.volume),e>1&&(e=1),e<0&&(e=0),this.config.volume=e,this.media.volume=e,!at(t)&&this.muted&&e>0&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(t){var e=t;Q(e)||(e=this.storage.get("muted")),Q(e)||(e=this.config.muted),this.config.muted=e,this.media.muted=e},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(t){var e=this,n=null;Y(t)&&(n=t),Y(n)||(n=this.storage.get("speed")),Y(n)||(n=this.config.speed.selected);var i=this.minimumSpeed,r=this.maximumSpeed;n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255;return Math.min(Math.max(t,e),n)}(n,i,r),this.config.speed.selected=n,setTimeout((function(){e.media.playbackRate=n}),0)},get:function(){return Number(this.media.playbackRate)}},{key:"minimumSpeed",get:function(){return this.isYouTube?Math.min.apply(Math,u(this.options.speed)):this.isVimeo?.5:.0625}},{key:"maximumSpeed",get:function(){return this.isYouTube?Math.max.apply(Math,u(this.options.speed)):this.isVimeo?2:16}},{key:"quality",set:function(t){var e=this.config.quality,n=this.options.quality;if(n.length){var i=[!at(t)&&Number(t),this.storage.get("quality"),e.selected,e.default].find(Y),r=!0;if(!n.includes(i)){var s=function(t,e){return Z(t)&&t.length?t.reduce((function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t})):null}(n,i);this.debug.warn("Unsupported quality option: ".concat(i,", using ").concat(s," instead")),i=s,r=!1}e.selected=i,this.media.quality=i,r&&this.storage.set({quality:i})}},get:function(){return this.media.quality}},{key:"loop",set:function(t){var e=Q(t)?t:this.config.loop.active;this.config.loop.active=e,this.media.loop=e},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(t){Ne.change.call(this,t)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var t=this.config.urls.download;return st(t)?t:this.source},set:function(t){st(t)&&(this.config.urls.download=t,se.setDownloadUrl.call(this))}},{key:"poster",set:function(t){this.isVideo?be.setPoster.call(this,t,!1).catch((function(){})):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}},{key:"ratio",get:function(){if(!this.isVideo)return null;var t=Ft(Ut.call(this));return Z(t)?t.join(":"):t},set:function(t){this.isVideo?J(t)&&$t(t)?(this.config.ratio=t,zt.call(this)):this.debug.error("Invalid aspect ratio specified (".concat(t,")")):this.debug.warn("Aspect ratio can only be set for video")}},{key:"autoplay",set:function(t){var e=Q(t)?t:this.config.autoplay;this.config.autoplay=e},get:function(){return Boolean(this.config.autoplay)}},{key:"currentTrack",set:function(t){le.set.call(this,t,!1)},get:function(){var t=this.captions,e=t.toggled,n=t.currentTrack;return e?n:-1}},{key:"language",set:function(t){le.setLanguage.call(this,t,!1)},get:function(){return(le.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(t){if(Pt.pip){var e=Q(t)?t:!this.pip;G(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(e?ue:de),G(this.media.requestPictureInPicture)&&(!this.pip&&e?this.media.requestPictureInPicture():this.pip&&!e&&document.exitPictureInPicture())}},get:function(){return Pt.pip?at(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===ue:null}}],[{key:"supported",value:function(t,e,n){return Pt.check(t,e,n)}},{key:"loadSprite",value:function(t,e){return te(t,e)}},{key:"setup",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null;return J(e)?i=Array.from(document.querySelectorAll(e)):X(e)?i=Array.from(e):Z(e)&&(i=e.filter(tt)),at(i)?null:i.map((function(e){return new t(e,n)}))}}]),t}();return Oe.defaults=(Se=ce,JSON.parse(JSON.stringify(Se))),Oe}))}).call(this,n("c8ba"))},5124:function(t,e,n){},"530f":function(t,e,n){"use strict";n("a08b")},5615:function(t,e,n){var i=n("be56");function r(t){var e=t.length;return e?t[i(0,e-1)]:void 0}t.exports=r},"577e4":function(t,e){function n(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}n.prototype.set=function(t,e,n,i){const r=t*this.size+e;this.data[r]=n,i&&(this.reservedBit[r]=!0)},n.prototype.get=function(t,e){return this.data[t*this.size+e]},n.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},n.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=n},"58b4":function(t,e,n){"use strict";t.exports=function(t){for(var e=[],n=t.length,i=0;i<n;i++){var r=t.charCodeAt(i);if(r>=55296&&r<=56319&&n>i+1){var s=t.charCodeAt(i+1);s>=56320&&s<=57343&&(r=1024*(r-55296)+s-56320+65536,i+=1)}r<128?e.push(r):r<2048?(e.push(r>>6|192),e.push(63&r|128)):r<55296||r>=57344&&r<65536?(e.push(r>>12|224),e.push(r>>6&63|128),e.push(63&r|128)):r>=65536&&r<=1114111?(e.push(r>>18|240),e.push(r>>12&63|128),e.push(r>>6&63|128),e.push(63&r|128)):e.push(239,191,189)}return new Uint8Array(e).buffer}},"5b81":function(t,e,n){"use strict";var i=n("23e7"),r=n("c65b"),s=n("e330"),a=n("1d80"),o=n("1626"),l=n("7234"),c=n("44e7"),u=n("577e"),d=n("dc4a"),h=n("90d8"),p=n("0cb2"),f=n("b622"),m=n("c430"),g=f("replace"),v=TypeError,y=s("".indexOf),b=s("".replace),w=s("".slice),k=Math.max,_=function(t,e,n){return n>t.length?-1:""===e?n:y(t,e,n)};i({target:"String",proto:!0},{replaceAll:function(t,e){var n,i,s,f,C,T,x,A,S,M=a(this),P=0,I=0,E="";if(!l(t)){if(n=c(t),n&&(i=u(a(h(t))),!~y(i,"g")))throw v("`.replaceAll` does not allow non-global regexes");if(s=d(t,g),s)return r(s,t,M,e);if(m&&n)return b(u(M),t,e)}f=u(M),C=u(t),T=o(e),T||(e=u(e)),x=C.length,A=k(1,x),P=_(f,C,0);while(-1!==P)S=T?u(e(C,P,f)):p(C,f,P,[],void 0,e),E+=w(f,I,P)+S,I=P+x,P=_(f,C,P+A);return I<f.length&&(E+=w(f,I)),E}})},"5e45":function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("button",{class:t.color,style:t.buttonStyle},[null!==t.iconClass?e("svg-icon",{style:{marginRight:t.iconButton?"0px":"8px"},attrs:{"icon-class":t.iconClass}}):t._e(),t._t("default")],2)},r=[],s={name:"ButtonTwoTone",props:{iconClass:{type:String,default:null},iconButton:{type:Boolean,default:!1},horizontalPadding:{type:Number,default:16},color:{type:String,default:"blue"},backgroundColor:{type:String,default:""},textColor:{type:String,default:""},shape:{type:String,default:"square"}},computed:{buttonStyle(){let t={borderRadius:"round"===this.shape?"50%":"8px",padding:`8px ${this.horizontalPadding}px`,width:"round"===this.shape?"38px":"auto"};return""!==this.backgroundColor&&(t.backgroundColor=this.backgroundColor),""!==this.textColor&&(t.color=this.textColor),t}}},a=s,o=(n("9178"),n("0c7c")),l=Object(o["a"])(a,i,r,!1,null,"34c86e99",null);e["a"]=l.exports},6511:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"home"},[!1!==t.settings.showPlaylistsByAppleMusic?e("div",{staticClass:"index-row first-row"},[e("div",{staticClass:"title"},[t._v(" by Apple Music ")]),e("CoverRow",{attrs:{type:"playlist",items:t.byAppleMusic,"sub-text":"appleMusic","image-size":1024}})],1):t._e(),e("div",{staticClass:"index-row"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("home.recommendPlaylist"))+" "),e("router-link",{attrs:{to:"/explore?category=推荐歌单"}},[t._v(t._s(t.$t("home.seeMore")))])],1),e("CoverRow",{attrs:{type:"playlist",items:t.recommendPlaylist.items,"sub-text":"copywriter"}})],1),e("div",{staticClass:"index-row"},[e("div",{staticClass:"title"},[t._v(" For You ")]),e("div",{staticClass:"for-you-row"},[e("DailyTracksCard",{ref:"DailyTracksCard"}),e("FMCard")],1)]),e("div",{staticClass:"index-row"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("home.recommendArtist")))]),e("CoverRow",{attrs:{type:"artist","column-number":6,items:t.recommendArtists.items}})],1),e("div",{staticClass:"index-row"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("home.newAlbum"))+" "),e("router-link",{attrs:{to:"/new-album"}},[t._v(t._s(t.$t("home.seeMore")))])],1),e("CoverRow",{attrs:{type:"album",items:t.newReleasesAlbum.items,"sub-text":"artist"}})],1),e("div",{staticClass:"index-row"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("home.charts"))+" "),e("router-link",{attrs:{to:"/explore?category=排行榜"}},[t._v(t._s(t.$t("home.seeMore")))])],1),e("CoverRow",{attrs:{type:"playlist",items:t.topList.items,"sub-text":"updateFrequency","image-size":1024}})],1)])},r=[],s=(n("14d9"),n("1e9a")),a=n("512b"),o=n("e498"),l=n("d87d"),c=n("8199"),u=n("323e"),d=n.n(u),h=n("2f62"),p=n("2726"),f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"fm",style:{background:t.background},attrs:{"data-theme":"dark"}},[e("img",{staticStyle:{display:"none"},attrs:{src:t.nextTrackCover,loading:"lazy"}}),e("img",{staticClass:"cover",attrs:{src:t._f("resizeImage")(t.track.album&&t.track.album.picUrl,512),loading:"lazy"},on:{click:t.goToAlbum}}),e("div",{staticClass:"right-part"},[e("div",{staticClass:"info"},[e("div",{staticClass:"title"},[t._v(t._s(t.track.name))]),e("div",{staticClass:"artist"},[e("ArtistsInLine",{attrs:{artists:t.artists}})],1)]),e("div",{staticClass:"controls"},[e("div",{staticClass:"buttons"},[e("button-icon",{attrs:{title:"不喜欢"},nativeOn:{click:function(e){return t.moveToFMTrash.apply(null,arguments)}}},[e("svg-icon",{attrs:{id:"thumbs-down","icon-class":"thumbs-down"}})],1),e("button-icon",{staticClass:"play",attrs:{title:t.$t(t.isPlaying?"player.pause":"player.play")},nativeOn:{click:function(e){return t.play.apply(null,arguments)}}},[e("svg-icon",{attrs:{"icon-class":t.isPlaying?"pause":"play"}})],1),e("button-icon",{attrs:{title:t.$t("player.next")},nativeOn:{click:function(e){return t.next.apply(null,arguments)}}},[e("svg-icon",{attrs:{"icon-class":"next"}})],1)],1),e("div",{staticClass:"card-name"},[e("svg-icon",{attrs:{"icon-class":"fm"}}),t._v("私人FM")],1)])])])},m=[],g=n("2185"),v=n("186d"),y=n("bbeb"),b=n("6929"),w=n.n(b),k={name:"FMCard",components:{ButtonIcon:g["a"],ArtistsInLine:v["a"]},data(){return{background:""}},computed:{...Object(h["d"])(["player"]),track(){return this.player.personalFMTrack},isPlaying(){return this.player.playing&&this.player.isPersonalFM},artists(){return this.track.artists||this.track.ar||[]},nextTrackCover(){var t,e;return(null===(t=this.player._personalFMNextTrack)||void 0===t||null===(e=t.album)||void 0===e?void 0:e.picUrl.replace("http://","https://"))+"?param=512y512"}},watch:{track(){this.getColor()}},created(){this.getColor(),window.ok=this.getColor},methods:{play(){this.player.playPersonalFM()},next(){this.player.playNextFMTrack()},goToAlbum(){0!==this.track.album.id&&this.$router.push({path:"/album/"+this.track.album.id})},moveToFMTrash(){this.player.moveToFMTrash()},getColor(){var t,e;if(null===(t=this.player.personalFMTrack)||void 0===t||null===(e=t.album)||void 0===e||!e.picUrl)return;const n=this.player.personalFMTrack.album.picUrl.replace("http://","https://")+"?param=512y512";y["from"](n,{colorCount:1}).getPalette().then(t=>{const e=w.a.rgb(t.Vibrant._rgb).darken(.1).rgb().string(),n=w.a.rgb(t.Vibrant._rgb).lighten(.28).rotate(-30).rgb().string();this.background=`linear-gradient(to top left, ${e}, ${n})`})}}},_=k,C=(n("1b11"),n("0c7c")),T=Object(C["a"])(_,f,m,!1,null,"03d10cd7",null),x=T.exports,A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"daily-recommend-card",on:{click:t.goToDailyTracks}},[e("img",{attrs:{src:t.coverUrl,loading:"lazy"}}),t._m(0),e("button",{staticClass:"play-button",on:{click:function(e){return e.stopPropagation(),t.playDailyTracks.apply(null,arguments)}}},[e("svg-icon",{attrs:{"icon-class":"play"}})],1)])},S=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"title-box"},[e("div",{staticClass:"title"},[e("span",[t._v("每")]),e("span",[t._v("日")]),e("span",[t._v("推")]),e("span",[t._v("荐")])])])])}],M=n("fe07"),P=n("5f87"),I=n("7d3a"),E=n.n(I);const L=["https://p2.music.126.net/0-Ybpa8FrDfRgKYCTJD8Xg==/109951164796696795.jpg","https://p2.music.126.net/QxJA2mr4hhb9DZyucIOIQw==/109951165422200291.jpg","https://p1.music.126.net/AhYP9TET8l-VSGOpWAKZXw==/109951165134386387.jpg"];var N={name:"DailyTracksCard",data(){return{useAnimation:!1}},computed:{...Object(h["d"])(["dailyTracks"]),coverUrl(){var t;return((null===(t=this.dailyTracks[0])||void 0===t?void 0:t.al.picUrl)||E()(L))+"?param=1024y1024"}},created(){0===this.dailyTracks.length&&this.loadDailyTracks()},methods:{...Object(h["b"])(["showToast"]),...Object(h["c"])(["updateDailyTracks"]),loadDailyTracks(){Object(P["c"])()&&Object(s["d"])().then(t=>{this.updateDailyTracks(t.data.dailySongs)}).catch(()=>{})},goToDailyTracks(){this.$router.push({name:"dailySongs"})},playDailyTracks(){if(!Object(P["c"])())return void this.showToast(M["a"].t("toast.needToLogin"));let t=this.dailyTracks.map(t=>t.id);this.$store.state.player.replacePlaylist(t,"/daily/songs","url",this.dailyTracks[0].id)}}},O=N,D=(n("2d39"),Object(C["a"])(O,A,S,!1,null,"5032d146",null)),j=D.exports,R={name:"Home",components:{CoverRow:p["a"],FMCard:x,DailyTracksCard:j},data(){return{show:!1,recommendPlaylist:{items:[]},newReleasesAlbum:{items:[]},topList:{items:[],ids:[19723756,180106,60198,3812895,60131]},recommendArtists:{items:[],indexs:[]}}},computed:{...Object(h["d"])(["settings"]),byAppleMusic(){return l["a"]}},activated(){this.loadData(),this.$parent.$refs.scrollbar.restorePosition()},methods:{loadData(){var t,e;setTimeout(()=>{this.show||d.a.start()},1e3),Object(c["b"])(10,!1).then(t=>{this.recommendPlaylist.items=t,d.a.done(),this.show=!0}),Object(o["d"])({area:null!==(t=this.settings.musicLanguage)&&void 0!==t?t:"ALL",limit:10}).then(t=>{this.newReleasesAlbum.items=t.albums});const n={all:null,zh:1,ea:2,jp:4,kr:3};Object(a["f"])(n[null!==(e=this.settings.musicLanguage)&&void 0!==e?e:"all"]).then(t=>{let e=[];while(e.length<6){let t=~~(100*Math.random());e.includes(t)||e.push(t)}this.recommendArtists.indexs=e,this.recommendArtists.items=t.list.artists.filter((t,n)=>e.includes(n))}),Object(s["l"])().then(t=>{this.topList.items=t.list.filter(t=>this.topList.ids.includes(t.id))}),this.$refs.DailyTracksCard.loadDailyTracks()}}},B=R,$=(n("6cbc"),Object(C["a"])(B,i,r,!1,null,"14ad69c7",null));e["default"]=$.exports},6581:function(t,e,n){},"66db":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"artist-page"},[e("div",{staticClass:"artist-info"},[e("div",{staticClass:"head"},[e("img",{attrs:{src:t._f("resizeImage")(t.artist.img1v1Url,1024),loading:"lazy"}})]),e("div",[e("div",{staticClass:"name"},[t._v(t._s(t.artist.name))]),e("div",{staticClass:"artist"},[t._v(t._s(t.$t("artist.artist")))]),e("div",{staticClass:"statistics"},[e("a",{on:{click:function(e){return t.scrollTo("popularTracks")}}},[t._v(t._s(t.artist.musicSize)+" "+t._s(t.$t("common.songs")))]),t._v(" · "),e("a",{on:{click:function(e){return t.scrollTo("seeMore","start")}}},[t._v(t._s(t.artist.albumSize)+" "+t._s(t.$t("artist.withAlbums")))]),t._v(" · "),e("a",{on:{click:function(e){return t.scrollTo("mvs")}}},[t._v(t._s(t.artist.mvSize)+" "+t._s(t.$t("artist.videos")))])]),e("div",{staticClass:"description",on:{click:t.toggleFullDescription}},[t._v(" "+t._s(t.artist.briefDesc)+" ")]),e("div",{staticClass:"buttons"},[e("ButtonTwoTone",{attrs:{"icon-class":"play"},nativeOn:{click:function(e){return t.playPopularSongs()}}},[t._v(" "+t._s(t.$t("common.play"))+" ")]),e("ButtonTwoTone",{attrs:{color:"grey"},nativeOn:{click:function(e){return t.followArtist.apply(null,arguments)}}},[t.artist.followed?e("span",[t._v(t._s(t.$t("artist.following")))]):e("span",[t._v(t._s(t.$t("artist.follow")))])]),e("ButtonTwoTone",{attrs:{"icon-class":"more","icon-button":!0,"horizontal-padding":0,color:"grey"},nativeOn:{click:function(e){return t.openMenu.apply(null,arguments)}}})],1)])]),void 0!==t.latestRelease?e("div",{staticClass:"latest-release"},[e("div",{staticClass:"section-title"},[t._v(t._s(t.$t("artist.latestRelease")))]),e("div",{staticClass:"release"},[e("div",{staticClass:"container"},[e("Cover",{attrs:{id:t.latestRelease.id,"img-url":t._f("resizeImage")(t.latestRelease.picUrl),type:"album","fixed-size":128,"play-button-size":30}}),e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[e("router-link",{attrs:{to:"/album/"+t.latestRelease.id}},[t._v(t._s(t.latestRelease.name))])],1),e("div",{staticClass:"date"},[t._v(" "+t._s(t._f("formatDate")(t.latestRelease.publishTime))+" ")]),e("div",{staticClass:"type"},[t._v(" "+t._s(t._f("formatAlbumType")(t.latestRelease.type,t.latestRelease))+" · "+t._s(t.latestRelease.size)+" "+t._s(t.$t("common.songs"))+" ")])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.latestMV.id,expression:"latestMV.id"}],staticClass:"container latest-mv"},[e("div",{staticClass:"cover",on:{mouseover:function(e){t.mvHover=!0},mouseleave:function(e){t.mvHover=!1},click:function(e){return t.goToMv(t.latestMV.id)}}},[e("img",{attrs:{src:t.latestMV.coverUrl,loading:"lazy"}}),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.mvHover,expression:"mvHover"}],staticClass:"shadow",style:{background:"url("+t.latestMV.coverUrl+")"}})])],1),e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[e("router-link",{attrs:{to:"/mv/"+t.latestMV.id}},[t._v(t._s(t.latestMV.name))])],1),e("div",{staticClass:"date"},[t._v(" "+t._s(t._f("formatDate")(t.latestMV.publishTime))+" ")]),e("div",{staticClass:"type"},[t._v(t._s(t.$t("artist.latestMV")))])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.latestMV.id,expression:"!latestMV.id"}]})])]):t._e(),e("div",{staticClass:"popular-tracks",attrs:{id:"popularTracks"}},[e("div",{staticClass:"section-title"},[t._v(t._s(t.$t("artist.popularSongs")))]),e("TrackList",{attrs:{tracks:t.popularTracks.slice(0,t.showMorePopTracks?24:12),type:"tracklist"}}),e("div",{staticClass:"show-more",attrs:{id:"seeMore"}},[e("button",{on:{click:function(e){t.showMorePopTracks=!t.showMorePopTracks}}},[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.showMorePopTracks,expression:"!showMorePopTracks"}]},[t._v(t._s(t.$t("artist.showMore")))]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.showMorePopTracks,expression:"showMorePopTracks"}]},[t._v(t._s(t.$t("artist.showLess")))])])])],1),0!==t.albums.length?e("div",{staticClass:"albums",attrs:{id:"albums"}},[e("div",{staticClass:"section-title"},[t._v(t._s(t.$t("artist.albums")))]),e("CoverRow",{attrs:{type:"album",items:t.albums,"sub-text":"releaseYear","show-play-button":!0}})],1):t._e(),0!==t.mvs.length?e("div",{staticClass:"mvs",attrs:{id:"mvs"}},[e("div",{staticClass:"section-title"},[t._v("MVs "),e("router-link",{directives:[{name:"show",rawName:"v-show",value:t.hasMoreMV,expression:"hasMoreMV"}],attrs:{to:`/artist/${t.artist.id}/mv`}},[t._v(t._s(t.$t("home.seeMore")))])],1),e("MvRow",{attrs:{mvs:t.mvs,subtitle:"publishTime"}})],1):t._e(),0!==t.eps.length?e("div",{staticClass:"eps"},[e("div",{staticClass:"section-title"},[t._v(t._s(t.$t("artist.EPsSingles")))]),e("CoverRow",{attrs:{type:"album",items:t.eps,"sub-text":"albumType+releaseYear","show-play-button":!0}})],1):t._e(),0!==t.similarArtists.length?e("div",{staticClass:"similar-artists"},[e("div",{staticClass:"section-title"},[t._v(t._s(t.$t("artist.similarArtists")))]),e("CoverRow",{attrs:{type:"artist","column-number":6,gap:"36px 28px",items:t.similarArtists.slice(0,12)}})],1):t._e(),e("Modal",{attrs:{show:t.showFullDescription,close:t.toggleFullDescription,"show-footer":!1,"click-outside-hide":!0,title:t.$t("artist.artistDesc")}},[e("p",{staticClass:"description-fulltext"},[t._v(" "+t._s(t.artist.briefDesc)+" ")])]),e("ContextMenu",{ref:"artistMenu"},[e("div",{staticClass:"item",on:{click:function(e){return t.copyUrl(t.artist.id)}}},[t._v(t._s(t.$t("contextMenu.copyUrl")))]),e("div",{staticClass:"item",on:{click:function(e){return t.openInBrowser(t.artist.id)}}},[t._v(t._s(t.$t("contextMenu.openInBrowser")))])])],1)},r=[],s=(n("14d9"),n("2f62")),a=n("512b"),o=n("fe07"),l=n("5f87"),c=n("323e"),u=n.n(c),d=n("5e45"),h=n("6825"),p=n("a1a1"),f=n("2726"),m=n("3020"),g=n("d4e3"),v=n("714b"),y={name:"Artist",components:{Cover:m["a"],ButtonTwoTone:d["a"],TrackList:p["a"],CoverRow:f["a"],MvRow:g["a"],Modal:v["a"],ContextMenu:h["a"]},beforeRouteUpdate(t,e,n){this.artist.img1v1Url="https://p1.music.126.net/VnZiScyynLG7atLIZ2YPkw==/18686200114669622.jpg",this.loadData(t.params.id,n)},data(){return{show:!1,artist:{img1v1Url:"https://p1.music.126.net/VnZiScyynLG7atLIZ2YPkw==/18686200114669622.jpg"},popularTracks:[],albumsData:[],latestRelease:{picUrl:"",publishTime:0,id:0,name:"",type:"",size:""},showMorePopTracks:!1,showFullDescription:!1,mvs:[],hasMoreMV:!1,similarArtists:[],mvHover:!1}},computed:{...Object(s["d"])(["player"]),albums(){return this.albumsData.filter(t=>"专辑"===t.type)},eps(){return this.albumsData.filter(t=>["EP/Single","EP","Single"].includes(t.type))},latestMV(){const t=this.mvs[0]||{};return{id:t.id||t.vid,name:t.name||t.title,coverUrl:(t.imgurl16v9||t.cover||t.coverUrl)+"?param=464y260",publishTime:t.publishTime}}},activated(){var t,e;(null===(t=this.artist)||void 0===t||null===(e=t.id)||void 0===e?void 0:e.toString())!==this.$route.params.id?this.loadData(this.$route.params.id):this.$parent.$refs.scrollbar.restorePosition()},methods:{...Object(s["c"])(["appendTrackToPlayerList"]),...Object(s["b"])(["playFirstTrackOnList","playTrackOnListByID","showToast"]),loadData(t,e){setTimeout(()=>{this.show||u.a.start()},1e3),this.show=!1,this.$parent.$refs.main.scrollTo({top:0}),Object(a["c"])(t).then(t=>{this.artist=t.artist,this.popularTracks=t.hotSongs,void 0!==e&&e(),u.a.done(),this.show=!0}),Object(a["d"])({id:t,limit:200}).then(t=>{this.albumsData=t.hotAlbums,this.latestRelease=t.hotAlbums[0]}),Object(a["a"])({id:t}).then(t=>{this.mvs=t.mvs,this.hasMoreMV=t.hasMore}),Object(a["e"])(t).then(t=>{this.similarArtists=t.artists})},goToAlbum(t){this.$router.push({name:"album",params:{id:t}})},goToMv(t){this.$router.push({path:"/mv/"+t})},playPopularSongs(t="first"){let e=this.popularTracks.map(t=>t.id);this.$store.state.player.replacePlaylist(e,this.artist.id,"artist",t)},followArtist(){Object(l["c"])()?Object(a["b"])({id:this.artist.id,t:this.artist.followed?0:1}).then(t=>{200===t.code&&(this.artist.followed=!this.artist.followed)}):this.showToast(o["a"].t("toast.needToLogin"))},scrollTo(t,e="center"){document.getElementById(t).scrollIntoView({behavior:"smooth",block:e})},toggleFullDescription(){this.showFullDescription=!this.showFullDescription,this.showFullDescription?this.$store.commit("enableScrolling",!1):this.$store.commit("enableScrolling",!0)},openMenu(t){this.$refs.artistMenu.openMenu(t)},copyUrl(t){let e=this.showToast;this.$copyText("https://music.163.com/#/artist?id="+t).then((function(){e(o["a"].t("toast.copied"))})).catch(t=>{e(`${o["a"].t("toast.copyFailed")}${t}`)})},openInBrowser(t){const e="https://music.163.com/#/artist?id="+t;window.open(e)}}},b=y,w=(n("21f3"),n("0c7c")),k=Object(w["a"])(b,i,r,!1,null,"2650e055",null);e["default"]=k.exports},"67dd":function(t,e){t.exports=function(){return"function"===typeof Promise&&Promise.prototype&&Promise.prototype.then}},"699e":function(t,e){const n=new Uint8Array(512),i=new Uint8Array(256);(function(){let t=1;for(let e=0;e<255;e++)n[e]=t,i[t]=e,t<<=1,256&t&&(t^=285);for(let e=255;e<512;e++)n[e]=n[e-255]})(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return i[t]},e.exp=function(t){return n[t]},e.mul=function(t,e){return 0===t||0===e?0:n[i[t]+i[e]]}},"6cbc":function(t,e,n){"use strict";n("8654")},"6f31":function(t,e,n){"use strict";n("4502")},7123:function(t,e,n){},7826:function(t,e,n){},7903:function(t,e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n={N1:3,N2:3,N3:40,N4:10};function i(t,n,i){switch(t){case e.Patterns.PATTERN000:return(n+i)%2===0;case e.Patterns.PATTERN001:return n%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(n+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return n*i%2+n*i%3===0;case e.Patterns.PATTERN110:return(n*i%2+n*i%3)%2===0;case e.Patterns.PATTERN111:return(n*i%3+(n+i)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){const e=t.size;let i=0,r=0,s=0,a=null,o=null;for(let l=0;l<e;l++){r=s=0,a=o=null;for(let c=0;c<e;c++){let e=t.get(l,c);e===a?r++:(r>=5&&(i+=n.N1+(r-5)),a=e,r=1),e=t.get(c,l),e===o?s++:(s>=5&&(i+=n.N1+(s-5)),o=e,s=1)}r>=5&&(i+=n.N1+(r-5)),s>=5&&(i+=n.N1+(s-5))}return i},e.getPenaltyN2=function(t){const e=t.size;let i=0;for(let n=0;n<e-1;n++)for(let r=0;r<e-1;r++){const e=t.get(n,r)+t.get(n,r+1)+t.get(n+1,r)+t.get(n+1,r+1);4!==e&&0!==e||i++}return i*n.N2},e.getPenaltyN3=function(t){const e=t.size;let i=0,r=0,s=0;for(let n=0;n<e;n++){r=s=0;for(let a=0;a<e;a++)r=r<<1&2047|t.get(n,a),a>=10&&(1488===r||93===r)&&i++,s=s<<1&2047|t.get(a,n),a>=10&&(1488===s||93===s)&&i++}return i*n.N3},e.getPenaltyN4=function(t){let e=0;const i=t.data.length;for(let n=0;n<i;n++)e+=t.data[n];const r=Math.abs(Math.ceil(100*e/i/5)-10);return r*n.N4},e.applyMask=function(t,e){const n=e.size;for(let r=0;r<n;r++)for(let s=0;s<n;s++)e.isReserved(s,r)||e.xor(s,r,i(t,s,r))},e.getBestMask=function(t,n){const i=Object.keys(e.Patterns).length;let r=0,s=1/0;for(let a=0;a<i;a++){n(a),e.applyMask(a,t);const i=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(a,t),i<s&&(s=i,r=a)}return r}},"7a43":function(t,e){function n(t){if("string"!==typeof t)throw new Error("Param is not a string");const n=t.toLowerCase();switch(n){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&"undefined"!==typeof t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,i){if(e.isValid(t))return t;try{return n(t)}catch(r){return i}}},"7a6d":function(t,e,n){},"7ba0":function(t,e){function n(){this.buffer=[],this.length=0}n.prototype={get:function(t){const e=Math.floor(t/8);return 1===(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(let n=0;n<e;n++)this.putBit(1===(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=n},"7bc4":function(t,e,n){"use strict";n("5124")},"7bf0":function(t,e){let n;const i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return i[t]},e.getBCHDigit=function(t){let e=0;while(0!==t)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!==typeof t)throw new Error('"toSJISFunc" is not a valid function.');n=t},e.isKanjiModeEnabled=function(){return"undefined"!==typeof n},e.toSJIS=function(t){return n(t)}},"7d3a":function(t,e,n){var i=n("5615"),r=n("f7ca"),s=n("6747");function a(t){var e=s(t)?i:r;return e(t)}t.exports=a},"7df4":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"search"},[e("h1",[e("span",[t._v(t._s(t.$t("search.searchFor"))+" "+t._s(t.typeNameTable[t.type]))]),t._v(' "'+t._s(t.keywords)+'" ')]),"artists"===t.type?e("div",[e("CoverRow",{attrs:{type:"artist",items:t.result,"column-number":6}})],1):t._e(),"albums"===t.type?e("div",[e("CoverRow",{attrs:{type:"album",items:t.result,"sub-text":"artist","sub-text-font-size":"14px"}})],1):t._e(),"tracks"===t.type?e("div",[e("TrackList",{attrs:{tracks:t.result,type:"playlist","dbclick-track-func":"playAList"}})],1):t._e(),"musicVideos"===t.type?e("div",[e("MvRow",{attrs:{mvs:t.result}})],1):t._e(),"playlists"===t.type?e("div",[e("CoverRow",{attrs:{type:"playlist",items:t.result,"sub-text":"title"}})],1):t._e(),e("div",{staticClass:"load-more"},[e("ButtonTwoTone",{directives:[{name:"show",rawName:"v-show",value:t.hasMore,expression:"hasMore"}],attrs:{color:"grey"},nativeOn:{click:function(e){return t.fetchData.apply(null,arguments)}}},[t._v(t._s(t.$t("explore.loadMore")))])],1)])},r=[],s=(n("14d9"),n("fefb")),a=n("dad3"),o=n("fe07");var l=function(){return l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},l.apply(this,arguments)};Object.create;Object.create;function c(t){return t.toLowerCase()}var u=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],d=/[^A-Z0-9]+/gi;function h(t,e){void 0===e&&(e={});var n=e.splitRegexp,i=void 0===n?u:n,r=e.stripRegexp,s=void 0===r?d:r,a=e.transform,o=void 0===a?c:a,l=e.delimiter,h=void 0===l?" ":l,f=p(p(t,i,"$1\0$2"),s,"\0"),m=0,g=f.length;while("\0"===f.charAt(m))m++;while("\0"===f.charAt(g-1))g--;return f.slice(m,g).split("\0").map(o).join(h)}function p(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce((function(t,e){return t.replace(e,n)}),t)}function f(t,e){var n=t.charAt(0),i=t.substr(1).toLowerCase();return e>0&&n>="0"&&n<="9"?"_"+n+i:""+n.toUpperCase()+i}function m(t,e){return void 0===e&&(e={}),h(t,l({delimiter:"",transform:f},e))}function g(t,e){return 0===e?t.toLowerCase():f(t,e)}function v(t,e){return void 0===e&&(e={}),m(t,l({transform:g},e))}var y=n("323e"),b=n.n(y),w=n("a1a1"),k=n("d4e3"),_=n("2726"),C=n("5e45"),T={name:"Search",components:{TrackList:w["a"],MvRow:k["a"],CoverRow:_["a"],ButtonTwoTone:C["a"]},data(){return{show:!1,result:[],hasMore:!0}},computed:{keywords(){return this.$route.params.keywords},type(){return v(this.$route.params.type)},typeNameTable(){return{musicVideos:o["a"].t("search.mv"),tracks:o["a"].t("search.song"),albums:o["a"].t("search.album"),artists:o["a"].t("search.artist"),playlists:o["a"].t("search.playlist")}}},created(){this.fetchData()},methods:{fetchData(){const t={musicVideos:1004,tracks:1,albums:10,artists:100,playlists:1e3};return Object(a["c"])({keywords:this.keywords,type:t[this.type],offset:this.result.length}).then(t=>{var e;switch(t=t.result,this.hasMore=null===(e=t.hasMore)||void 0===e||e,this.type){case"musicVideos":this.result.push(...t.mvs),t.mvCount<=this.result.length&&(this.hasMore=!1);break;case"artists":this.result.push(...t.artists);break;case"albums":this.result.push(...t.albums),t.albumCount<=this.result.length&&(this.hasMore=!1);break;case"tracks":this.result.push(...t.songs),this.getTracksDetail();break;case"playlists":this.result.push(...t.playlists);break}b.a.done(),this.show=!0})},getTracksDetail(){const t=this.result.map(t=>t.id);0!==t.length&&Object(s["c"])(t.join(",")).then(t=>{this.result=t.songs})}}},x=T,A=(n("7bc4"),n("0c7c")),S=Object(A["a"])(x,i,r,!1,null,"30094568",null);e["default"]=S.exports},8654:function(t,e,n){},"8a21":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-page",on:{click:t.clickOutside}},[e("div",{staticClass:"container"},[t.showUserInfo?e("div",{staticClass:"user"},[e("div",{staticClass:"left"},[e("img",{staticClass:"avatar",attrs:{src:t.data.user.avatarUrl,loading:"lazy"}}),e("div",{staticClass:"info"},[e("div",{staticClass:"nickname"},[t._v(t._s(t.data.user.nickname))]),e("div",{staticClass:"extra-info"},[0!==t.data.user.vipType?e("span",{staticClass:"vip"},[e("img",{staticClass:"cvip",attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAAA8CAYAAAC6j+5hAAAQK0lEQVR4AXzNh5WDMAwA0Dv3Su+wIfuxC3MwgCMUOz3xe1/N7e/X0lovhJCVUroR8r9DfVBKAuQAM8QYQ4815wlHQqQsIh6kFEA+USpRCP4H92yMfmCCtScL7rVzd967Fz5kmcf6zHmeJdDf66LIowJzWd5zUlUlqmsU6wo1TVI/adsmutZd1z7p+6Q7HePY7WCbpmGd53kBF87L4yiTMAaiM+u9N2NTIpB1CZEHuZAGHLFS8T9UXdJqzeHRw5VX3Z8YAIAPwf5Ii8k6Hsfx0nBxgEQwcWQIDKGPEZolAhIRGLg8hCaJUEuEVwhFIN8QMkOgfXsCApNESBLj+yNCEYjEg0iRicB7mdP05T7n+eulcbzv+2IMAHyAF/HI5J2pwBGBpIA4iCZqGwF5yKSJ4AJpIm1EoCfytJWAwKqN8MZRmYEIpI0IJCuJtUD/VoGIQ6aL01Yi8OuBu+95nlzo2bIsR8bggPxikn6ZwGuXiEhS2+iJQBKJEEJpIm1Epksr2ggiEanIRGDRRhCJuY1Znjaxm9R3CCRTIxHZtTHJI0MkbUQqMq+2bfllDMAHTbwax0HlZYGBymRWaaOIDIFQy/SkjaBtlFlFpgjs2whlE0nEQddGEonN24hAaWaSSQOjic5EwhXNpJH+JrrJw5yWbQQRiEQE0kJLREobEcmcIhGB8i7KpCIUkQhEome0MLJ5G7PAto2Q55TvaGHTxlqivItdG0PksszOGW/m4D/8sGFOQ55KzE0ko4UqE4nayHypIq6eVARGC5V+UmuBKjLkBe2kCv2kaiMRWM+qg0RQgZ7LMgm2pseHRR0247ITmY8cBPazqu+iytRGqlBE5neRpIX9rML/zCqJRJWZGwkqEJAY6QL7WSWRKDJppH9f+r8mLvJ7SASuVEQmiWRqIdBEMq7U30+qkie1eRdFHDKZVY6bflIVJEL9LqYWAgJJmthMqkITSZfnIpHoua53Mm1dv7vIk9RGoZeISEAc06qNdLSFJKhAeEGmS5VUoSGwnlZklm+jkJv4vrtUmVJ5H2li9zaCCtRGIhKZiNy2+WQweachEZDYzik0bcxXKvRtVImAxPrASXPqQvsDp34j2ybWIj8mEAdVG0kOHG0jTEATaSNprKcu8vxPVyoJWSIp72N55HCx1lcqqZNKBkh0uFJJlRm8kXntr9TyfYQkkfRG6vuYr1Tex6KJJDKrIwehNNJYPM+HelZDHO8jLSSdW1rOAci5bYnCeSprmLHtubbte8fXtm3btm3btm3bxq/9TqfeqtpZ0+fszrs5VbUqU+Pkq9W9GzsCjAUnAmJ1Nus2mZpwKy29FOfGHLhrzz7duU8+SNQN553NuREdHF++E0O/k0GGvp9zIz5v1q9vv+befewhd+9Vl7s9t9vaDfX3CjA+qSpOzMblRoEIkC7DAFmAyG7kniogwo1rrriCe+T6a9zsj9/PPZGvX3rO1VZX+zBF8jn5WvCF2GhyDDD1vEgK/D7qq4ZBUngNwwto1kfvuUtPOdEN9PVwucGhFW5kmJCUIADJYTW5gxNX/IuWX2Jx99wdt6r//LVnn6EW/2uvuUbwiX//6kuupamRa0bOkciLZpAIp4Hv51IjDMuoX956za0/PqrmRg6nDJBBAiLlREgrN/7DbszlsWP328fNSf7HI2ir84RDJJCDT/rOyy4OuhGh1Q7S5kguN+ywwpKotc8O29MJFQLE/NwIIbxmeMIh0ro3eOR2nLgxGyXwJ2+5MfgPI8TW1VTjgAPJ50whdusN1wNMbd5odiSfUI0gi+tIgrnBxCi14UheyQEnQhkPIh1wfKDxJ9Wy0lKEUrOuOycXYnlobAqxP73xiutqb6cuDp1SCwNpciSfVIsNEmF2aKBPYHITAADJkR5Ia2Oc2nAicYbZiax11lpDAHJP1RRiH7z2KgHHDQAopRwpANMDCV16yknkyGrfjb4TPZi1cCTgadP/eDcef8B+2j9jDrH1tbU8ppLPmULsLltuFjemsoJEWDWD9GGmARGn2bkGByi0JrmRQHLxDyeKGKBoyYUXQmkR1IwP3sk5bYPodNbf3eXK5UUpFZWoM0dxa+h3/vbOG26wr0eFmUKO9N1oduRnzz3ltlh/Hdff2xWpO/p4Xflc8Of22n4bv4vDAEV6jgTAUE/VB/rqfXeZnsyN553jujva1U4OQqrXS0Vz3BRin7j5BoADSCn0LSC5DWd1JDo4Jogd7S1S7Od1cro624Iw77v6coDk3KhCrK+PHOkfbPDoO1Fz5GrLLWs6he213dYo/rkVR06cDrOhzhZi991xe3VEZQeZjiPFiRhVcStuyw3WTfpZ6QAlFv8C04coUnOk1orzYErHJvhE9tx2a2W9EY88+dd3cdZZa83g3/nzvbfcvMODfk81FZCAaD3s9PV0+U7Ma44P9HUH2nmvx9SNeQccypGASNJqRlF9bY0hnJ4NgDzhiHMjT/5RK5pC7PN33hbBKMGIKo3QSpONIEjJizzhgKQtFyxDuGZEbqSQKhDhyPCoCk4UbTg+FjzYSE7k5jitccTuqQIgmuON9fWmEHvYnrv5k400cqQ33TCHVlHBofW9xx/i5jhcySA5R8aXGzxnvOTk4xP/CXEQb8RBbSWl7soFFnKfrriySD6Wz8W6EUX/uiNrmk7Giy4wnxlkaWlBIOFEE0gcdjo7WqdB7OpsNxx2rvDdGIIYqU5AMsT4/Ch66tbkBsAG4yPiRjqlCsQS983Kq7lZa4z4ks8BproBgML/+nPPCr54r91/j7zIZkdi6p9GaAVMcZ+UHpIX5WNL+bH3DtvEnlIRXhFSIYAUEcD8HIlB8fuPP5Kc5Lu6ABESmOI+hgjJ12K34qCmhgb3zcvPB1+E4w/cvwCQJWaQvBWXZkNg7qFBdcIB4aBDIP+plBsifdlYTlSJIaukhPOj5EUJpbEgP1tpZUAEUHUrbr3REdMLsfSiCxvni/bQynuqaYG87NSTqOSoCUJsaJDQ6hf/BJDyo0hOVMmHgtJSbQ8nAHKVWIAkU4h959EHzYNi68Sfd1TTaprPNdTvQ4T4pKqDFGlb4yK+FvfWw/cXFFrhyCsXWDAQWnnFUQVqDrEp5EiBia24VMZYG06O8SEHEBmmp7qcMur9Rs+FDFImD6HDjlcv4lEONLGHnfbSMnZjTgO93dqYyhRirY40zhd5M67YEKVDpdaMHFbhSDgRyuQ3xmn1X1lvlD0Tw6xRxOuNavnRXoryI38rTnT7JRcKNED0B8fBEGsHaXIkrzYWNZyKE7nUYKAAqIVVP0f6YoD+jSpTQ6Cns523xRPvNwo0rh2H+/vdzA/fjcLocxJOARBFv+zvBEJsUXMk398o0vLVSW54sE8g+opx5LRwio/hSMDzICq5EarKVsgLHJx4xF8Zt12Ju+eKS/H7xH0CkmHKWOxvgERYNYGkPdWwI2UH5+4rLnEfPvloNHJ7XU770gyXyYaMqaISY4CHxtxP5ZOqyIdJoZUmHH7JAfGi8QPXXBkuarffBj1VBaAOE2H1/OOPnvb71h8bQVM8D+YN56khttjrjbRoHAbJq43+1F/ZACCIITcqOZLcCKluBMixVVc2jrG2ITcq9xsppB6z397q75Mw2tzYQNvi5hAb2MGxO9IOEvcb4y7jVAMiL1R5j8iN+e04htjYWA+Q8SEVjuT7G4/fdL15sNzb1eE7Ug2r3R0dcriJ/T0Isdp1uA2Qt+3iG1UFOjKYIwFOcyQ7kdwYLP4prNYDJOVIAklhFTBl1cP0guEAdN05Z+a2xQd6elylHBrKyyLAndHnxuXaQCjv+iHWv0kFybWC/8eRVpCAiEcrSEA0bsWFW3GcH6FM+A5H/P3GUw49iJ5A+jrugH3V+42tzU3GEAuQhS0c+/cbs9kgSADE0jEgJk3+qTEuwIIhlUIrhVUA1K7G+beMJVTeeyVOl+nrxvPPATwGiRCbYo4UiObQGroax4NjiJ0IoBxa40H6SoLIN6qy0ZN648H7UgWIRSt5IQNv4IAQW+yFY1yHM4NkiOEDTtz0H1Lc6OfIuHfh8E+peIT4fqPAvPfKy1KDKDtCjQ31gJh4v7GtpRkhtphbcXRJ1Q5SoOExfr1Rg8nlRh2UBxPKBJzofUxupOm/nECLnTP/ev9tt99O26sA8cgwRRtOjJmXqSALSH8rLgzSfr8RUpxIboTqFZBKbiSgAAiY6h4OCn85zUoYDIMKT/sXnm8e1IxBN7ICIVbgFRhaAbEgR1JeFMXu4XAHh5vjihuhBpcBRN2RajhVt+L47v/E6qvKpMRUVkBzIj15yw1Ro3yt8Ds3Bt7cqL21JSnEem4sNQ2KPTdaHQl4BDAUVuHC+HCKvAg1Nf0PpPYOHPwuVfFujN8aF9VGT2KTqUl3+WknuYevv9q9/cgDuY6/7KN+9eIz7qV77owWuk50O22+qetsa7W+Jw5JvfMvNaoxR9pDK94Lxx5aATHgxsAhh2GyMv9t7WxS2wiiINw7ZxOyT/w3YPBtdBGDL+R76C66hrWVIO8FCgq+rtYgsvimtS/qve7XM6US7MwBgDkSvbF5gAPtN6Y39wYbsaT+WubFuZiMUkFeHN6Ms2sqpFOlYKMC47j1FEdizu8bGwrI3apKartx257PowQ7lYjY4HAI8MMdaXAwznEcRWQU59SJWnF+FBQQUWOzdCrgAjJuTALKkauYsQZDAIgouEvFgNwEpCNLyOLl1I48tmgG+uL8+43GX/8PjuTtRkioEkipWuWo7gz+25/eSAGXOaruROFOhBvDq422copDAZ8bE/PlOEqkjxDDieNG4WKG0L+b943ThCriQu51Y44aW6cau4hCgsKNtSY3akWAA/qjCQg3srQmN6q0vnz8yy2vHnmZhf7xRePbeXFaeU1FN2YxZ72RrKPG5EQK6Hh/VFmVA11IwbJKMfmlMXeo7JGroTg2N94jL29vb4+jHqPE+rIjR3Rj/UY55feNdKNhIv5s1jGc+3vjMvjPmAXFe2qjpVPBjchTDVlxcGMex/2ZnRlttd6Y3fhVjNGPDt4t8b6xW4WAKYIzlVQ48u4IznBmDBmqaYOTs1QpplwJAdMmR3he3NSRTiqpBgSsVSJ+v7+//y7G6EdRYj4cypVXllXvi3Ckwe8b2Rc99T86EvyHshr6I3qkC5i+b8TNfyir6Ita3YUU83ElpAt63bbtUIymH6L75WcJeGUMpztxUVJ53AiZOLsF1JpSjbWClGrMGE4mNzIwPvRFzFKdUFLhRo7hcE3FvngtPosh+uF0mT2UcN/p0zjsVPlmnASEI3luBBDwnt7o0Ik5ML6RcN4fPfxvvVOlgKvXOPJV1VMcjnc53banQzGcfoDumSXiV3FBOb3tRogoPA+HAQ47yylEnE9yBFONU7qxYDkNbpSgdCNEnLpRKyY4YaZ66Y2NeqKjHhnpo0kJ9VGCHuv3qTi7oL7Jsb6oFX0x/5kKd6vBifYbTrzVHwV6Yq3crXKXylEcd6la8VYcR3GY3mgV59fXp1Nx7HNiHzGKkfgLQfHe2MpsYnIAAAAASUVORK5CYII=",loading:"lazy"}}),e("span",{staticClass:"text"},[t._v("黑胶VIP")])]):e("span",{staticClass:"text"},[t._v(t._s(t.data.user.signature))])])])]),e("div",{staticClass:"right"},[e("button",{on:{click:t.logout}},[e("svg-icon",{attrs:{"icon-class":"logout"}}),t._v(" "+t._s(t.$t("settings.logout"))+" ")],1)])]):t._e(),e("div",{staticClass:"item"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.language"))+" ")])]),e("div",{staticClass:"right"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.lang,expression:"lang"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.lang=e.target.multiple?n:n[0]}}},[e("option",{attrs:{value:"en"}},[t._v("🇬🇧 English")]),e("option",{attrs:{value:"tr"}},[t._v("🇹🇷 Türkçe")]),e("option",{attrs:{value:"zh-CN"}},[t._v("🇨🇳 简体中文")]),e("option",{attrs:{value:"zh-TW"}},[t._v("繁體中文")])])])]),e("div",{staticClass:"item"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.appearance.text"))+" ")])]),e("div",{staticClass:"right"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.appearance,expression:"appearance"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.appearance=e.target.multiple?n:n[0]}}},[e("option",{attrs:{value:"auto"}},[t._v(t._s(t.$t("settings.appearance.auto")))]),e("option",{attrs:{value:"light"}},[t._v("🌞 "+t._s(t.$t("settings.appearance.light")))]),e("option",{attrs:{value:"dark"}},[t._v("🌚 "+t._s(t.$t("settings.appearance.dark")))])])])]),e("div",{staticClass:"item"},[t._m(0),e("div",{staticClass:"right"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.musicLanguage,expression:"musicLanguage"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.musicLanguage=e.target.multiple?n:n[0]}}},[e("option",{attrs:{value:"all"}},[t._v("无偏好")]),e("option",{attrs:{value:"zh"}},[t._v("华语")]),e("option",{attrs:{value:"ea"}},[t._v("欧美")]),e("option",{attrs:{value:"jp"}},[t._v("日语")]),e("option",{attrs:{value:"kr"}},[t._v("韩语")])])])]),e("h3",[t._v("音质")]),e("div",{staticClass:"item"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.musicQuality.text"))+" ")])]),e("div",{staticClass:"right"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.musicQuality,expression:"musicQuality"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.musicQuality=e.target.multiple?n:n[0]}}},[e("option",{attrs:{value:"128000"}},[t._v(" "+t._s(t.$t("settings.musicQuality.low"))+" - 128Kbps ")]),e("option",{attrs:{value:"192000"}},[t._v(" "+t._s(t.$t("settings.musicQuality.medium"))+" - 192Kbps ")]),e("option",{attrs:{value:"320000"}},[t._v(" "+t._s(t.$t("settings.musicQuality.high"))+" - 320Kbps ")]),e("option",{attrs:{value:"flac"}},[t._v(" "+t._s(t.$t("settings.musicQuality.lossless"))+" - FLAC ")]),e("option",{attrs:{value:"999000"}},[t._v("Hi-Res")])])])]),e("h3",[t._v("歌词")]),e("div",{staticClass:"item"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("settings.showLyricsTranslation")))])]),e("div",{staticClass:"right"},[e("div",{staticClass:"toggle"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.showLyricsTranslation,expression:"showLyricsTranslation"}],attrs:{id:"show-lyrics-translation",type:"checkbox",name:"show-lyrics-translation"},domProps:{checked:Array.isArray(t.showLyricsTranslation)?t._i(t.showLyricsTranslation,null)>-1:t.showLyricsTranslation},on:{change:function(e){var n=t.showLyricsTranslation,i=e.target,r=!!i.checked;if(Array.isArray(n)){var s=null,a=t._i(n,s);i.checked?a<0&&(t.showLyricsTranslation=n.concat([s])):a>-1&&(t.showLyricsTranslation=n.slice(0,a).concat(n.slice(a+1)))}else t.showLyricsTranslation=r}}}),e("label",{attrs:{for:"show-lyrics-translation"}})])])]),e("div",{staticClass:"item"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("settings.lyricsBackground.text")))])]),e("div",{staticClass:"right"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.lyricsBackground,expression:"lyricsBackground"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.lyricsBackground=e.target.multiple?n:n[0]}}},[e("option",{domProps:{value:!1}},[t._v(" "+t._s(t.$t("settings.lyricsBackground.off"))+" ")]),e("option",{domProps:{value:!0}},[t._v(" "+t._s(t.$t("settings.lyricsBackground.on"))+" ")]),e("option",{attrs:{value:"blur"}},[t._v(" 模糊封面 ")]),e("option",{attrs:{value:"dynamic"}},[t._v(" "+t._s(t.$t("settings.lyricsBackground.dynamic"))+" ")])])])]),e("div",{staticClass:"item"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.showLyricsTime"))+" ")])]),e("div",{staticClass:"right"},[e("div",{staticClass:"toggle"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.showLyricsTime,expression:"showLyricsTime"}],attrs:{id:"show-lyrics-time",type:"checkbox",name:"show-lyrics-time"},domProps:{checked:Array.isArray(t.showLyricsTime)?t._i(t.showLyricsTime,null)>-1:t.showLyricsTime},on:{change:function(e){var n=t.showLyricsTime,i=e.target,r=!!i.checked;if(Array.isArray(n)){var s=null,a=t._i(n,s);i.checked?a<0&&(t.showLyricsTime=n.concat([s])):a>-1&&(t.showLyricsTime=n.slice(0,a).concat(n.slice(a+1)))}else t.showLyricsTime=r}}}),e("label",{attrs:{for:"show-lyrics-time"}})])])]),e("div",{staticClass:"item"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.lyricFontSize.text"))+" ")])]),e("div",{staticClass:"right"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.lyricFontSize,expression:"lyricFontSize"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.lyricFontSize=e.target.multiple?n:n[0]}}},[e("option",{attrs:{value:"16"}},[t._v(" "+t._s(t.$t("settings.lyricFontSize.small"))+" - 16px ")]),e("option",{attrs:{value:"22"}},[t._v(" "+t._s(t.$t("settings.lyricFontSize.medium"))+" - 22px ")]),e("option",{attrs:{value:"28"}},[t._v(" "+t._s(t.$t("settings.lyricFontSize.large"))+" - 28px ")]),e("option",{attrs:{value:"36"}},[t._v(" "+t._s(t.$t("settings.lyricFontSize.xlarge"))+" - 36px ")])])])]),e("h3",[t._v("第三方")]),e("div",{staticClass:"item"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.isLastfmConnected?`已连接到 Last.fm (${t.lastfm.name})`:"连接 Last.fm "))])]),e("div",{staticClass:"right"},[t.isLastfmConnected?e("button",{on:{click:function(e){return t.lastfmDisconnect()}}},[t._v("断开连接 ")]):e("button",{on:{click:function(e){return t.lastfmConnect()}}},[t._v(" 授权连接 ")])])]),e("h3",[t._v("其他")]),e("div",{staticClass:"item"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.showPlaylistsByAppleMusic")))])]),e("div",{staticClass:"right"},[e("div",{staticClass:"toggle"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.showPlaylistsByAppleMusic,expression:"showPlaylistsByAppleMusic"}],attrs:{id:"show-playlists-by-apple-music",type:"checkbox",name:"show-playlists-by-apple-music"},domProps:{checked:Array.isArray(t.showPlaylistsByAppleMusic)?t._i(t.showPlaylistsByAppleMusic,null)>-1:t.showPlaylistsByAppleMusic},on:{change:function(e){var n=t.showPlaylistsByAppleMusic,i=e.target,r=!!i.checked;if(Array.isArray(n)){var s=null,a=t._i(n,s);i.checked?a<0&&(t.showPlaylistsByAppleMusic=n.concat([s])):a>-1&&(t.showPlaylistsByAppleMusic=n.slice(0,a).concat(n.slice(a+1)))}else t.showPlaylistsByAppleMusic=r}}}),e("label",{attrs:{for:"show-playlists-by-apple-music"}})])])]),e("div",{staticClass:"item"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("settings.subTitleDefault")))])]),e("div",{staticClass:"right"},[e("div",{staticClass:"toggle"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.subTitleDefault,expression:"subTitleDefault"}],attrs:{id:"sub-title-default",type:"checkbox",name:"sub-title-default"},domProps:{checked:Array.isArray(t.subTitleDefault)?t._i(t.subTitleDefault,null)>-1:t.subTitleDefault},on:{change:function(e){var n=t.subTitleDefault,i=e.target,r=!!i.checked;if(Array.isArray(n)){var s=null,a=t._i(n,s);i.checked?a<0&&(t.subTitleDefault=n.concat([s])):a>-1&&(t.subTitleDefault=n.slice(0,a).concat(n.slice(a+1)))}else t.subTitleDefault=r}}}),e("label",{attrs:{for:"sub-title-default"}})])])]),e("div",{staticClass:"item"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("settings.enableReversedMode")))])]),e("div",{staticClass:"right"},[e("div",{staticClass:"toggle"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.enableReversedMode,expression:"enableReversedMode"}],attrs:{id:"enable-reversed-mode",type:"checkbox",name:"enable-reversed-mode"},domProps:{checked:Array.isArray(t.enableReversedMode)?t._i(t.enableReversedMode,null)>-1:t.enableReversedMode},on:{change:function(e){var n=t.enableReversedMode,i=e.target,r=!!i.checked;if(Array.isArray(n)){var s=null,a=t._i(n,s);i.checked?a<0&&(t.enableReversedMode=n.concat([s])):a>-1&&(t.enableReversedMode=n.slice(0,a).concat(n.slice(a+1)))}else t.enableReversedMode=r}}}),e("label",{attrs:{for:"enable-reversed-mode"}})])])]),e("div",{staticClass:"item"},[t._m(1),e("div",{staticClass:"right"},[e("div",{staticClass:"toggle"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nyancatStyle,expression:"nyancatStyle"}],attrs:{id:"nyancat-style",type:"checkbox",name:"nyancat-style"},domProps:{checked:Array.isArray(t.nyancatStyle)?t._i(t.nyancatStyle,null)>-1:t.nyancatStyle},on:{change:function(e){var n=t.nyancatStyle,i=e.target,r=!!i.checked;if(Array.isArray(n)){var s=null,a=t._i(n,s);i.checked?a<0&&(t.nyancatStyle=n.concat([s])):a>-1&&(t.nyancatStyle=n.slice(0,a).concat(n.slice(a+1)))}else t.nyancatStyle=r}}}),e("label",{attrs:{for:"nyancat-style"}})])])]),t._m(2)])])},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v(" 音乐语种偏好 ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"left"},[e("div",{staticClass:"title",staticStyle:{transform:"scaleX(-1)"}},[t._v("🐈️ 🏳️‍🌈")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"footer"},[e("a",{attrs:{href:"https://vercel.com/?utm_source=ohmusic&utm_campaign=oss"}},[e("img",{attrs:{height:"36",src:"https://www.datocms-assets.com/31049/1618983297-powered-by-vercel.svg"}})])])}],s=n("b617"),a=s["a"],o=(n("bdbc"),n("0c7c")),l=Object(o["a"])(a,i,r,!1,null,"3a825342",null);e["default"]=l.exports},"8a32":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login"},[e("div",[e("div",{staticClass:"title"},[t._v(t._s(t.$t("login.usernameLogin")))]),e("div",{staticClass:"section"},[e("div",{staticClass:"search-box"},[e("div",{staticClass:"container"},[e("svg-icon",{attrs:{"icon-class":"search"}}),e("div",{staticClass:"input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{placeholder:t.$t("login.searchHolder")},domProps:{value:t.keyword},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.throttleSearch.apply(null,arguments)},input:function(e){e.target.composing||(t.keyword=e.target.value)}}})])],1)])]),e("div",{staticClass:"sestion"},[e("div",{directives:[{name:"show",rawName:"v-show",value:void 0===t.activeUser.nickname,expression:"activeUser.nickname === undefined"}],staticClass:"name"},[t._v(" "+t._s(t.$t("login.enterTip"))+" ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.activeUser.nickname,expression:"activeUser.nickname !== undefined"}],staticClass:"name"},[t._v(" "+t._s(t.$t("login.choose"))+" ")]),e("div",{staticClass:"user-list"},t._l(t.result,(function(n){return e("div",{key:n.id,staticClass:"user",class:{active:n.nickname===t.activeUser.nickname},on:{click:function(e){t.activeUser=n}}},[e("img",{staticClass:"head",attrs:{src:t._f("resizeImage")(n.avatarUrl),loading:"lazy"}}),e("div",{staticClass:"nickname"},[t._v(" "+t._s(n.nickname)+" ")])])})),0)]),e("ButtonTwoTone",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.activeUser.nickname,expression:"activeUser.nickname !== undefined"}],nativeOn:{click:function(e){return t.confirm.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("login.confirm"))+" ")])],1)])},r=[],s=(n("14d9"),n("2f62")),a=n("323e"),o=n.n(a),l=n("dad3"),c=n("c24f"),u=n("cf45"),d=n("5e45"),h={name:"LoginUsername",components:{ButtonTwoTone:d["a"]},data(){return{keyword:"",result:[],activeUser:{}}},created(){o.a.done()},methods:{...Object(s["c"])(["updateData"]),search(){this.keyword&&Object(l["c"])({keywords:this.keyword,limit:9,type:1002}).then(t=>{this.result=t.result.userprofiles,this.activeUser=this.result[0]})},confirm(){this.updateData({key:"user",value:this.activeUser}),this.updateData({key:"loginMode",value:"username"}),Object(c["k"])({uid:this.activeUser.userId,limit:1}).then(t=>{this.updateData({key:"likedSongPlaylistID",value:t.playlist[0].id}),this.$router.push({path:"/library"})})},throttleSearch:Object(u["i"])((function(){this.search()}),500)}},p=h,f=(n("de97"),n("0c7c")),m=Object(f["a"])(p,i,r,!1,null,"1432965f",null);e["default"]=m.exports},"8ac5":function(t,e,n){},"8b00":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"playlist"},[void 0!==t.specialPlaylistInfo||t.isLikeSongsPage?t._e():e("div",{staticClass:"playlist-info"},[e("Cover",{attrs:{id:t.playlist.id,"img-url":t._f("resizeImage")(t.playlist.coverImgUrl,1024),"show-play-button":!0,"always-show-shadow":!0,"click-cover-to-play":!0,"fixed-size":288,type:"playlist","cover-hover":!1,"play-button-size":18},nativeOn:{contextmenu:function(e){return t.openMenu.apply(null,arguments)}}}),e("div",{staticClass:"info"},[e("div",{staticClass:"title",on:{contextmenu:function(e){return t.openMenu.apply(null,arguments)}}},[10===t.playlist.privacy?e("span",{staticClass:"lock-icon"},[e("svg-icon",{attrs:{"icon-class":"lock"}})],1):t._e(),t._v(t._s(t.playlist.name))]),e("div",{staticClass:"artist"},[t._v(" Playlist by "),[5277771961,5277965913,5277969451,5277778542,5278068783].includes(t.playlist.id)?e("span",{staticStyle:{"font-weight":"600"}},[t._v("Apple Music")]):e("a",{attrs:{href:"https://music.163.com/#/user/home?id="+t.playlist.creator.userId,target:"blank"}},[t._v(t._s(t.playlist.creator.nickname))])]),e("div",{staticClass:"date-and-count"},[t._v(" "+t._s(t.$t("playlist.updatedAt"))+" "+t._s(t._f("formatDate")(t.playlist.updateTime))+" · "+t._s(t.playlist.trackCount)+" "+t._s(t.$t("common.songs"))+" ")]),e("div",{staticClass:"description",on:{click:t.toggleFullDescription}},[t._v(" "+t._s(t.playlist.description)+" ")]),e("div",{staticClass:"buttons"},[e("ButtonTwoTone",{attrs:{"icon-class":"play"},nativeOn:{click:function(e){return t.playPlaylistByID()}}},[t._v(" "+t._s(t.$t("common.play"))+" ")]),t.playlist.creator.userId!==t.data.user.userId?e("ButtonTwoTone",{attrs:{"icon-class":t.playlist.subscribed?"heart-solid":"heart","icon-button":!0,"horizontal-padding":0,color:t.playlist.subscribed?"blue":"grey","text-color":t.playlist.subscribed?"#335eea":"","background-color":t.playlist.subscribed?"var(--color-secondary-bg)":""},nativeOn:{click:function(e){return t.likePlaylist.apply(null,arguments)}}}):t._e(),e("ButtonTwoTone",{attrs:{"icon-class":"more","icon-button":!0,"horizontal-padding":0,color:"grey"},nativeOn:{click:function(e){return t.openMenu.apply(null,arguments)}}})],1)]),t.displaySearchInPlaylist?e("div",{staticClass:"search-box"},[e("div",{staticClass:"container",class:{active:t.inputFocus}},[e("svg-icon",{attrs:{"icon-class":"search"}}),e("div",{staticClass:"input"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputSearchKeyWords,expression:"inputSearchKeyWords",modifiers:{trim:!0}},{name:"focus",rawName:"v-focus"}],attrs:{placeholder:t.inputFocus?"":t.$t("playlist.search")},domProps:{value:t.inputSearchKeyWords},on:{input:[function(e){e.target.composing||(t.inputSearchKeyWords=e.target.value.trim())},function(e){return t.inputDebounce()}],focus:function(e){t.inputFocus=!0},blur:[function(e){t.inputFocus=!1},function(e){return t.$forceUpdate()}]}})])],1)]):t._e()],1),void 0!==t.specialPlaylistInfo?e("div",{staticClass:"special-playlist"},[e("div",{staticClass:"title",class:t.specialPlaylistInfo.gradient,on:{contextmenu:function(e){return t.openMenu.apply(null,arguments)}}},[t._v(" "+t._s(t.specialPlaylistInfo.name)+" ")]),e("div",{staticClass:"subtitle"},[t._v(t._s(t.playlist.englishTitle)+" · "+t._s(t.playlist.updateFrequency)+" ")]),e("div",{staticClass:"buttons"},[e("ButtonTwoTone",{staticClass:"play-button",attrs:{"icon-class":"play",color:"grey"},nativeOn:{click:function(e){return t.playPlaylistByID()}}},[t._v(" "+t._s(t.$t("common.play"))+" ")]),t.playlist.creator.userId!==t.data.user.userId?e("ButtonTwoTone",{attrs:{"icon-class":t.playlist.subscribed?"heart-solid":"heart","icon-button":!0,"horizontal-padding":0,color:t.playlist.subscribed?"blue":"grey","text-color":t.playlist.subscribed?"#335eea":"","background-color":t.playlist.subscribed?"var(--color-secondary-bg)":""},nativeOn:{click:function(e){return t.likePlaylist.apply(null,arguments)}}}):t._e(),e("ButtonTwoTone",{attrs:{"icon-class":"more","icon-button":!0,"horizontal-padding":0,color:"grey"},nativeOn:{click:function(e){return t.openMenu.apply(null,arguments)}}})],1)]):t._e(),t.isLikeSongsPage?e("div",{staticClass:"user-info"},[e("h1",[e("img",{staticClass:"avatar",attrs:{src:t._f("resizeImage")(t.data.user.avatarUrl),loading:"lazy"}}),t._v(" "+t._s(t.data.user.nickname)+t._s(t.$t("library.sLikedSongs"))+" ")]),e("div",{staticClass:"search-box-likepage",on:{click:function(e){return t.searchInPlaylist()}}},[e("div",{staticClass:"container",class:{active:t.inputFocus}},[e("svg-icon",{attrs:{"icon-class":"search"}}),e("div",{staticClass:"input",style:{width:t.searchInputWidth}},[t.displaySearchInPlaylist?e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputSearchKeyWords,expression:"inputSearchKeyWords",modifiers:{trim:!0}},{name:"focus",rawName:"v-focus"}],attrs:{placeholder:t.inputFocus?"":t.$t("playlist.search")},domProps:{value:t.inputSearchKeyWords},on:{input:[function(e){e.target.composing||(t.inputSearchKeyWords=e.target.value.trim())},function(e){return t.inputDebounce()}],focus:function(e){t.inputFocus=!0},blur:[function(e){t.inputFocus=!1},function(e){return t.$forceUpdate()}]}}):t._e()])],1)])]):t._e(),e("TrackList",{attrs:{id:t.playlist.id,tracks:t.filteredTracks,type:"playlist","extra-context-menu-item":t.isUserOwnPlaylist?["removeTrackFromPlaylist"]:[]}}),e("div",{staticClass:"load-more"},[e("ButtonTwoTone",{directives:[{name:"show",rawName:"v-show",value:t.hasMore,expression:"hasMore"}],attrs:{color:"grey",loading:t.loadingMore},nativeOn:{click:function(e){return t.loadMore(100)}}},[t._v(t._s(t.$t("explore.loadMore")))])],1),e("Modal",{attrs:{show:t.showFullDescription,close:t.toggleFullDescription,"show-footer":!1,"click-outside-hide":!0,title:"歌单介绍"}},[t._v(t._s(t.playlist.description))]),e("ContextMenu",{ref:"playlistMenu"},[e("div",{staticClass:"item",on:{click:function(e){return t.likePlaylist(!0)}}},[t._v(t._s(t.playlist.subscribed?t.$t("contextMenu.removeFromLibrary"):t.$t("contextMenu.saveToLibrary")))]),e("div",{staticClass:"item",on:{click:function(e){return t.searchInPlaylist()}}},[t._v(t._s(t.$t("contextMenu.searchInPlaylist")))]),t.playlist.creator.userId===t.data.user.userId?e("div",{staticClass:"item",on:{click:t.editPlaylist}},[t._v("编辑歌单信息")]):t._e(),t.playlist.creator.userId===t.data.user.userId?e("div",{staticClass:"item",on:{click:t.deletePlaylist}},[t._v("删除歌单")]):t._e()])],1)},r=[],s=(n("14d9"),n("2f62")),a=n("323e"),o=n.n(a),l=n("1e9a"),c=n("fefb"),u=n("5f87"),d=n("fe07"),h=n("5e45"),p=n("6825"),f=n("a1a1"),m=n("3020"),g=n("714b");const v={2829816518:{name:"欧美私人订制",gradient:"gradient-pink-purple-blue"},2890490211:{name:"助眠鸟鸣声",gradient:"gradient-green"},5089855855:{name:"夜的胡思乱想",gradient:"gradient-moonstone-blue"},2888212971:{name:"全球百大DJ",gradient:"gradient-orange-red"},2829733864:{name:"睡眠伴侣",gradient:"gradient-midnight-blue"},2829844572:{name:"洗澡时听的歌",gradient:"gradient-yellow"},2920647537:{name:"还是会想你",gradient:"gradient-dark-blue-midnight-blue"},2890501416:{name:"助眠白噪声",gradient:"gradient-sky-blue"},5217150082:{name:"摇滚唱片行",gradient:"gradient-yellow-red"},2829961453:{name:"古风音乐大赏",gradient:"gradient-fog"},4923261701:{name:"Trance",gradient:"gradient-light-red-light-blue "},5212729721:{name:"欧美点唱机",gradient:"gradient-indigo-pink-yellow"},3103434282:{name:"甜蜜少女心",gradient:"gradient-pink"},2829896389:{name:"日系私人订制",gradient:"gradient-yellow-pink"},2829779628:{name:"运动随身听",gradient:"gradient-orange-red"},2860654884:{name:"独立女声精选",gradient:"gradient-sharp-blue"},898150:{name:"浪漫婚礼专用",gradient:"gradient-pink"},2638104052:{name:"牛奶泡泡浴",gradient:"gradient-fog"},5317236517:{name:"后朋克精选",gradient:"gradient-pink-purple-blue"},2821115454:{name:"一周原创发现",gradient:"gradient-blue-purple"},2829883282:{name:"华语私人雷达",gradient:"gradient-yellow-red"},3136952023:{name:"私人雷达",gradient:"gradient-radar"}};var y={name:"Playlist",components:{Cover:m["a"],ButtonTwoTone:h["a"],TrackList:f["a"],Modal:g["a"],ContextMenu:p["a"]},directives:{focus:{inserted:function(t){t.focus()}}},data(){return{show:!1,playlist:{id:0,coverImgUrl:"",creator:{userId:""},trackIds:[]},showFullDescription:!1,tracks:[],loadingMore:!1,hasMore:!1,lastLoadedTrackIndex:9,displaySearchInPlaylist:!1,searchKeyWords:"",inputSearchKeyWords:"",inputFocus:!1,debounceTimeout:null,searchInputWidth:"0px"}},computed:{...Object(s["d"])(["player","data"]),isLikeSongsPage(){return"likedSongs"===this.$route.name},specialPlaylistInfo(){return v[this.playlist.id]},isUserOwnPlaylist(){return this.playlist.creator.userId===this.data.user.userId&&this.playlist.id!==this.data.likedSongPlaylistID},filteredTracks(){return this.tracks.filter(t=>t.name&&t.name.toLowerCase().includes(this.searchKeyWords.toLowerCase())||t.al.name&&t.al.name.toLowerCase().includes(this.searchKeyWords.toLowerCase())||t.ar.find(t=>t.name&&t.name.toLowerCase().includes(this.searchKeyWords.toLowerCase())))}},created(){"likedSongs"===this.$route.name?this.loadData(this.data.likedSongPlaylistID):this.loadData(this.$route.params.id),setTimeout(()=>{this.show||o.a.start()},1e3)},methods:{...Object(s["c"])(["appendTrackToPlayerList"]),...Object(s["b"])(["playFirstTrackOnList","playTrackOnListByID","showToast"]),playPlaylistByID(t="first"){let e=this.playlist.trackIds.map(t=>t.id);this.$store.state.player.replacePlaylist(e,this.playlist.id,"playlist",t)},likePlaylist(t=!1){Object(u["c"])()?Object(l["j"])({id:this.playlist.id,t:this.playlist.subscribed?2:1}).then(e=>{200===e.code&&(this.playlist.subscribed=!this.playlist.subscribed,!0===t&&this.showToast(this.playlist.subscribed?"已保存到音乐库":"已从音乐库删除")),Object(l["f"])(this.id,!0).then(t=>{this.playlist=t.playlist})}):this.showToast(d["a"].t("toast.needToLogin"))},loadData(t,e){this.id=t,Object(l["f"])(this.id,!0).then(t=>(this.playlist=t.playlist,this.tracks=t.playlist.tracks,o.a.done(),void 0!==e&&e(),this.show=!0,this.lastLoadedTrackIndex=t.playlist.tracks.length-1,t)).then(()=>{this.playlist.trackCount>this.tracks.length&&(this.loadingMore=!0,this.loadMore())})},loadMore(t=100){let e=this.playlist.trackIds.filter((e,n)=>{if(n>this.lastLoadedTrackIndex&&n<=this.lastLoadedTrackIndex+t)return e});e=e.map(t=>t.id),Object(c["c"])(e.join(",")).then(t=>{this.tracks.push(...t.songs),this.lastLoadedTrackIndex+=e.length,this.loadingMore=!1,this.lastLoadedTrackIndex+1===this.playlist.trackIds.length?this.hasMore=!1:this.hasMore=!0})},openMenu(t){this.$refs.playlistMenu.openMenu(t)},deletePlaylist(){if(!Object(u["c"])())return void this.showToast(d["a"].t("toast.needToLogin"));let t=confirm(`确定要删除歌单 ${this.playlist.name}？`);!0===t&&Object(l["e"])(this.playlist.id).then(t=>{200===t.code?(console.log("已删除歌单 "+this.playlist.name),this.$router.go(-1)):console.log("发生错误")})},editPlaylist(){console.log("此功能开发中")},searchInPlaylist(){this.displaySearchInPlaylist=!this.displaySearchInPlaylist||this.isLikeSongsPage,0==this.displaySearchInPlaylist?(this.searchKeyWords="",this.inputSearchKeyWords=""):(this.searchInputWidth="172px",this.loadMore(500))},removeTrack(t){Object(u["c"])()?this.tracks=this.tracks.filter(e=>e.id!==t):this.showToast(d["a"].t("toast.needToLogin"))},inputDebounce(){this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.searchKeyWords=this.inputSearchKeyWords},600)},toggleFullDescription(){this.showFullDescription=!this.showFullDescription,this.showFullDescription?this.$store.commit("enableScrolling",!1):this.$store.commit("enableScrolling",!0)}}},b=y,w=(n("2aaa"),n("0c7c")),k=Object(w["a"])(b,i,r,!1,null,"43894b94",null);e["default"]=k.exports},"8b71":function(t,e,n){"use strict";n("7826")},"8d23":function(t,e,n){const i=n("2732");function r(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}r.prototype.initialize=function(t){this.degree=t,this.genPoly=i.generateECPolynomial(this.degree)},r.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const n=i.mod(e,this.genPoly),r=this.degree-n.length;if(r>0){const t=new Uint8Array(this.degree);return t.set(n,r),t}return n},t.exports=r},"8ffd":function(t,e,n){"use strict";n("3fcc")},9178:function(t,e,n){"use strict";n("d611")},"91d0":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"explore-page"},[e("h1",[t._v(t._s(t.$t("explore.explore")))]),e("div",{staticClass:"buttons"},[t._l(t.settings.enabledPlaylistCategories,(function(n){return e("div",{key:n,staticClass:"button",class:{active:n===t.activeCategory&&!t.showCatOptions},on:{click:function(e){return t.goToCategory(n)}}},[t._v(" "+t._s(n)+" ")])})),e("div",{staticClass:"button more",class:{active:t.showCatOptions},on:{click:function(e){t.showCatOptions=!t.showCatOptions}}},[e("svg-icon",{attrs:{"icon-class":"more"}})],1)],2),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showCatOptions,expression:"showCatOptions"}],staticClass:"panel"},t._l(t.allBigCats,(function(n){return e("div",{key:n,staticClass:"big-cat"},[e("div",{staticClass:"name"},[t._v(t._s(n))]),e("div",{staticClass:"cats"},t._l(t.getCatsByBigCat(n),(function(n){return e("div",{key:n.name,staticClass:"cat",class:{active:t.settings.enabledPlaylistCategories.includes(n.name)},on:{click:function(e){return t.toggleCat(n.name)}}},[e("span",[t._v(t._s(n.name))])])})),0)])})),0),e("div",{staticClass:"playlists"},[e("CoverRow",{attrs:{type:"playlist",items:t.playlists,"sub-text":t.subText,"show-play-button":!0,"show-play-count":"排行榜"!==t.activeCategory,"image-size":"排行榜"!==t.activeCategory?512:1024}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:!1===["推荐歌单","排行榜"].includes(t.activeCategory),expression:"['推荐歌单', '排行榜'].includes(activeCategory) === false"}],staticClass:"load-more"},[e("ButtonTwoTone",{directives:[{name:"show",rawName:"v-show",value:t.showLoadMoreButton&&t.hasMore,expression:"showLoadMoreButton && hasMore"}],attrs:{color:"grey",loading:t.loadingMore},nativeOn:{click:function(e){return t.getPlaylist.apply(null,arguments)}}},[t._v(t._s(t.$t("explore.loadMore")))])],1)])},r=[],s=(n("14d9"),n("2f62")),a=n("323e"),o=n.n(a),l=n("1e9a"),c=n("d87d"),u=n("8199"),d=n("5e45"),h=n("2726"),p=n("0032"),f={name:"Explore",components:{CoverRow:h["a"],ButtonTwoTone:d["a"],SvgIcon:p["a"]},beforeRouteUpdate(t,e,n){this.showLoadMoreButton=!1,this.hasMore=!0,this.playlists=[],this.offset=1,this.activeCategory=t.query.category,this.getPlaylist(),n()},data(){return{show:!1,playlists:[],activeCategory:"全部",loadingMore:!1,showLoadMoreButton:!1,hasMore:!0,allBigCats:["语种","风格","场景","情感","主题"],showCatOptions:!1}},computed:{...Object(s["d"])(["settings"]),subText(){return"排行榜"===this.activeCategory?"updateFrequency":"推荐歌单"===this.activeCategory?"copywriter":"none"}},activated(){this.loadData(),this.$parent.$refs.scrollbar.restorePosition()},methods:{...Object(s["c"])(["togglePlaylistCategory"]),loadData(){setTimeout(()=>{this.show||o.a.start()},1e3),this.activeCategory=void 0===this.$route.query.category?"全部":this.$route.query.category,this.getPlaylist()},goToCategory(t){this.showCatOptions=!1,this.$router.push({name:"explore",query:{category:t}})},updatePlaylist(t){this.playlists.push(...t),this.loadingMore=!1,this.showLoadMoreButton=!0,o.a.done(),this.show=!0},getPlaylist(){return this.loadingMore=!0,"推荐歌单"===this.activeCategory?this.getRecommendPlayList():"精品歌单"===this.activeCategory?this.getHighQualityPlaylist():"排行榜"===this.activeCategory?this.getTopLists():this.getTopPlayList()},getRecommendPlayList(){Object(u["b"])(100,!0).then(t=>{this.playlists=[],this.updatePlaylist(t)})},getHighQualityPlaylist(){let t=this.playlists,e=0!==t.length?t[t.length-1].updateTime:0;Object(l["g"])({limit:50,before:e}).then(t=>{this.updatePlaylist(t.playlists),this.hasMore=t.more})},getTopLists(){Object(l["l"])().then(t=>{this.playlists=[],this.updatePlaylist(t.list)})},getTopPlayList(){Object(l["k"])({cat:this.activeCategory,offset:this.playlists.length}).then(t=>{this.updatePlaylist(t.playlists),this.hasMore=t.more})},getCatsByBigCat(t){return c["b"].filter(e=>e.bigCat===t)},toggleCat(t){this.togglePlaylistCategory(t)}}},m=f,g=(n("8b71"),n("0c7c")),v=Object(g["a"])(m,i,r,!1,null,"63b03312",null);e["default"]=v.exports},"924f":function(t,e,n){const i=n("7bf0").getSymbolSize,r=7;e.getPositions=function(t){const e=i(t);return[[0,0],[e-r,0],[0,e-r]]}},9582:function(t,e,n){const i=n("7bf0"),r=1335,s=21522,a=i.getBCHDigit(r);e.getEncodedBits=function(t,e){const n=t.bit<<3|e;let o=n<<10;while(i.getBCHDigit(o)-a>=0)o^=r<<i.getBCHDigit(o)-a;return(n<<10|o)^s}},9615:function(t,e,n){},"96b2":function(t,e,n){"use strict";n("bed1")},"979e":function(t,e,n){},"98ec":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"next-tracks"},[e("h1",[t._v(t._s(t.$t("next.nowPlaying")))]),e("TrackList",{attrs:{tracks:[t.currentTrack],type:"playlist","dbclick-track-func":"none"}}),e("h1",{directives:[{name:"show",rawName:"v-show",value:t.playNextList.length>0,expression:"playNextList.length > 0"}]},[t._v("插队播放 "),e("button",{on:{click:function(e){return t.player.clearPlayNextList()}}},[t._v("清除队列")])]),e("TrackList",{directives:[{name:"show",rawName:"v-show",value:t.playNextList.length>0,expression:"playNextList.length > 0"}],attrs:{tracks:t.playNextTracks,type:"playlist","highlight-playing-track":!1,"dbclick-track-func":"playTrackOnListByID","item-key":"id+index","extra-context-menu-item":["removeTrackFromQueue"]}}),e("h1",[t._v(t._s(t.$t("next.nextUp")))]),e("TrackList",{attrs:{tracks:t.filteredTracks,type:"playlist","highlight-playing-track":!1,"dbclick-track-func":"playTrackOnListByID"}})],1)},r=[],s=(n("14d9"),n("2f62")),a=n("fefb"),o=n("a1a1"),l={name:"Next",components:{TrackList:o["a"]},data(){return{tracks:[]}},computed:{...Object(s["d"])(["player"]),currentTrack(){return this.player.currentTrack},playerShuffle(){return this.player.shuffle},filteredTracks(){let t=this.player.list.slice(this.player.current+1,this.player.current+100);return this.tracks.filter(e=>t.includes(e.id))},playNextList(){return this.player.playNextList},playNextTracks(){return this.playNextList.map(t=>this.tracks.find(e=>e.id===t))}},watch:{currentTrack(){this.loadTracks()},playerShuffle(){this.loadTracks()},playNextList(){this.loadTracks()}},activated(){this.loadTracks(),this.$parent.$refs.scrollbar.restorePosition()},methods:{...Object(s["b"])(["playTrackOnListByID"]),loadTracks(){let t=this.player.list.slice(this.player.current+1,this.player.current+100);t.push(...this.playNextList);let e=this.tracks.map(t=>t.id);t.length>0&&Object(a["c"])(t.join(",")).then(t=>{let n=t.songs.filter(t=>!e.includes(t.id));this.tracks.push(...n)})}}},c=l,u=(n("c5fa"),n("0c7c")),d=Object(u["a"])(c,i,r,!1,null,"4ccd4a24",null);e["default"]=d.exports},"9bfc":function(t,e,n){"use strict";n("7123")},"9d94":function(t,e,n){const i=n("bbf0"),r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function s(t){this.mode=i.ALPHANUMERIC,this.data=t}s.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let n=45*r.indexOf(this.data[e]);n+=r.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(r.indexOf(this.data[e]),6)},t.exports=s},a08b:function(t,e,n){},a0b9:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login"},[e("div",{staticClass:"login-container"},[t._m(0),e("div",{staticClass:"title"},[t._v(t._s(t.$t("login.loginText")))]),e("div",{staticClass:"section-2"},[e("div",{directives:[{name:"show",rawName:"v-show",value:"phone"===t.mode,expression:"mode === 'phone'"}],staticClass:"input-box"},[e("div",{staticClass:"container",class:{active:"phone"===t.inputFocus}},[e("svg-icon",{attrs:{"icon-class":"mobile"}}),e("div",{staticClass:"inputs"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.countryCode,expression:"countryCode"}],attrs:{id:"countryCode",placeholder:"phone"===t.inputFocus?"":t.$t("login.countryCode")},domProps:{value:t.countryCode},on:{focus:function(e){t.inputFocus="phone"},blur:function(e){t.inputFocus=""},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.countryCode=e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNumber,expression:"phoneNumber"}],attrs:{id:"phoneNumber",placeholder:"phone"===t.inputFocus?"":t.$t("login.phone")},domProps:{value:t.phoneNumber},on:{focus:function(e){t.inputFocus="phone"},blur:function(e){t.inputFocus=""},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.phoneNumber=e.target.value)}}})])],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:"email"===t.mode,expression:"mode === 'email'"}],staticClass:"input-box"},[e("div",{staticClass:"container",class:{active:"email"===t.inputFocus}},[e("svg-icon",{attrs:{"icon-class":"mail"}}),e("div",{staticClass:"inputs"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"email",type:"email",placeholder:"email"===t.inputFocus?"":t.$t("login.email")},domProps:{value:t.email},on:{focus:function(e){t.inputFocus="email"},blur:function(e){t.inputFocus=""},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.email=e.target.value)}}})])],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:"qrCode"!==t.mode,expression:"mode !== 'qrCode'"}],staticClass:"input-box"},[e("div",{staticClass:"container",class:{active:"password"===t.inputFocus}},[e("svg-icon",{attrs:{"icon-class":"lock"}}),e("div",{staticClass:"inputs"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",type:"password",placeholder:"password"===t.inputFocus?"":t.$t("login.password")},domProps:{value:t.password},on:{focus:function(e){t.inputFocus="password"},blur:function(e){t.inputFocus=""},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.password=e.target.value)}}})])],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:"qrCode"==t.mode,expression:"mode == 'qrCode'"}]},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.qrCodeSvg,expression:"qrCodeSvg"}],staticClass:"qr-code-container"},[e("img",{attrs:{src:t.qrCodeSvg,loading:"lazy"}})]),e("div",{staticClass:"qr-code-info"},[t._v(" "+t._s(t.qrCodeInformation)+" ")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:"qrCode"!==t.mode,expression:"mode !== 'qrCode'"}],staticClass:"confirm"},[e("button",{directives:[{name:"show",rawName:"v-show",value:!t.isLogging,expression:"!isLogging"}],on:{click:t.login}},[t._v(" "+t._s(t.$t("login.login"))+" ")]),e("button",{directives:[{name:"show",rawName:"v-show",value:t.isLogging,expression:"isLogging"}],staticClass:"loading",attrs:{disabled:""}},[e("span"),e("span"),e("span")])]),e("div",{staticClass:"other-login"},[e("a",{directives:[{name:"show",rawName:"v-show",value:"email"!==t.mode,expression:"mode !== 'email'"}],on:{click:function(e){return t.changeMode("email")}}},[t._v(t._s(t.$t("login.loginWithEmail")))]),e("span",{directives:[{name:"show",rawName:"v-show",value:"qrCode"===t.mode,expression:"mode === 'qrCode'"}]},[t._v("|")]),e("a",{directives:[{name:"show",rawName:"v-show",value:"phone"!==t.mode,expression:"mode !== 'phone'"}],on:{click:function(e){return t.changeMode("phone")}}},[t._v(t._s(t.$t("login.loginWithPhone")))]),e("span",{directives:[{name:"show",rawName:"v-show",value:"qrCode"!==t.mode,expression:"mode !== 'qrCode'"}]},[t._v("|")]),e("a",{directives:[{name:"show",rawName:"v-show",value:"qrCode"!==t.mode,expression:"mode !== 'qrCode'"}],on:{click:function(e){return t.changeMode("qrCode")}}},[t._v(" 二维码登录 ")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:"qrCode"!==t.mode,expression:"mode !== 'qrCode'"}],staticClass:"notice"})])])},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"section-1"},[e("img",{attrs:{src:"/img/logos/netease-music.png"}})])}],s=(n("14d9"),n("d055")),a=n.n(s),o=n("72fe"),l=n.n(o),c=n("323e"),u=n.n(c),d=n("2f62"),h=n("5f87"),p=n("3786"),f={name:"Login",data(){return{isLogging:!1,mode:"qrCode",countryCode:"+86",phoneNumber:"",email:"",password:"",smsCode:"",inputFocus:"",qrCodeKey:"",qrCodeSvg:"",qrCodeCheckInterval:null,qrCodeInformation:"打开网易云音乐APP扫码登录"}},computed:{},created(){["phone","email","qrCode"].includes(this.$route.query.mode)&&(this.mode=this.$route.query.mode),this.getQrCodeKey()},beforeDestroy(){clearInterval(this.qrCodeCheckInterval)},methods:{...Object(d["c"])(["updateData"]),validatePhone(){return""!==this.countryCode&&""!==this.phone&&""!==this.password||(console.log("国家区号或手机号不正确"),this.isLogging=!1,!1)},validateEmail(){const t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return!(""===this.email||""===this.password||!t.test(this.email))||(console.log("邮箱不正确"),!1)},login(){if("phone"===this.mode){if(this.isLogging=this.validatePhone(),!this.isLogging)return;Object(p["d"])({countrycode:this.countryCode.replace("+","").replace(/\s/g,""),phone:this.phoneNumber.replace(/\s/g,""),password:"fakePassword",md5_password:l()(this.password).toString()}).then(this.handleLoginResponse).catch(t=>{this.isLogging=!1,console.log(t),console.log("发生错误，请检查你的账号密码是否正确\n"+t)})}else{if(this.isLogging=this.validateEmail(),!this.isLogging)return;Object(p["c"])({email:this.email.replace(/\s/g,""),password:"fakePassword",md5_password:l()(this.password).toString()}).then(this.handleLoginResponse).catch(t=>{this.isLogging=!1,console.log(t),console.log("发生错误，请检查你的账号密码是否正确\n"+t)})}},handleLoginResponse(t){var e,n;t?200===t.code?(Object(h["e"])(t.cookie),this.updateData({key:"loginMode",value:"account"}),this.$store.dispatch("fetchUserProfile").then(()=>{this.$store.dispatch("fetchLikedPlaylist").then(()=>{this.$router.push({path:"/library"})})})):(this.isLogging=!1,console.log(null!==(e=null!==(n=t.msg)&&void 0!==n?n:t.message)&&void 0!==e?e:"账号或密码错误，请检查"),console.log("error")):this.isLogging=!1},getQrCodeKey(){return Object(p["b"])().then(t=>{200===t.code&&(this.qrCodeKey=t.data.unikey,a.a.toString("https://music.163.com/login?codekey="+this.qrCodeKey,{width:192,margin:0,color:{dark:"#335eea",light:"#00000000"},type:"svg"}).then(t=>{this.qrCodeSvg="data:image/svg+xml;utf8,"+encodeURIComponent(t)}).catch(t=>{console.error(t)}).finally(()=>{u.a.done()})),this.checkQrCodeLogin()})},checkQrCodeLogin(){this.qrCodeCheckInterval=setInterval(()=>{""!==this.qrCodeKey&&Object(p["a"])(this.qrCodeKey).then(t=>{800===t.code?(this.getQrCodeKey(),this.qrCodeInformation="二维码已失效，请重新扫码"):802===t.code?this.qrCodeInformation="扫描成功，请在手机上确认登录":801===t.code?this.qrCodeInformation="打开网易云音乐APP扫码登录":803===t.code&&(clearInterval(this.qrCodeCheckInterval),this.qrCodeInformation="登录成功，请稍等...",t.code=200,t.cookie=t.cookie.replace("HTTPOnly",""),this.handleLoginResponse(t))})},1e3)},changeMode(t){this.mode=t,"qrCode"===t?this.checkQrCodeLogin():clearInterval(this.qrCodeCheckInterval)}}},m=f,g=(n("4a3e"),n("0c7c")),v=Object(g["a"])(m,i,r,!1,null,"1b046400",null);e["default"]=v.exports},a1a1:function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"track-list"},[e("ContextMenu",{ref:"menu"},[e("div",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"!==t.type,expression:"type !== 'cloudDisk'"}],staticClass:"item-info"},[e("img",{attrs:{src:t._f("resizeImage")(t.rightClickedTrackComputed.al.picUrl,224),loading:"lazy"}}),e("div",{staticClass:"info"},[e("div",{staticClass:"title"},[t._v(t._s(t.rightClickedTrackComputed.name))]),e("div",{staticClass:"subtitle"},[t._v(t._s(t.rightClickedTrackComputed.ar[0].name))])])]),e("hr",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"!==t.type,expression:"type !== 'cloudDisk'"}]}),e("div",{staticClass:"item",on:{click:t.play}},[t._v(t._s(t.$t("contextMenu.play")))]),e("div",{staticClass:"item",on:{click:t.addToQueue}},[t._v(t._s(t.$t("contextMenu.addToQueue")))]),t.extraContextMenuItem.includes("removeTrackFromQueue")?e("div",{staticClass:"item",on:{click:t.removeTrackFromQueue}},[t._v("从队列删除")]):t._e(),e("hr",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"!==t.type,expression:"type !== 'cloudDisk'"}]}),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isRightClickedTrackLiked&&"cloudDisk"!==t.type,expression:"!isRightClickedTrackLiked && type !== 'cloudDisk'"}],staticClass:"item",on:{click:t.like}},[t._v(" "+t._s(t.$t("contextMenu.saveToMyLikedSongs"))+" ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isRightClickedTrackLiked&&"cloudDisk"!==t.type,expression:"isRightClickedTrackLiked && type !== 'cloudDisk'"}],staticClass:"item",on:{click:t.like}},[t._v(" "+t._s(t.$t("contextMenu.removeFromMyLikedSongs"))+" ")]),t.extraContextMenuItem.includes("removeTrackFromPlaylist")?e("div",{staticClass:"item",on:{click:t.removeTrackFromPlaylist}},[t._v("从歌单中删除")]):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"!==t.type,expression:"type !== 'cloudDisk'"}],staticClass:"item",on:{click:t.addTrackToPlaylist}},[t._v(t._s(t.$t("contextMenu.addToPlaylist")))]),e("div",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"!==t.type,expression:"type !== 'cloudDisk'"}],staticClass:"item",on:{click:t.copyLink}},[t._v(t._s(t.$t("contextMenu.copyUrl")))]),t.extraContextMenuItem.includes("removeTrackFromCloudDisk")?e("div",{staticClass:"item",on:{click:t.removeTrackFromCloudDisk}},[t._v("从云盘中删除")]):t._e()]),e("div",{style:t.listStyles},t._l(t.tracks,(function(n,i){return e("TrackListItem",{key:"id"===t.itemKey?n.id:`${n.id}${i}`,attrs:{"track-prop":n,"highlight-playing-track":t.highlightPlayingTrack},nativeOn:{dblclick:function(e){return t.playThisList(n.id||n.songId)},contextmenu:function(e){return t.openMenu(e,n,i)}}})})),1)],1)},r=[],s=n("2f62"),a=n("1e9a"),o=n("c24f"),l=n("5f87"),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"track",class:t.trackClass,style:t.trackStyle,attrs:{title:t.showUnavailableSongInGreyStyle?t.track.reason:""},on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[t.isAlbum?t._e():e("img",{class:{hover:t.focus},attrs:{src:t.imgUrl,loading:"lazy"},on:{click:t.goToAlbum}}),t.showOrderNumber?e("div",{staticClass:"no"},[e("button",{directives:[{name:"show",rawName:"v-show",value:t.focus&&t.playable&&!t.isPlaying,expression:"focus && playable && !isPlaying"}],on:{click:t.playTrack}},[e("svg-icon",{staticStyle:{height:"14px",width:"14px"},attrs:{"icon-class":"play"}})],1),e("span",{directives:[{name:"show",rawName:"v-show",value:(!t.focus||!t.playable)&&!t.isPlaying,expression:"(!focus || !playable) && !isPlaying"}]},[t._v(t._s(t.track.no))]),e("button",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying,expression:"isPlaying"}]},[e("svg-icon",{staticStyle:{height:"16px",width:"16px"},attrs:{"icon-class":"volume"}})],1)]):t._e(),e("div",{staticClass:"title-and-artist"},[e("div",{staticClass:"container"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.track.name)+" "),t.isSubTitle?e("span",{staticClass:"sub-title",attrs:{title:t.subTitle}},[t._v(" ("+t._s(t.subTitle)+") ")]):t._e(),t.isAlbum?e("span",{staticClass:"featured"},[e("ArtistsInLine",{attrs:{artists:t.track.ar,exclude:t.$parent.albumObject.artist.name,prefix:"-"}})],1):t._e(),t.isAlbum&&1318912===t.track.mark?e("span",{staticClass:"explicit-symbol"},[e("ExplicitSymbol")],1):t._e()]),t.isAlbum?t._e():e("div",{staticClass:"artist"},[1318912===t.track.mark?e("span",{staticClass:"explicit-symbol before-artist"},[e("ExplicitSymbol",{attrs:{size:15}})],1):t._e(),e("ArtistsInLine",{attrs:{artists:t.artists}})],1)]),e("div")]),t.showAlbumName?e("div",{staticClass:"album"},[t.album&&t.album.id?e("router-link",{attrs:{to:"/album/"+t.album.id}},[t._v(t._s(t.album.name))]):t._e(),e("div")],1):t._e(),t.showLikeButton?e("div",{staticClass:"actions"},[e("button",{on:{click:t.likeThisSong}},[e("svg-icon",{style:{visibility:t.focus&&!t.isLiked?"visible":"hidden"},attrs:{"icon-class":"heart"}}),e("svg-icon",{directives:[{name:"show",rawName:"v-show",value:t.isLiked,expression:"isLiked"}],attrs:{"icon-class":"heart-solid"}})],1)]):t._e(),t.showTrackTime?e("div",{staticClass:"time"},[t._v(" "+t._s(t._f("formatTime")(t.track.dt))+" ")]):t._e(),t.track.playCount?e("div",{staticClass:"count"},[t._v(" "+t._s(t.track.playCount))]):t._e()])},u=[],d=(n("14d9"),n("186d")),h=n("0c94"),p=n("2ef0"),f={name:"TrackListItem",components:{ArtistsInLine:d["a"],ExplicitSymbol:h["a"]},props:{trackProp:Object,highlightPlayingTrack:{type:Boolean,default:!0}},data(){return{hover:!1,trackStyle:{}}},computed:{...Object(s["d"])(["settings"]),track(){return"cloudDisk"===this.type?this.trackProp.simpleSong:this.trackProp},playable(){var t,e,n;return(null===(t=this.track)||void 0===t||null===(e=t.privilege)||void 0===e?void 0:e.pl)>0||(null===(n=this.track)||void 0===n?void 0:n.playable)},imgUrl(){var t,e,n,i,r,s;let a=null!==(t=null!==(e=null===(n=this.track)||void 0===n||null===(i=n.al)||void 0===i?void 0:i.picUrl)&&void 0!==e?e:null===(r=this.track)||void 0===r||null===(s=r.album)||void 0===s?void 0:s.picUrl)&&void 0!==t?t:"https://p2.music.126.net/UeTuwE7pvjBpypWLudqukA==/3132508627578625.jpg";return a+"?param=224y224"},artists(){const{ar:t,artists:e}=this.track;return Object(p["isNil"])(t)?Object(p["isNil"])(e)?[]:e:t},album(){var t,e;return this.track.album||this.track.al||(null===(t=this.track)||void 0===t||null===(e=t.simpleSong)||void 0===e?void 0:e.al)},subTitle(){var t,e;let n=void 0;var i,r;return(null===(t=this.track)||void 0===t||null===(e=t.tns)||void 0===e?void 0:e.length)>0&&this.track.name!==this.track.tns[0]&&(n=this.track.tns[0]),this.$store.state.settings.subTitleDefault?(null===(i=this.track)||void 0===i||null===(r=i.alia)||void 0===r?void 0:r.length)>0?this.track.alia[0]:n:void 0===n?this.track.alia[0]:n},type(){return this.$parent.type},isAlbum(){return"album"===this.type},isSubTitle(){var t,e,n;return(null===(t=this.track)||void 0===t||null===(e=t.tns)||void 0===e?void 0:e.length)>0&&this.track.name!==this.track.tns[0]||(null===(n=this.track.alia)||void 0===n?void 0:n.length)>0},isPlaylist(){return"playlist"===this.type},isLiked(){var t;return this.$parent.liked.songs.includes(null===(t=this.track)||void 0===t?void 0:t.id)},isPlaying(){var t;return this.$store.state.player.currentTrack.id===(null===(t=this.track)||void 0===t?void 0:t.id)},trackClass(){let t=[this.type];return!this.playable&&this.showUnavailableSongInGreyStyle&&t.push("disable"),this.isPlaying&&this.highlightPlayingTrack&&t.push("playing"),this.focus&&t.push("focus"),t},isMenuOpened(){return this.$parent.rightClickedTrack.id===this.track.id},focus(){return this.hover&&0===this.$parent.rightClickedTrack.id||this.isMenuOpened},showUnavailableSongInGreyStyle(){return!0},showLikeButton(){return"tracklist"!==this.type&&"cloudDisk"!==this.type},showOrderNumber(){return"album"===this.type},showAlbumName(){return"album"!==this.type&&"tracklist"!==this.type},showTrackTime(){return"tracklist"!==this.type}},methods:{goToAlbum(){0!==this.track.al.id&&this.$router.push({path:"/album/"+this.track.al.id})},playTrack(){this.$parent.playThisList(this.track.id)},likeThisSong(){this.$parent.likeATrack(this.track.id)}}},m=f,g=(n("96b2"),n("0c7c")),v=Object(g["a"])(m,c,u,!1,null,"4832a7ee",null),y=v.exports,b=n("6825"),w=n("fe07"),k={name:"TrackList",components:{TrackListItem:y,ContextMenu:b["a"]},props:{tracks:{type:Array,default:()=>[]},type:{type:String,default:"tracklist"},id:{type:Number,default:0},dbclickTrackFunc:{type:String,default:"default"},albumObject:{type:Object,default:()=>({artist:{name:""}})},extraContextMenuItem:{type:Array,default:()=>[]},columnNumber:{type:Number,default:4},highlightPlayingTrack:{type:Boolean,default:!0},itemKey:{type:String,default:"id"}},data(){return{rightClickedTrack:{id:0,name:"",ar:[{name:""}],al:{picUrl:""}},rightClickedTrackIndex:-1,listStyles:{}}},computed:{...Object(s["d"])(["liked","player"]),isRightClickedTrackLiked(){var t;return this.liked.songs.includes(null===(t=this.rightClickedTrack)||void 0===t?void 0:t.id)},rightClickedTrackComputed(){return"cloudDisk"===this.type?{id:0,name:"",ar:[{name:""}],al:{picUrl:""}}:this.rightClickedTrack}},created(){"tracklist"===this.type&&(this.listStyles={display:"grid",gap:"4px",gridTemplateColumns:`repeat(${this.columnNumber}, 1fr)`})},methods:{...Object(s["c"])(["updateModal"]),...Object(s["b"])(["nextTrack","showToast","likeATrack"]),openMenu(t,e,n=-1){this.rightClickedTrack=e,this.rightClickedTrackIndex=n,this.$refs.menu.openMenu(t)},closeMenu(){this.rightClickedTrack={id:0,name:"",ar:[{name:""}],al:{picUrl:""}},this.rightClickedTrackIndex=-1},playThisList(t){if("default"===this.dbclickTrackFunc)this.playThisListDefault(t);else if("none"===this.dbclickTrackFunc);else if("playTrackOnListByID"===this.dbclickTrackFunc)this.player.playTrackOnListByID(t);else if("playPlaylistByID"===this.dbclickTrackFunc)this.player.playPlaylistByID(this.id,t);else if("playAList"===this.dbclickTrackFunc){let e=this.tracks.map(t=>t.id||t.songId);this.player.replacePlaylist(e,this.id,"artist",t)}else if("dailyTracks"===this.dbclickTrackFunc){let e=this.tracks.map(t=>t.id);this.player.replacePlaylist(e,"/daily/songs","url",t)}else if("playCloudDisk"===this.dbclickTrackFunc){let e=this.tracks.map(t=>t.id||t.songId);this.player.replacePlaylist(e,this.id,"cloudDisk",t)}},playThisListDefault(t){if("playlist"===this.type)this.player.playPlaylistByID(this.id,t);else if("album"===this.type)this.player.playAlbumByID(this.id,t);else if("tracklist"===this.type){let e=this.tracks.map(t=>t.id);this.player.replacePlaylist(e,this.id,"artist",t)}},play(){this.player.addTrackToPlayNext(this.rightClickedTrack.id,!0)},addToQueue(){this.player.addTrackToPlayNext(this.rightClickedTrack.id)},like(){this.likeATrack(this.rightClickedTrack.id)},addTrackToPlaylist(){Object(l["c"])()?(this.updateModal({modalName:"addTrackToPlaylistModal",key:"show",value:!0}),this.updateModal({modalName:"addTrackToPlaylistModal",key:"selectedTrackID",value:this.rightClickedTrack.id})):this.showToast(w["a"].t("toast.needToLogin"))},removeTrackFromPlaylist(){if(Object(l["c"])()){if(confirm(`确定要从歌单删除 ${this.rightClickedTrack.name}？`)){let t=this.rightClickedTrack.id;Object(a["a"])({op:"del",pid:this.id,tracks:t}).then(e=>{this.showToast(200===e.body.code?w["a"].t("toast.removedFromPlaylist"):e.body.message),this.$parent.removeTrack(t)})}}else this.showToast(w["a"].t("toast.needToLogin"))},copyLink(){this.$copyText("https://music.163.com/song?id="+this.rightClickedTrack.id).then(()=>{this.showToast(w["a"].t("toast.copied"))}).catch(t=>{this.showToast(`${w["a"].t("toast.copyFailed")}${t}`)})},removeTrackFromQueue(){this.$store.state.player.removeTrackFromQueue(this.rightClickedTrackIndex)},removeTrackFromCloudDisk(){if(confirm(`确定要从云盘删除 ${this.rightClickedTrack.songName}？`)){let t=this.rightClickedTrack.songId;Object(o["b"])(t).then(e=>{this.showToast(200===e.code?"已将此歌曲从云盘删除":e.message);let n=this.liked.cloudDisk.filter(e=>e.songId!==t);this.$store.commit("updateLikedXXX",{name:"cloudDisk",data:n})})}}}},_=k,C=Object(g["a"])(_,i,r,!1,null,"b54ce90e",null);e["a"]=C.exports},a819:function(t,e,n){},aa63:function(t,e,n){const i=n("7bf0"),r=n("7a43"),s=n("7ba0"),a=n("577e4"),o=n("d6c0"),l=n("924f"),c=n("7903"),u=n("34fc"),d=n("8d23"),h=n("c8aa"),p=n("9582"),f=n("bbf0"),m=n("befa");function g(t,e){const n=t.size,i=l.getPositions(e);for(let r=0;r<i.length;r++){const e=i[r][0],s=i[r][1];for(let i=-1;i<=7;i++)if(!(e+i<=-1||n<=e+i))for(let r=-1;r<=7;r++)s+r<=-1||n<=s+r||(i>=0&&i<=6&&(0===r||6===r)||r>=0&&r<=6&&(0===i||6===i)||i>=2&&i<=4&&r>=2&&r<=4?t.set(e+i,s+r,!0,!0):t.set(e+i,s+r,!1,!0))}}function v(t){const e=t.size;for(let n=8;n<e-8;n++){const e=n%2===0;t.set(n,6,e,!0),t.set(6,n,e,!0)}}function y(t,e){const n=o.getPositions(e);for(let i=0;i<n.length;i++){const e=n[i][0],r=n[i][1];for(let n=-2;n<=2;n++)for(let i=-2;i<=2;i++)-2===n||2===n||-2===i||2===i||0===n&&0===i?t.set(e+n,r+i,!0,!0):t.set(e+n,r+i,!1,!0)}}function b(t,e){const n=t.size,i=h.getEncodedBits(e);let r,s,a;for(let o=0;o<18;o++)r=Math.floor(o/3),s=o%3+n-8-3,a=1===(i>>o&1),t.set(r,s,a,!0),t.set(s,r,a,!0)}function w(t,e,n){const i=t.size,r=p.getEncodedBits(e,n);let s,a;for(s=0;s<15;s++)a=1===(r>>s&1),s<6?t.set(s,8,a,!0):s<8?t.set(s+1,8,a,!0):t.set(i-15+s,8,a,!0),s<8?t.set(8,i-s-1,a,!0):s<9?t.set(8,15-s-1+1,a,!0):t.set(8,15-s-1,a,!0);t.set(i-8,8,1,!0)}function k(t,e){const n=t.size;let i=-1,r=n-1,s=7,a=0;for(let o=n-1;o>0;o-=2){6===o&&o--;while(1){for(let n=0;n<2;n++)if(!t.isReserved(r,o-n)){let i=!1;a<e.length&&(i=1===(e[a]>>>s&1)),t.set(r,o-n,i),s--,-1===s&&(a++,s=7)}if(r+=i,r<0||n<=r){r-=i,i=-i;break}}}}function _(t,e,n){const r=new s;n.forEach((function(e){r.put(e.mode.bit,4),r.put(e.getLength(),f.getCharCountIndicator(e.mode,t)),e.write(r)}));const a=i.getSymbolTotalCodewords(t),o=u.getTotalCodewordsCount(t,e),l=8*(a-o);r.getLengthInBits()+4<=l&&r.put(0,4);while(r.getLengthInBits()%8!==0)r.putBit(0);const c=(l-r.getLengthInBits())/8;for(let i=0;i<c;i++)r.put(i%2?17:236,8);return C(r,t,e)}function C(t,e,n){const r=i.getSymbolTotalCodewords(e),s=u.getTotalCodewordsCount(e,n),a=r-s,o=u.getBlocksCount(e,n),l=r%o,c=o-l,h=Math.floor(r/o),p=Math.floor(a/o),f=p+1,m=h-p,g=new d(m);let v=0;const y=new Array(o),b=new Array(o);let w=0;const k=new Uint8Array(t.buffer);for(let i=0;i<o;i++){const t=i<c?p:f;y[i]=k.slice(v,v+t),b[i]=g.encode(y[i]),v+=t,w=Math.max(w,t)}const _=new Uint8Array(r);let C,T,x=0;for(C=0;C<w;C++)for(T=0;T<o;T++)C<y[T].length&&(_[x++]=y[T][C]);for(C=0;C<m;C++)for(T=0;T<o;T++)_[x++]=b[T][C];return _}function T(t,e,n,r){let s;if(Array.isArray(t))s=m.fromArray(t);else{if("string"!==typeof t)throw new Error("Invalid data");{let i=e;if(!i){const e=m.rawSplit(t);i=h.getBestVersionForData(e,n)}s=m.fromString(t,i||40)}}const o=h.getBestVersionForData(s,n);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<o)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+o+".\n")}else e=o;const l=_(e,n,s),u=i.getSymbolSize(e),d=new a(u);return g(d,e),v(d),y(d,e),w(d,n,0),e>=7&&b(d,e),k(d,l),isNaN(r)&&(r=c.getBestMask(d,w.bind(null,d,n))),c.applyMask(r,d),w(d,n,r),{modules:d,version:e,errorCorrectionLevel:n,maskPattern:r,segments:s}}e.create=function(t,e){if("undefined"===typeof t||""===t)throw new Error("No input text");let n,s,a=r.M;return"undefined"!==typeof e&&(a=r.from(e.errorCorrectionLevel,r.M),n=h.from(e.version),s=c.from(e.maskPattern),e.toSJISFunc&&i.setToSJISFunction(e.toSJISFunc)),T(t,n,a,s)}},ae1d:function(t,e,n){},af57:function(t,e,n){"use strict";n("cd27")},b617:function(t,e,n){"use strict";(function(t){n("14d9"),n("5b81");var i=n("2f62"),r=n("5f87"),s=n("7b78"),a=n("cf45"),o=n("e31c"),l=n("9224");const c=["=","-","~","[","]",";","'",",",".","/"];e["a"]={name:"Settings",data(){return{tracksCache:{size:"0KB",length:0},allOutputDevices:[{deviceId:"default",label:"settings.permissionRequired"}],shortcutInput:{id:"",type:"",recording:!1},recordedShortcut:[]}},computed:{...Object(i["d"])(["player","settings","data","lastfm"]),version(){return l.version},showUserInfo(){return Object(r["d"])()&&this.data.user.nickname},recordedShortcutComputed(){let t=[];this.recordedShortcut.map(e=>{e.keyCode>=65&&e.keyCode<=90?t.push(e.code.replace("Key","")):"Meta"===e.key?t.push("Command"):["Alt","Control","Shift"].includes(e.key)?t.push(e.key):e.keyCode>=48&&e.keyCode<=57?t.push(e.code.replace("Digit","")):e.keyCode>=112&&e.keyCode<=123?t.push(e.code):["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(e.key)?t.push(e.code.replace("Arrow","")):c.includes(e.key)&&t.push(e.key)});const e={Control:1,Shift:2,Alt:3,Command:4};return t=t.sort((t,n)=>e[t]&&e[n]?e[t]-e[n]<=-1?-1:e[t]-e[n]>=1?1:0:0),t=t.join("+"),t},lang:{get(){return this.settings.lang},set(t){this.$i18n.locale=t,this.$store.commit("changeLang",t)}},musicLanguage:{get(){var t;return null!==(t=this.settings.musicLanguage)&&void 0!==t?t:"all"},set(t){this.$store.commit("updateSettings",{key:"musicLanguage",value:t})}},appearance:{get(){return void 0===this.settings.appearance?"auto":this.settings.appearance},set(t){this.$store.commit("updateSettings",{key:"appearance",value:t}),Object(a["b"])(t)}},musicQuality:{get(){var t;return null!==(t=this.settings.musicQuality)&&void 0!==t?t:32e4},set(t){t!==this.settings.musicQuality&&(this.$store.commit("changeMusicQuality",t),this.clearCache())}},lyricFontSize:{get(){return void 0===this.settings.lyricFontSize?28:this.settings.lyricFontSize},set(t){this.$store.commit("changeLyricFontSize",t)}},outputDevice:{get(){const t=this.allOutputDevices.find(t=>t.deviceId===this.settings.outputDevice);return void 0===this.settings.outputDevice||void 0===t?"default":this.settings.outputDevice},set(t){t!==this.settings.outputDevice&&void 0!==t&&(this.$store.commit("changeOutputDevice",t),this.player.setOutputDevice())}},enableUnblockNeteaseMusic:{get(){const t=this.settings.enableUnblockNeteaseMusic;return void 0===t||t},set(t){this.$store.commit("updateSettings",{key:"enableUnblockNeteaseMusic",value:t})}},showPlaylistsByAppleMusic:{get(){return void 0===this.settings.showPlaylistsByAppleMusic||this.settings.showPlaylistsByAppleMusic},set(t){this.$store.commit("updateSettings",{key:"showPlaylistsByAppleMusic",value:t})}},nyancatStyle:{get(){return void 0!==this.settings.nyancatStyle&&this.settings.nyancatStyle},set(t){this.$store.commit("updateSettings",{key:"nyancatStyle",value:t})}},automaticallyCacheSongs:{get(){return void 0!==this.settings.automaticallyCacheSongs&&this.settings.automaticallyCacheSongs},set(t){this.$store.commit("updateSettings",{key:"automaticallyCacheSongs",value:t}),!1===t&&this.clearCache()}},showLyricsTranslation:{get(){return this.settings.showLyricsTranslation},set(t){this.$store.commit("updateSettings",{key:"showLyricsTranslation",value:t})}},lyricsBackground:{get(){return this.settings.lyricsBackground||!1},set(t){this.$store.commit("updateSettings",{key:"lyricsBackground",value:t})}},showLyricsTime:{get(){return this.settings.showLyricsTime},set(t){this.$store.commit("updateSettings",{key:"showLyricsTime",value:t})}},closeAppOption:{get(){return this.settings.closeAppOption},set(t){this.$store.commit("updateSettings",{key:"closeAppOption",value:t})}},enableDiscordRichPresence:{get(){return this.settings.enableDiscordRichPresence},set(t){this.$store.commit("updateSettings",{key:"enableDiscordRichPresence",value:t})}},subTitleDefault:{get(){return this.settings.subTitleDefault},set(t){this.$store.commit("updateSettings",{key:"subTitleDefault",value:t})}},enableReversedMode:{get(){return void 0!==this.settings.enableReversedMode&&this.settings.enableReversedMode},set(t){this.$store.commit("updateSettings",{key:"enableReversedMode",value:t}),!1===t&&(this.$store.state.player.reversed=!1)}},enableGlobalShortcut:{get(){return this.settings.enableGlobalShortcut},set(t){this.$store.commit("updateSettings",{key:"enableGlobalShortcut",value:t})}},showLibraryDefault:{get(){return this.settings.showLibraryDefault||!1},set(t){this.$store.commit("updateSettings",{key:"showLibraryDefault",value:t})}},cacheLimit:{get(){return this.settings.cacheLimit||!1},set(t){this.$store.commit("updateSettings",{key:"cacheLimit",value:t})}},proxyProtocol:{get(){var t;return(null===(t=this.settings.proxyConfig)||void 0===t?void 0:t.protocol)||"noProxy"},set(t){let e=this.settings.proxyConfig||{};e.protocol=t,this.$store.commit("updateSettings",{key:"proxyConfig",value:e})}},proxyServer:{get(){var t;return(null===(t=this.settings.proxyConfig)||void 0===t?void 0:t.server)||""},set(t){let e=this.settings.proxyConfig||{};e.server=t,this.$store.commit("updateSettings",{key:"proxyConfig",value:e})}},proxyPort:{get(){var t;return(null===(t=this.settings.proxyConfig)||void 0===t?void 0:t.port)||""},set(t){let e=this.settings.proxyConfig||{};e.port=t,this.$store.commit("updateSettings",{key:"proxyConfig",value:e})}},unmSource:{get(){return this.settings.unmSource||""},set(t){this.$store.commit("updateSettings",{key:"unmSource",value:t.length&&t})}},unmSearchMode:{get(){return this.settings.unmSearchMode||"fast-first"},set(t){this.$store.commit("updateSettings",{key:"unmSearchMode",value:t})}},unmEnableFlac:{get(){return this.settings.unmEnableFlac||!1},set(t){this.$store.commit("updateSettings",{key:"unmEnableFlac",value:t||!1})}},unmProxyUri:{get(){return this.settings.unmProxyUri||""},set(t){this.$store.commit("updateSettings",{key:"unmProxyUri",value:t.length&&t})}},unmJooxCookie:{get(){return this.settings.unmJooxCookie||""},set(t){this.$store.commit("updateSettings",{key:"unmJooxCookie",value:t.length&&t})}},unmQQCookie:{get(){return this.settings.unmQQCookie||""},set(t){this.$store.commit("updateSettings",{key:"unmQQCookie",value:t.length&&t})}},unmYtDlExe:{get(){return this.settings.unmYtDlExe||""},set(t){this.$store.commit("updateSettings",{key:"unmYtDlExe",value:t.length&&t})}},enableCustomTitlebar:{get(){return this.settings.linuxEnableCustomTitlebar},set(t){this.$store.commit("updateSettings",{key:"linuxEnableCustomTitlebar",value:t})}},isLastfmConnected(){return void 0!==this.lastfm.key}},created(){this.countDBSize("tracks")},activated(){this.countDBSize("tracks")},methods:{...Object(i["b"])(["showToast"]),getAllOutputDevices(){navigator.mediaDevices.enumerateDevices().then(t=>{this.allOutputDevices=t.filter(t=>"audiooutput"==t.kind),this.allOutputDevices.length>0&&""!==this.allOutputDevices[0].label?this.withoutAudioPriviledge=!1:this.allOutputDevices=[{deviceId:"default",label:"settings.permissionRequired"}]})},logout(){Object(r["a"])(),this.$router.push({name:"home"})},countDBSize(){Object(o["f"])().then(t=>{void 0!==t?(this.tracksCache.size=Object(a["a"])(t.bytes),this.tracksCache.length=t.length):this.tracksCache={size:"0KB",length:0}})},clearCache(){Object(o["e"])().then(()=>{this.countDBSize()})},lastfmConnect(){Object(s["a"])();let t=setInterval(()=>{const e=localStorage.getItem("lastfm");e&&(this.$store.commit("updateLastfm",JSON.parse(e)),clearInterval(t))},1e3)},lastfmDisconnect(){localStorage.removeItem("lastfm"),this.$store.commit("updateLastfm",{})},clickOutside(){this.exitRecordShortcut()},formatShortcut(e){return e=e.replaceAll("+"," + ").replace("Up","↑").replace("Down","↓").replace("Right","→").replace("Left","←"),"zh-CN"===this.settings.lang?e=e.replace("Space","空格"):"zh-TW"===this.settings.lang&&(e=e.replace("Space","空白鍵")),"darwin"===t.platform?e.replace("CommandOrControl","⌘").replace("Command","⌘").replace("Alt","⌥").replace("Control","⌃").replace("Shift","⇧"):e.replace("CommandOrControl","Ctrl")},readyToRecordShortcut(t,e){"globalShortcut"===e&&!1===this.enableGlobalShortcut||(this.shortcutInput={id:t,type:e,recording:!0},this.recordedShortcut=[])},handleShortcutKeydown(t){!1!==this.shortcutInput.recording&&(t.preventDefault(),this.recordedShortcut.find(e=>e.keyCode===t.keyCode)||(this.recordedShortcut.push(t),(t.keyCode>=65&&t.keyCode<=90||t.keyCode>=48&&t.keyCode<=57||t.keyCode>=112&&t.keyCode<=123||["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(t.key)||c.includes(t.key))&&this.saveShortcut()))},handleShortcutKeyup(t){this.recordedShortcut.find(e=>e.keyCode===t.keyCode)&&(this.recordedShortcut=this.recordedShortcut.filter(e=>e.keyCode!==t.keyCode))},saveShortcut(){const{id:t,type:e}=this.shortcutInput,n={id:t,type:e,shortcut:this.recordedShortcutComputed};this.$store.commit("updateShortcut",n),this.showToast("快捷键已保存"),this.recordedShortcut=[]},exitRecordShortcut(){!1!==this.shortcutInput.recording&&(this.shortcutInput={id:"",type:"",recording:!1},this.recordedShortcut=[])},restoreDefaultShortcuts(){this.$store.commit("restoreDefaultShortcuts")}}}}).call(this,n("4362"))},bbf0:function(t,e,n){const i=n("27a3"),r=n("0425");function s(t){if("string"!==typeof t)throw new Error("Param is not a string");const n=t.toLowerCase();switch(n){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!i.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return r.testNumeric(t)?e.NUMERIC:r.testAlphanumeric(t)?e.ALPHANUMERIC:r.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return s(t)}catch(i){return n}}},bdbc:function(t,e,n){"use strict";n("c6ec")},bed1:function(t,e,n){},befa:function(t,e,n){const i=n("bbf0"),r=n("dd7e"),s=n("9d94"),a=n("0196"),o=n("2f3a"),l=n("0425"),c=n("7bf0"),u=n("10b0");function d(t){return unescape(encodeURIComponent(t)).length}function h(t,e,n){const i=[];let r;while(null!==(r=t.exec(n)))i.push({data:r[0],index:r.index,mode:e,length:r[0].length});return i}function p(t){const e=h(l.NUMERIC,i.NUMERIC,t),n=h(l.ALPHANUMERIC,i.ALPHANUMERIC,t);let r,s;c.isKanjiModeEnabled()?(r=h(l.BYTE,i.BYTE,t),s=h(l.KANJI,i.KANJI,t)):(r=h(l.BYTE_KANJI,i.BYTE,t),s=[]);const a=e.concat(n,r,s);return a.sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function f(t,e){switch(e){case i.NUMERIC:return r.getBitsLength(t);case i.ALPHANUMERIC:return s.getBitsLength(t);case i.KANJI:return o.getBitsLength(t);case i.BYTE:return a.getBitsLength(t)}}function m(t){return t.reduce((function(t,e){const n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[])}function g(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];switch(r.mode){case i.NUMERIC:e.push([r,{data:r.data,mode:i.ALPHANUMERIC,length:r.length},{data:r.data,mode:i.BYTE,length:r.length}]);break;case i.ALPHANUMERIC:e.push([r,{data:r.data,mode:i.BYTE,length:r.length}]);break;case i.KANJI:e.push([r,{data:r.data,mode:i.BYTE,length:d(r.data)}]);break;case i.BYTE:e.push([{data:r.data,mode:i.BYTE,length:d(r.data)}])}}return e}function v(t,e){const n={},r={start:{}};let s=["start"];for(let a=0;a<t.length;a++){const o=t[a],l=[];for(let t=0;t<o.length;t++){const c=o[t],u=""+a+t;l.push(u),n[u]={node:c,lastCount:0},r[u]={};for(let t=0;t<s.length;t++){const a=s[t];n[a]&&n[a].node.mode===c.mode?(r[a][u]=f(n[a].lastCount+c.length,c.mode)-f(n[a].lastCount,c.mode),n[a].lastCount+=c.length):(n[a]&&(n[a].lastCount=c.length),r[a][u]=f(c.length,c.mode)+4+i.getCharCountIndicator(c.mode,e))}}s=l}for(let i=0;i<s.length;i++)r[s[i]].end=0;return{map:r,table:n}}function y(t,e){let n;const l=i.getBestModeForData(t);if(n=i.from(e,l),n!==i.BYTE&&n.bit<l.bit)throw new Error('"'+t+'" cannot be encoded with mode '+i.toString(n)+".\n Suggested mode is: "+i.toString(l));switch(n!==i.KANJI||c.isKanjiModeEnabled()||(n=i.BYTE),n){case i.NUMERIC:return new r(t);case i.ALPHANUMERIC:return new s(t);case i.KANJI:return new o(t);case i.BYTE:return new a(t)}}e.fromArray=function(t){return t.reduce((function(t,e){return"string"===typeof e?t.push(y(e,null)):e.data&&t.push(y(e.data,e.mode)),t}),[])},e.fromString=function(t,n){const i=p(t,c.isKanjiModeEnabled()),r=g(i),s=v(r,n),a=u.find_path(s.map,"start","end"),o=[];for(let e=1;e<a.length-1;e++)o.push(s.table[a[e]].node);return e.fromArray(m(o))},e.rawSplit=function(t){return e.fromArray(p(t,c.isKanjiModeEnabled()))}},c30c:function(t,e,n){"use strict";n("1266")},c5fa:function(t,e,n){"use strict";n("f5c0")},c6ec:function(t,e,n){},c798:function(t,e,n){"use strict";n("979e")},c8aa:function(t,e,n){const i=n("7bf0"),r=n("34fc"),s=n("7a43"),a=n("bbf0"),o=n("27a3"),l=7973,c=i.getBCHDigit(l);function u(t,n,i){for(let r=1;r<=40;r++)if(n<=e.getCapacity(r,i,t))return r}function d(t,e){return a.getCharCountIndicator(t,e)+4}function h(t,e){let n=0;return t.forEach((function(t){const i=d(t.mode,e);n+=i+t.getBitsLength()})),n}function p(t,n){for(let i=1;i<=40;i++){const r=h(t,i);if(r<=e.getCapacity(i,n,a.MIXED))return i}}e.from=function(t,e){return o.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,n){if(!o.isValid(t))throw new Error("Invalid QR Code version");"undefined"===typeof n&&(n=a.BYTE);const s=i.getSymbolTotalCodewords(t),l=r.getTotalCodewordsCount(t,e),c=8*(s-l);if(n===a.MIXED)return c;const u=c-d(n,t);switch(n){case a.NUMERIC:return Math.floor(u/10*3);case a.ALPHANUMERIC:return Math.floor(u/11*2);case a.KANJI:return Math.floor(u/13);case a.BYTE:default:return Math.floor(u/8)}},e.getBestVersionForData=function(t,e){let n;const i=s.from(e,s.M);if(Array.isArray(t)){if(t.length>1)return p(t,i);if(0===t.length)return 1;n=t[0]}else n=t;return u(n.mode,n.getLength(),i)},e.getEncodedBits=function(t){if(!o.isValid(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;while(i.getBCHDigit(e)-c>=0)e^=l<<i.getBCHDigit(e)-c;return t<<12|e}},ca58:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"lastfm-callback"},[e("div",{staticClass:"section-1"},[e("img",{attrs:{src:"/img/logos/yesplaymusic.png"}}),e("svg-icon",{attrs:{"icon-class":"x"}}),e("img",{attrs:{src:"/img/logos/lastfm.png"}})],1),e("div",{staticClass:"message"},[t._v(t._s(t.message))]),e("button",{directives:[{name:"show",rawName:"v-show",value:t.done,expression:"done"}],on:{click:t.close}},[t._v(" 完成 ")])])},r=[],s=n("7b78"),a={name:"LastfmCallback",data(){return{message:"请稍等...",done:!1}},created(){const t=new URLSearchParams(window.location.search).get("token");if(!t)return this.message="连接失败，请重试或联系开发者（无Token）",void(this.done=!0);Object(s["b"])(t).then(t=>{if(!t.data.session)return this.message="连接失败，请重试或联系开发者（无Session）",void(this.done=!0);localStorage.setItem("lastfm",JSON.stringify(t.data.session)),this.$store.commit("updateLastfm",t.data.session),this.message="已成功连接到 Last.fm",this.done=!0})},methods:{close(){window.close()}}},o=a,l=(n("6f31"),n("0c7c")),c=Object(l["a"])(o,i,r,!1,null,"2925758b",null);e["default"]=c.exports},cd27:function(t,e,n){},d055:function(t,e,n){const i=n("67dd"),r=n("aa63"),s=n("4146"),a=n("4006");function o(t,e,n,s,a){const o=[].slice.call(arguments,1),l=o.length,c="function"===typeof o[l-1];if(!c&&!i())throw new Error("Callback required as last argument");if(!c){if(l<1)throw new Error("Too few arguments provided");return 1===l?(n=e,e=s=void 0):2!==l||e.getContext||(s=n,n=e,e=void 0),new Promise((function(i,a){try{const a=r.create(n,s);i(t(a,e,s))}catch(o){a(o)}}))}if(l<2)throw new Error("Too few arguments provided");2===l?(a=n,n=e,e=s=void 0):3===l&&(e.getContext&&"undefined"===typeof a?(a=s,s=void 0):(a=s,s=n,n=e,e=void 0));try{const i=r.create(n,s);a(null,t(i,e,s))}catch(u){a(u)}}e.create=r.create,e.toCanvas=o.bind(null,s.render),e.toDataURL=o.bind(null,s.renderToDataURL),e.toString=o.bind(null,(function(t,e,n){return a.render(t,n)}))},d4e3:function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mv-row",class:{"without-padding":t.withoutPadding}},t._l(t.mvs,(function(n){return e("div",{key:t.getID(n),staticClass:"mv"},[e("div",{staticClass:"cover",on:{mouseover:function(e){t.hoverVideoID=t.getID(n)},mouseleave:function(e){t.hoverVideoID=0},click:function(e){t.goToMv(t.getID(n))}}},[e("img",{attrs:{src:t.getUrl(n),loading:"lazy"}}),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.hoverVideoID===t.getID(n),expression:"hoverVideoID === getID(mv)"}],staticClass:"shadow",style:{background:"url("+t.getUrl(n)+")"}})])],1),e("div",{staticClass:"info"},[e("div",{staticClass:"title"},[e("router-link",{attrs:{to:"/mv/"+t.getID(n)}},[t._v(t._s(t.getTitle(n)))])],1),e("div",{staticClass:"artist",domProps:{innerHTML:t._s(t.getSubtitle(n))}})])])})),0)},r=[],s=(n("14d9"),{name:"CoverVideo",props:{mvs:Array,subtitle:{type:String,default:"artist"},withoutPadding:{type:Boolean,default:!1}},data(){return{hoverVideoID:0}},methods:{goToMv(t){let e={};void 0!==this.$parent.player&&(e={autoplay:this.$parent.player.playing}),this.$router.push({path:"/mv/"+t,query:e})},getUrl(t){var e,n;let i=null!==(e=null!==(n=t.imgurl16v9)&&void 0!==n?n:t.cover)&&void 0!==e?e:t.coverUrl;return i.replace(/^http:/,"https:")+"?param=464y260"},getID(t){return void 0!==t.id?t.id:void 0!==t.vid?t.vid:void 0},getTitle(t){return void 0!==t.name?t.name:void 0!==t.title?t.title:void 0},getSubtitle(t){if("artist"===this.subtitle){let e="null",n=0;return void 0!==t.artistName?(e=t.artistName,n=t.artistId):void 0!==t.creator&&(e=t.creator[0].userName,n=t.creator[0].userId),`<a href="/#/artist/${n}">${e}</a>`}if("publishTime"===this.subtitle)return t.publishTime}}}),a=s,o=(n("ee12"),n("0c7c")),l=Object(o["a"])(a,i,r,!1,null,"4d5c11f6",null);e["a"]=l.exports},d611:function(t,e,n){},d663:function(t,e,n){"use strict";n("1c26")},d6c0:function(t,e,n){const i=n("7bf0").getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];const e=Math.floor(t/7)+2,n=i(t),r=145===n?26:2*Math.ceil((n-13)/(2*e-2)),s=[n-7];for(let i=1;i<e-1;i++)s[i]=s[i-1]-r;return s.push(6),s.reverse()},e.getPositions=function(t){const n=[],i=e.getRowColCoords(t),r=i.length;for(let e=0;e<r;e++)for(let t=0;t<r;t++)0===e&&0===t||0===e&&t===r-1||e===r-1&&0===t||n.push([i[e],i[t]]);return n}},dd7b:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login"},[e("div",{staticClass:"section-1"},[e("img",{attrs:{src:"/img/logos/yesplaymusic.png"}}),e("svg-icon",{attrs:{"icon-class":"x"}}),e("img",{attrs:{src:"/img/logos/netease-music.png"}})],1),e("div",{staticClass:"section-2"},[e("div",{staticClass:"card",on:{mouseover:function(e){t.activeCard=1},mouseleave:function(e){t.activeCard=0},click:function(e){return t.goTo("account")}}},[e("div",{staticClass:"container",class:{active:1===t.activeCard}},[e("div",{staticClass:"title-info"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("login.loginText")))]),e("div",{staticClass:"info"},[t._v(t._s(t.$t("login.accessToAll")))])]),e("svg-icon",{attrs:{"icon-class":"arrow-right"}})],1)]),e("div",{staticClass:"card",on:{mouseover:function(e){t.activeCard=2},mouseleave:function(e){t.activeCard=0},click:function(e){return t.goTo("username")}}},[e("div",{staticClass:"container",class:{active:2===t.activeCard}},[e("div",{staticClass:"title-info"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("login.search")))]),e("div",{staticClass:"info"},[t._v(t._s(t.$t("login.readonly")))])]),e("svg-icon",{attrs:{"icon-class":"arrow-right"}})],1)])])])},r=[],s=(n("14d9"),n("323e")),a=n.n(s),o=n("0032"),l={name:"Login",components:{SvgIcon:o["a"]},data(){return{activeCard:0}},created(){a.a.done()},methods:{goTo(t){this.$router.push({path:"/login/"+t})}}},c=l,u=(n("530f"),n("0c7c")),d=Object(u["a"])(c,i,r,!1,null,"47b2f8c2",null);e["default"]=d.exports},dd7e:function(t,e,n){const i=n("bbf0");function r(t){this.mode=i.NUMERIC,this.data=t.toString()}r.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){let e,n,i;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),i=parseInt(n,10),t.put(i,10);const r=this.data.length-e;r>0&&(n=this.data.substr(e),i=parseInt(n,10),t.put(i,3*r+1))},t.exports=r},de97:function(t,e,n){"use strict";n("4497")},e36c:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"library"},[e("h1",[e("img",{staticClass:"avatar",attrs:{src:t._f("resizeImage")(t.data.user.avatarUrl),loading:"lazy"}}),t._v(t._s(t.data.user.nickname)+t._s(t.$t("library.sLibrary"))+" ")]),e("div",{staticClass:"section-one"},[e("div",{staticClass:"liked-songs",on:{click:t.goToLikedSongsList}},[e("div",{staticClass:"top"},[e("p",t._l(t.pickedLyric,(function(n,i){return e("span",{directives:[{name:"show",rawName:"v-show",value:""!==n,expression:"line !== ''"}],key:`${n}${i}`},[t._v(t._s(n)),e("br")])})),0)]),e("div",{staticClass:"bottom"},[e("div",{staticClass:"titles"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("library.likedSongs")))]),e("div",{staticClass:"sub-title"},[t._v(" "+t._s(t.liked.songs.length)+" "+t._s(t.$t("common.songs"))+" ")])]),e("button",{on:{click:function(e){return e.stopPropagation(),t.openPlayModeTabMenu.apply(null,arguments)}}},[e("svg-icon",{attrs:{"icon-class":"play"}})],1)])]),e("div",{staticClass:"songs"},[e("TrackList",{attrs:{id:t.liked.playlists.length>0?t.liked.playlists[0].id:0,tracks:t.liked.songsWithDetails,"column-number":3,type:"tracklist","dbclick-track-func":"playPlaylistByID"}})],1)]),e("div",{staticClass:"section-two"},[e("div",{staticClass:"tabs-row"},[e("div",{staticClass:"tabs"},[e("div",{staticClass:"tab dropdown",class:{active:"playlists"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("playlists")}}},[e("span",{staticClass:"text"},[t._v(t._s({all:t.$t("contextMenu.allPlaylists"),mine:t.$t("contextMenu.minePlaylists"),liked:t.$t("contextMenu.likedPlaylists")}[t.playlistFilter]))]),e("span",{staticClass:"icon",on:{click:function(e){return e.stopPropagation(),t.openPlaylistTabMenu.apply(null,arguments)}}},[e("svg-icon",{attrs:{"icon-class":"dropdown"}})],1)]),e("div",{staticClass:"tab",class:{active:"albums"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("albums")}}},[t._v(" "+t._s(t.$t("library.albums"))+" ")]),e("div",{staticClass:"tab",class:{active:"artists"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("artists")}}},[t._v(" "+t._s(t.$t("library.artists"))+" ")]),e("div",{staticClass:"tab",class:{active:"mvs"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("mvs")}}},[t._v(" "+t._s(t.$t("library.mvs"))+" ")]),e("div",{staticClass:"tab",class:{active:"cloudDisk"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("cloudDisk")}}},[t._v(" "+t._s(t.$t("library.cloudDisk"))+" ")]),e("div",{staticClass:"tab",class:{active:"playHistory"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("playHistory")}}},[t._v(" "+t._s(t.$t("library.playHistory.title"))+" ")])]),e("button",{directives:[{name:"show",rawName:"v-show",value:"playlists"===t.currentTab,expression:"currentTab === 'playlists'"}],staticClass:"tab-button",on:{click:t.openAddPlaylistModal}},[e("svg-icon",{attrs:{"icon-class":"plus"}}),t._v(t._s(t.$t("library.newPlayList"))+" ")],1),e("button",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"===t.currentTab,expression:"currentTab === 'cloudDisk'"}],staticClass:"tab-button",on:{click:t.selectUploadFiles}},[e("svg-icon",{attrs:{"icon-class":"arrow-up-alt"}}),t._v(t._s(t.$t("library.uploadSongs"))+" ")],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:"playlists"===t.currentTab,expression:"currentTab === 'playlists'"}]},[t.liked.playlists.length>1?e("div",[e("CoverRow",{attrs:{items:t.filterPlaylists,type:"playlist","sub-text":"creator","show-play-button":!0}})],1):t._e()]),e("div",{directives:[{name:"show",rawName:"v-show",value:"albums"===t.currentTab,expression:"currentTab === 'albums'"}]},[e("CoverRow",{attrs:{items:t.liked.albums,type:"album","sub-text":"artist","show-play-button":!0}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"artists"===t.currentTab,expression:"currentTab === 'artists'"}]},[e("CoverRow",{attrs:{items:t.liked.artists,type:"artist","show-play-button":!0}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"mvs"===t.currentTab,expression:"currentTab === 'mvs'"}]},[e("MvRow",{attrs:{mvs:t.liked.mvs}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"===t.currentTab,expression:"currentTab === 'cloudDisk'"}]},[e("TrackList",{attrs:{id:-8,tracks:t.liked.cloudDisk,"column-number":3,type:"cloudDisk","dbclick-track-func":"playCloudDisk","extra-context-menu-item":["removeTrackFromCloudDisk"]}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"playHistory"===t.currentTab,expression:"currentTab === 'playHistory'"}]},[e("button",{class:{"playHistory-button":!0,"playHistory-button--selected":"week"===t.playHistoryMode},on:{click:function(e){t.playHistoryMode="week"}}},[t._v(" "+t._s(t.$t("library.playHistory.week"))+" ")]),e("button",{class:{"playHistory-button":!0,"playHistory-button--selected":"all"===t.playHistoryMode},on:{click:function(e){t.playHistoryMode="all"}}},[t._v(" "+t._s(t.$t("library.playHistory.all"))+" ")]),e("TrackList",{attrs:{tracks:t.playHistoryList,"column-number":1,type:"tracklist"}})],1)]),e("input",{ref:"cloudDiskUploadInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.uploadSongToCloudDisk}}),e("ContextMenu",{ref:"playlistTabMenu"},[e("div",{staticClass:"item",on:{click:function(e){return t.changePlaylistFilter("all")}}},[t._v(t._s(t.$t("contextMenu.allPlaylists")))]),e("hr"),e("div",{staticClass:"item",on:{click:function(e){return t.changePlaylistFilter("mine")}}},[t._v(t._s(t.$t("contextMenu.minePlaylists")))]),e("div",{staticClass:"item",on:{click:function(e){return t.changePlaylistFilter("liked")}}},[t._v(t._s(t.$t("contextMenu.likedPlaylists")))])]),e("ContextMenu",{ref:"playModeTabMenu"},[e("div",{staticClass:"item",on:{click:t.playLikedSongs}},[t._v(t._s(t.$t("library.likedSongs")))]),e("hr"),e("div",{staticClass:"item",on:{click:t.playIntelligenceList}},[t._v(t._s(t.$t("contextMenu.cardiacMode")))])])],1)},r=[],s=(n("14d9"),n("3c65"),n("2f62")),a=n("cf45"),o=n("5f87"),l=n("c24f"),c=n("fefb"),u=n("323e"),d=n.n(u),h=n("fe07"),p=n("6825"),f=n("a1a1"),m=n("2726"),g=n("0032"),v=n("d4e3");function y(t){return t.split("]").pop().trim()}var b={name:"Library",components:{SvgIcon:g["a"],CoverRow:m["a"],TrackList:f["a"],MvRow:v["a"],ContextMenu:p["a"]},data(){return{show:!1,likedSongs:[],lyric:void 0,currentTab:"playlists",playHistoryMode:"week"}},computed:{...Object(s["d"])(["data","liked"]),pickedLyric(){const t=this.lyric;if(!t)return[];const e=t.split("\n").filter(t=>!t.includes("作词")&&!t.includes("作曲")),n=Math.min(e.length,3),i=e.length-n,r=Object(a["f"])(0,i-1);return e.slice(r,r+n).map(y)},playlistFilter(){return this.data.libraryPlaylistFilter||"all"},filterPlaylists(){const t=this.liked.playlists.slice(1),e=this.data.user.userId;return"mine"===this.playlistFilter?t.filter(t=>t.creator.userId===e):"liked"===this.playlistFilter?t.filter(t=>t.creator.userId!==e):t},playHistoryList(){return this.show&&"week"===this.playHistoryMode?this.liked.playHistory.weekData:this.show&&"all"===this.playHistoryMode?this.liked.playHistory.allData:[]}},created(){setTimeout(()=>{this.show||d.a.start()},1e3),this.loadData()},activated(){this.$parent.$refs.scrollbar.restorePosition(),this.loadData(),Object(a["c"])()},methods:{...Object(s["b"])(["showToast"]),...Object(s["c"])(["updateModal","updateData"]),loadData(){this.liked.songsWithDetails.length>0?(d.a.done(),this.show=!0,this.$store.dispatch("fetchLikedSongsWithDetails"),this.getRandomLyric()):this.$store.dispatch("fetchLikedSongsWithDetails").then(()=>{d.a.done(),this.show=!0,this.getRandomLyric()}),this.$store.dispatch("fetchLikedSongs"),this.$store.dispatch("fetchLikedPlaylist"),this.$store.dispatch("fetchLikedAlbums"),this.$store.dispatch("fetchLikedArtists"),this.$store.dispatch("fetchLikedMVs"),this.$store.dispatch("fetchCloudDisk"),this.$store.dispatch("fetchPlayHistory")},playLikedSongs(){this.$store.state.player.playPlaylistByID(this.liked.playlists[0].id,"first",!0)},playIntelligenceList(){this.$store.state.player.playIntelligenceListById(this.liked.playlists[0].id,"first",!0)},updateCurrentTab(t){Object(o["c"])()||"playlists"===t?(this.currentTab=t,this.$parent.$refs.main.scrollTo({top:375,behavior:"smooth"})):this.showToast(h["a"].t("toast.needToLogin"))},goToLikedSongsList(){this.$router.push({path:"/library/liked-songs"})},getRandomLyric(){0!==this.liked.songs.length&&Object(c["a"])(this.liked.songs[Object(a["f"])(0,this.liked.songs.length-1)]).then(t=>{if(void 0!==t.lrc){const e=t.lrc.lyric.split("\n").filter(t=>t.includes("纯音乐，请欣赏"));0===e.length&&(this.lyric=t.lrc.lyric)}})},openAddPlaylistModal(){Object(o["c"])()?this.updateModal({modalName:"newPlaylistModal",key:"show",value:!0}):this.showToast(h["a"].t("toast.needToLogin"))},openPlaylistTabMenu(t){this.$refs.playlistTabMenu.openMenu(t)},openPlayModeTabMenu(t){this.$refs.playModeTabMenu.openMenu(t)},changePlaylistFilter(t){this.updateData({key:"libraryPlaylistFilter",value:t}),window.scrollTo({top:375,behavior:"smooth"})},selectUploadFiles(){this.$refs.cloudDiskUploadInput.click()},uploadSongToCloudDisk(t){const e=t.target.files;Object(l["g"])(e[0]).then(t=>{if(200===t.code){let e=this.liked.cloudDisk;e.unshift(t.privateCloud),this.$store.commit("updateLikedXXX",{name:"cloudDisk",data:e})}})}}},w=b,k=(n("d663"),n("0c7c")),_=Object(k["a"])(w,i,r,!1,null,"6a8ad968",null);e["default"]=_.exports},e481:function(t,e,n){"use strict";n("32f42")},e57c:function(t,e,n){"use strict";n("7a6d")},eb2e:function(t,e,n){},ee12:function(t,e,n){"use strict";n("2b0f")},f5c0:function(t,e,n){},f7ca:function(t,e,n){var i=n("5615"),r=n("3ff1");function s(t){return i(r(t))}t.exports=s}}]);