(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d358d7e"],{"00ff":function(t,e,i){"use strict";i("5001")},"0196":function(t,e,i){const s=i("58b4"),n=i("bbf0");function r(t){this.mode=n.BYTE,this.data=new Uint8Array(s(t))}r.getBitsLength=function(t){return 8*t},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){for(let e=0,i=this.data.length;e<i;e++)t.put(this.data[e],8)},t.exports=r},"0425":function(t,e){const i="[0-9]+",s="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+")(?:.|[\r\n]))+";e.KANJI=new RegExp(n,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(r,"g"),e.NUMERIC=new RegExp(i,"g"),e.ALPHANUMERIC=new RegExp(s,"g");const a=new RegExp("^"+n+"$"),o=new RegExp("^"+i+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return a.test(t)},e.testNumeric=function(t){return o.test(t)},e.testAlphanumeric=function(t){return l.test(t)}},"04cb":function(t,e,i){"use strict";i("d705")},"04f0":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"album-page"},[i("div",{staticClass:"playlist-info"},[i("Cover",{attrs:{id:t.album.id,"img-url":t._f("resizeImage")(t.album.picUrl,1024),"show-play-button":!0,"always-show-shadow":!0,"click-cover-to-play":!0,"fixed-size":288,type:"album","cover-hover":!1,"play-button-size":18},nativeOn:{contextmenu:function(e){return t.openMenu.apply(null,arguments)}}}),i("div",{staticClass:"info"},[i("div",{staticClass:"title",on:{contextmenu:function(e){return t.openMenu.apply(null,arguments)}}},[t._v(" "+t._s(t.title))]),""!==t.subtitle?i("div",{staticClass:"subtitle",on:{contextmenu:function(e){return t.openMenu.apply(null,arguments)}}},[t._v(t._s(t.subtitle))]):t._e(),i("div",{staticClass:"artist"},[104700!==t.album.artist.id?i("span",[i("span",[t._v(t._s(t._f("formatAlbumType")(t.album.type,t.album))+" by ")]),i("router-link",{attrs:{to:"/artist/"+t.album.artist.id}},[t._v(t._s(t.album.artist.name))])],1):i("span",[t._v("Compilation by Various Artists")])]),i("div",{staticClass:"date-and-count"},[1056768===t.album.mark?i("span",{staticClass:"explicit-symbol"},[i("ExplicitSymbol")],1):t._e(),i("span",{attrs:{title:t._f("formatDate")(t.album.publishTime)}},[t._v(t._s(new Date(t.album.publishTime).getFullYear()))]),i("span",[t._v(" · "+t._s(t.album.size)+" "+t._s(t.$t("common.songs")))]),t._v(", "+t._s(t._f("formatTime")(t.albumTime,"Human"))+" ")]),i("div",{staticClass:"description",on:{click:t.toggleFullDescription}},[t._v(" "+t._s(t.album.description)+" ")]),i("div",{staticClass:"buttons",staticStyle:{"margin-top":"32px"}},[i("ButtonTwoTone",{attrs:{"icon-class":"play"},nativeOn:{click:function(e){return t.playAlbumByID(t.album.id)}}},[t._v(" "+t._s(t.$t("common.play"))+" ")]),i("ButtonTwoTone",{attrs:{"icon-class":t.dynamicDetail.isSub?"heart-solid":"heart","icon-button":!0,"horizontal-padding":0,color:t.dynamicDetail.isSub?"blue":"grey","text-color":t.dynamicDetail.isSub?"#335eea":"","background-color":t.dynamicDetail.isSub?"var(--color-secondary-bg)":""},nativeOn:{click:function(e){return t.likeAlbum.apply(null,arguments)}}}),i("ButtonTwoTone",{attrs:{"icon-class":"more","icon-button":!0,"horizontal-padding":0,color:"grey"},nativeOn:{click:function(e){return t.openMenu.apply(null,arguments)}}})],1)])],1),t.tracksByDisc.length>1?i("div",t._l(t.tracksByDisc,(function(e){return i("div",{key:e.disc},[i("h2",{staticClass:"disc"},[t._v("Disc "+t._s(e.disc))]),i("TrackList",{attrs:{id:t.album.id,tracks:e.tracks,type:"album","album-object":t.album}})],1)})),0):i("div",[i("TrackList",{attrs:{id:t.album.id,tracks:t.tracks,type:"album","album-object":t.album}})],1),i("div",{staticClass:"extra-info"},[i("div",{staticClass:"album-time"}),i("div",{staticClass:"release-date"},[t._v(" "+t._s(t.$t("album.released"))+" "+t._s(t._f("formatDate")(t.album.publishTime,"MMMM D, YYYY"))+" ")]),null!==t.album.company?i("div",{staticClass:"copyright"},[t._v(" © "+t._s(t.album.company)+" ")]):t._e()]),0!==t.filteredMoreAlbums.length?i("div",{staticClass:"more-by"},[i("div",{staticClass:"section-title"},[t._v(" More by "),i("router-link",{attrs:{to:"/artist/"+t.album.artist.id}},[t._v(t._s(t.album.artist.name)+" ")])],1),i("div",[i("CoverRow",{attrs:{type:"album",items:t.filteredMoreAlbums,"sub-text":"albumType+releaseYear"}})],1)]):t._e(),i("Modal",{attrs:{show:t.showFullDescription,close:t.toggleFullDescription,"show-footer":!1,"click-outside-hide":!0,title:t.$t("album.albumDesc")}},[i("p",{staticClass:"description-fulltext"},[t._v(" "+t._s(t.album.description)+" ")])]),i("ContextMenu",{ref:"albumMenu"},[i("div",{staticClass:"item",on:{click:function(e){return t.likeAlbum(!0)}}},[t._v(t._s(t.dynamicDetail.isSub?t.$t("contextMenu.removeFromLibrary"):t.$t("contextMenu.saveToLibrary")))]),i("div",{staticClass:"item"},[t._v(t._s(t.$t("contextMenu.addToPlaylist")))]),i("div",{staticClass:"item",on:{click:function(e){return t.copyUrl(t.album.id)}}},[t._v(t._s(t.$t("contextMenu.copyUrl")))]),i("div",{staticClass:"item",on:{click:function(e){return t.openInBrowser(t.album.id)}}},[t._v(t._s(t.$t("contextMenu.openInBrowser")))])])],1)},n=[],r=i("2f62"),a=i("512b"),o=i("fefb"),l=i("e498"),c=i("fe07"),u=i("cf45"),h=i("323e"),d=i.n(h),p=i("5f87"),m=i("2ef0"),f=i("0c94"),g=i("5e45"),v=i("6825"),y=i("a1a1"),b=i("2726"),w=i("3020"),k=i("714b"),_={name:"Album",components:{Cover:w["a"],ButtonTwoTone:g["a"],TrackList:y["a"],ExplicitSymbol:f["a"],CoverRow:b["a"],Modal:k["a"],ContextMenu:v["a"]},beforeRouteUpdate(t,e,i){this.show=!1,this.loadData(t.params.id),i()},data(){return{show:!1,album:{id:0,picUrl:"",artist:{id:0}},tracks:[],showFullDescription:!1,moreAlbums:[],dynamicDetail:{},subtitle:"",title:""}},computed:{...Object(r["d"])(["player","data"]),albumTime(){let t=0;return this.tracks.map(e=>t+=e.dt),t},filteredMoreAlbums(){let t=this.moreAlbums.filter(t=>t.id!==this.album.id),e=t.filter(t=>"专辑"===t.type),i=t.filter(t=>"EP"===t.type||"EP/Single"===t.type&&t.size>1),s=t.filter(t=>void 0===e.find(e=>e.id===t.id)&&void 0===i.find(e=>e.id===t.id));return 0===e.length?[...e,...i,...s].slice(0,5):[...e,...s].slice(0,5)},tracksByDisc(){if(this.tracks.length<=1)return[];const t=Object(m["toPairs"])(Object(m["groupBy"])(this.tracks,"cd"));return Object(m["sortBy"])(t,t=>t[0]).map(t=>({disc:t[0],tracks:t[1]}))}},created(){this.loadData(this.$route.params.id)},methods:{...Object(r["c"])(["appendTrackToPlayerList"]),...Object(r["b"])(["playFirstTrackOnList","playTrackOnListByID","showToast"]),playAlbumByID(t,e="first"){this.$store.state.player.playAlbumByID(t,e)},likeAlbum(t=!1){Object(p["c"])()?Object(l["c"])({id:this.album.id,t:this.dynamicDetail.isSub?0:1}).then(e=>{200===e.code&&(this.dynamicDetail.isSub=!this.dynamicDetail.isSub,!0===t&&this.showToast(this.dynamicDetail.isSub?"已保存到音乐库":"已从音乐库删除"))}).catch(t=>{this.showToast(""+(t.response.data.message||t))}):this.showToast(c["a"].t("toast.needToLogin"))},formatTitle(){let t=Object(u["h"])(this.album.name),e=Object(u["g"])(t.title);this.title=e.title,""!==t.subtitle&&""!==e.subtitle?this.subtitle=t.subtitle+" · "+e.subtitle:this.subtitle=""===t.subtitle?e.subtitle:t.subtitle},loadData(t){setTimeout(()=>{this.show||d.a.start()},1e3),Object(l["b"])(t).then(t=>{this.album=t.album,this.tracks=t.songs,this.formatTitle(),d.a.done(),this.show=!0;let e=this.tracks.map(t=>t.id);Object(o["c"])(e.join(",")).then(t=>{this.tracks=t.songs}),Object(a["d"])({id:this.album.artist.id,limit:100}).then(t=>{this.moreAlbums=t.hotAlbums})}),Object(l["a"])(t).then(t=>{this.dynamicDetail=t})},toggleFullDescription(){this.showFullDescription=!this.showFullDescription,this.showFullDescription?this.$store.commit("enableScrolling",!1):this.$store.commit("enableScrolling",!0)},openMenu(t){this.$refs.albumMenu.openMenu(t)},copyUrl(t){let e=this.showToast;this.$copyText("https://music.163.com/#/album?id="+t).then((function(){e(c["a"].t("toast.copied"))})).catch(t=>{e(`${c["a"].t("toast.copyFailed")}${t}`)})},openInBrowser(t){const e="https://music.163.com/#/album?id="+t;window.open(e)}}},C=_,T=(i("fdc4"),i("2877")),x=Object(T["a"])(C,s,n,!1,null,"baa332ce",null);e["default"]=x.exports},"06b1":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[i("h1",[i("img",{staticClass:"avatar",attrs:{src:t._f("resizeImage")(t.artist.img1v1Url,1024),loading:"lazy"}}),t._v(t._s(t.artist.name)+"'s Music Videos ")]),i("MvRow",{attrs:{mvs:t.mvs,subtitle:"publishTime"}}),i("div",{staticClass:"load-more"},[i("ButtonTwoTone",{directives:[{name:"show",rawName:"v-show",value:t.hasMore,expression:"hasMore"}],attrs:{color:"grey"},nativeOn:{click:function(e){return t.loadMVs.apply(null,arguments)}}},[t._v(t._s(t.$t("explore.loadMore")))])],1)],1)},n=[],r=i("512b"),a=i("323e"),o=i.n(a),l=i("5e45"),c=i("d4e3"),u={name:"ArtistMV",components:{MvRow:c["a"],ButtonTwoTone:l["a"]},beforeRouteUpdate(t,e,i){this.id=t.params.id,this.loadData(),i()},data(){return{id:0,show:!1,hasMore:!0,artist:{},mvs:[]}},created(){this.id=this.$route.params.id,this.loadData()},activated(){this.$route.params.id!==this.id&&(this.id=this.$route.params.id,this.mvs=[],this.artist={},this.show=!1,this.hasMore=!0,this.loadData())},methods:{loadData(){setTimeout(()=>{this.show||o.a.start()},1e3),Object(r["c"])(this.id).then(t=>{this.artist=t.artist}),this.loadMVs()},loadMVs(){Object(r["a"])({id:this.id,limit:100,offset:this.mvs.length}).then(t=>{this.mvs.push(...t.mvs),this.hasMore=t.hasMore,o.a.done(),this.show=!0})}}},h=u,d=(i("25b3"),i("2877")),p=Object(d["a"])(h,s,n,!1,null,"792a4a55",null);e["default"]=p.exports},"0851":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"newAlbum"},[i("h1",[t._v(t._s(t.$t("home.newAlbum")))]),i("div",{staticClass:"playlist-row"},[i("div",{staticClass:"playlists"},[i("CoverRow",{attrs:{type:"album",items:t.albums,"sub-text":"artist","show-play-button":!0}})],1)])])},n=[],r=i("e498"),a=i("323e"),o=i.n(a),l=i("2726"),c={components:{CoverRow:l["a"]},data(){return{albums:[]}},created(){Object(r["d"])({area:"EA",limit:100}).then(t=>{this.albums=t.albums,o.a.done()})}},u=c,h=(i("d635"),i("2877")),d=Object(h["a"])(u,s,n,!1,null,"445ba948",null);e["default"]=d.exports},"0c94":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg-icon",{style:t.svgStyle,attrs:{"icon-class":"explicit"}})},n=[],r=i("0032"),a={name:"ExplicitSymbol",components:{SvgIcon:r["a"]},props:{size:{type:Number,default:16}},data(){return{svgStyle:{}}},created(){this.svgStyle={height:this.size+"px",width:this.size+"px",position:"relative",left:"-1px"}}},o=a,l=i("2877"),c=Object(l["a"])(o,s,n,!1,null,"1e3b68b9",null);e["a"]=c.exports},"101d":function(t,e,i){"use strict";i("9b4e")},"10b0":function(t,e,i){"use strict";var s={single_source_shortest_paths:function(t,e,i){var n={},r={};r[e]=0;var a,o,l,c,u,h,d,p,m,f=s.PriorityQueue.make();f.push(e,0);while(!f.empty())for(l in a=f.pop(),o=a.value,c=a.cost,u=t[o]||{},u)u.hasOwnProperty(l)&&(h=u[l],d=c+h,p=r[l],m="undefined"===typeof r[l],(m||p>d)&&(r[l]=d,f.push(l,d),n[l]=o));if("undefined"!==typeof i&&"undefined"===typeof r[i]){var g=["Could not find a path from ",e," to ",i,"."].join("");throw new Error(g)}return n},extract_shortest_path_from_predecessor_list:function(t,e){var i=[],s=e;while(s)i.push(s),t[s],s=t[s];return i.reverse(),i},find_path:function(t,e,i){var n=s.single_source_shortest_paths(t,e,i);return s.extract_shortest_path_from_predecessor_list(n,i)},PriorityQueue:{make:function(t){var e,i=s.PriorityQueue,n={};for(e in t=t||{},i)i.hasOwnProperty(e)&&(n[e]=i[e]);return n.queue=[],n.sorter=t.sorter||i.default_sorter,n},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var i={value:t,cost:e};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=s},1354:function(t,e,i){"use strict";i("30cd")},"14b5":function(t,e,i){},"186d":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"artist-in-line"},[t._v(" "+t._s(t.computedPrefix)+" "),t._l(t.filteredArtists,(function(e,s){return i("span",{key:s},[0!==e.id?i("router-link",{attrs:{to:"/artist/"+e.id}},[t._v(t._s(e.name))]):i("span",[t._v(t._s(e.name))]),s!==t.filteredArtists.length-1?i("span",{staticClass:"separator"},[t._v(",")]):t._e()],1)}))],2)},n=[],r={name:"ArtistInLine",props:{artists:{type:Array,required:!0},exclude:{type:String,default:""},prefix:{type:String,default:""}},computed:{filteredArtists(){return this.artists.filter(t=>t.name!==this.exclude)},computedPrefix(){return 0!==this.filteredArtists.length?this.prefix:""}}},a=r,o=(i("808a"),i("2877")),l=Object(o["a"])(a,s,n,!1,null,"b3c008da",null);e["a"]=l.exports},"1f60":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mv-page"},[i("div",{staticClass:"current-video"},[i("div",{staticClass:"video"},[i("video",{ref:"videoPlayer",staticClass:"plyr"})]),i("div",{staticClass:"video-info"},[i("div",{staticClass:"title"},[i("router-link",{attrs:{to:"/artist/"+t.mv.data.artistId}},[t._v(t._s(t.mv.data.artistName))]),t._v(" - "+t._s(t.mv.data.name)+" "),i("div",{staticClass:"buttons"},[i("button-icon",{staticClass:"button",nativeOn:{click:function(e){return t.likeMV.apply(null,arguments)}}},[t.mv.subed?i("svg-icon",{attrs:{"icon-class":"heart-solid"}}):i("svg-icon",{attrs:{"icon-class":"heart"}})],1),i("button-icon",{staticClass:"button",nativeOn:{click:function(e){return t.openMenu.apply(null,arguments)}}},[i("svg-icon",{attrs:{"icon-class":"more"}})],1)],1)],1),i("div",{staticClass:"info"},[t._v(" "+t._s(t._f("formatPlayCount")(t.mv.data.playCount))+" Views · "+t._s(t.mv.data.publishTime)+" ")])])]),i("div",{staticClass:"more-video"},[i("div",{staticClass:"section-title"},[t._v(t._s(t.$t("mv.moreVideo")))]),i("MvRow",{attrs:{mvs:t.simiMvs}})],1),i("ContextMenu",{ref:"mvMenu"},[i("div",{staticClass:"item",on:{click:function(e){return t.copyUrl(t.mv.data.id)}}},[t._v(t._s(t.$t("contextMenu.copyUrl")))]),i("div",{staticClass:"item",on:{click:function(e){return t.openInBrowser(t.mv.data.id)}}},[t._v(t._s(t.$t("contextMenu.openInBrowser")))])])],1)},n=[],r=i("b775");function a(t){return Object(r["a"])({url:"/mv/detail",method:"get",params:{mvid:t,timestamp:(new Date).getTime()}})}function o(t){return Object(r["a"])({url:"/mv/url",method:"get",params:t})}function l(t){return Object(r["a"])({url:"/simi/mv",method:"get",params:{mvid:t}})}function c(t){return t.timestamp=(new Date).getTime(),Object(r["a"])({url:"/mv/sub",method:"post",params:t})}var u=i("5f87"),h=i("323e"),d=i.n(h),p=i("fe07"),m=(i("8ac5"),i("4fb8")),f=i.n(m),g=i("2185"),v=i("6825"),y=i("d4e3"),b=i("2f62"),w={name:"mv",components:{MvRow:y["a"],ButtonIcon:g["a"],ContextMenu:v["a"]},beforeRouteUpdate(t,e,i){this.getData(t.params.id),i()},data(){return{mv:{url:"",data:{name:"",artistName:"",playCount:"",publishTime:""}},player:null,simiMvs:[]}},mounted(){let t={settings:["quality"],autoplay:!1,quality:{default:1080,options:[1080,720,480,240]}};"true"===this.$route.query.autoplay&&(t.autoplay=!0),this.player=new f.a(this.$refs.videoPlayer,t),this.player.volume=this.$store.state.player.volume,this.player.on("playing",()=>{this.$store.state.player.pause()}),this.getData(this.$route.params.id),console.log("网易云你这mv音频码率也太糊了吧🙄")},methods:{...Object(b["b"])(["showToast"]),getData(t){a(t).then(e=>{this.mv=e;let i=e.data.brs.map(e=>o({id:t,r:e.br}));Promise.all(i).then(t=>{let e=t.map(t=>({src:t.data.url.replace(/^http:/,"https:"),type:"video/mp4",size:t.data.r}));this.player.source={type:"video",title:this.mv.data.name,sources:e,poster:this.mv.data.cover.replace(/^http:/,"https:")},d.a.done()})}),l(t).then(t=>{this.simiMvs=t.mvs})},likeMV(){Object(u["c"])()?c({mvid:this.mv.data.id,t:this.mv.subed?0:1}).then(t=>{200===t.code&&(this.mv.subed=!this.mv.subed)}):this.showToast(p["a"].t("toast.needToLogin"))},openMenu(t){this.$refs.mvMenu.openMenu(t)},copyUrl(t){let e=this.showToast;this.$copyText("https://music.163.com/#/mv?id="+t).then((function(){e(p["a"].t("toast.copied"))})).catch(t=>{e(`${p["a"].t("toast.copyFailed")}${t}`)})},openInBrowser(t){const e="https://music.163.com/#/mv?id="+t;window.open(e)}}},k=w,_=(i("b398"),i("2877")),C=Object(_["a"])(k,s,n,!1,null,"0e540f34",null);e["default"]=C.exports},"20c0":function(t,e,i){"use strict";i("ce1e")},"24b3":function(t,e,i){},"25b3":function(t,e,i){"use strict";i("14b5")},2726:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cover-row",style:t.rowStyles},t._l(t.items,(function(e){return i("div",{key:e.id,staticClass:"item",class:{artist:"artist"===t.type}},[i("Cover",{attrs:{id:e.id,"img-url":t.getImageUrl(e),type:t.type,"play-button-size":"artist"===t.type?26:t.playButtonSize}}),i("div",{staticClass:"text"},[t.showPlayCount?i("div",{staticClass:"info"},[i("span",{staticClass:"play-count"},[i("svg-icon",{attrs:{"icon-class":"play"}}),t._v(t._s(t._f("formatPlayCount")(e.playCount))+" ")],1)]):t._e(),i("div",{staticClass:"title",style:{fontSize:t.subTextFontSize}},[t.isExplicit(e)?i("span",{staticClass:"explicit-symbol"},[i("ExplicitSymbol")],1):t._e(),t.isPrivacy(e)?i("span",{staticClass:"lock-icon"},[i("svg-icon",{attrs:{"icon-class":"lock"}})],1):t._e(),i("router-link",{attrs:{to:t.getTitleLink(e)}},[t._v(t._s(e.name))])],1),"artist"!==t.type&&"none"!==t.subText?i("div",{staticClass:"info"},[i("span",{domProps:{innerHTML:t._s(t.getSubText(e))}})]):t._e()])],1)})),0)},n=[],r=i("3020"),a=i("0c94"),o={name:"CoverRow",components:{Cover:r["a"],ExplicitSymbol:a["a"]},props:{items:{type:Array,required:!0},type:{type:String,required:!0},subText:{type:String,default:"null"},subTextFontSize:{type:String,default:"16px"},showPlayCount:{type:Boolean,default:!1},columnNumber:{type:Number,default:5},gap:{type:String,default:"44px 24px"},playButtonSize:{type:Number,default:22}},computed:{rowStyles(){return{"grid-template-columns":`repeat(${this.columnNumber}, 1fr)`,gap:this.gap}}},mounted(){console.log(this.items)},methods:{getSubText(t){if("copywriter"===this.subText)return t.copywriter;if("description"===this.subText)return t.description;if("updateFrequency"===this.subText)return t.updateFrequency;if("creator"===this.subText)return"by "+t.creator.nickname;if("releaseYear"===this.subText)return new Date(t.publishTime).getFullYear();if("artist"===this.subText){if(void 0!==t.artist)return`<a href="/#/artist/${t.artist.id}">${t.artist.name}</a>`;if(void 0!==t.artists)return`<a href="/#/artist/${t.artists[0].id}">${t.artists[0].name}</a>`}if("albumType+releaseYear"===this.subText){let e=t.type;return"EP/Single"===t.type?e=1===t.size?"Single":"EP":"Single"===t.type?e="Single":"专辑"===t.type&&(e="Album"),`${e} · ${new Date(t.publishTime).getFullYear()}`}return"appleMusic"===this.subText?"by Apple Music":void 0},isPrivacy(t){return"playlist"===this.type&&10===t.privacy},isExplicit(t){return"album"===this.type&&1056768===t.mark},getTitleLink(t){return`/${this.type}/${t.id}`},getImageUrl(t){var e;if(t.img1v1Url){let e=t.img1v1Url.split("/");if(e=e[e.length-1],"5639395138885805.jpg"===e)return"https://p2.music.126.net/VnZiScyynLG7atLIZ2YPkw==/18686200114669622.jpg?param=512y512"}let i=t.img1v1Url||t.picUrl||t.coverImgUrl;return i=(null===(e=i)||void 0===e?void 0:e.replace("http://","https://"))+"?param=512y512",i}}},l=o,c=(i("a6f7"),i("2877")),u=Object(c["a"])(l,s,n,!1,null,"49e55168",null);e["a"]=u.exports},2732:function(t,e,i){const s=i("699e");e.mul=function(t,e){const i=new Uint8Array(t.length+e.length-1);for(let n=0;n<t.length;n++)for(let r=0;r<e.length;r++)i[n+r]^=s.mul(t[n],e[r]);return i},e.mod=function(t,e){let i=new Uint8Array(t);while(i.length-e.length>=0){const t=i[0];for(let r=0;r<e.length;r++)i[r]^=s.mul(e[r],t);let n=0;while(n<i.length&&0===i[n])n++;i=i.slice(n)}return i},e.generateECPolynomial=function(t){let i=new Uint8Array([1]);for(let n=0;n<t;n++)i=e.mul(i,new Uint8Array([1,s.exp(n)]));return i}},"27a3":function(t,e){e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},"2aff":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[t._m(0),i("TrackList",{attrs:{tracks:t.dailyTracks,type:"playlist","dbclick-track-func":"dailyTracks"}})],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"special-playlist"},[i("div",{staticClass:"title gradient"},[t._v(" 每日歌曲推荐 ")]),i("div",{staticClass:"subtitle"},[t._v("根据你的音乐口味生成 · 每天6:00更新")])])}],r=i("2f62"),a=i("323e"),o=i.n(a),l=i("1e9a"),c=i("a1a1"),u={name:"DailyTracks",components:{TrackList:c["a"]},data(){return{show:!1}},computed:{...Object(r["d"])(["player","data","dailyTracks"])},created(){0===this.dailyTracks.length?(setTimeout(()=>{this.show||o.a.start()},1e3),this.loadDailyTracks()):this.show=!0,this.$parent.$refs.main.scrollTo(0,0)},methods:{...Object(r["c"])(["updateDailyTracks"]),loadDailyTracks(){Object(l["d"])().then(t=>{this.updateDailyTracks(t.data.dailySongs),o.a.done(),this.show=!0})}}},h=u,d=(i("5774"),i("2877")),p=Object(d["a"])(h,s,n,!1,null,"d200706c",null);e["default"]=p.exports},"2ef0":function(t,e,i){(function(t,s){var n;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var r,a="4.17.21",o=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",d=500,p="__lodash_placeholder__",m=1,f=2,g=4,v=1,y=2,b=1,w=2,k=4,_=8,C=16,T=32,x=64,A=128,S=256,P=512,M=30,E="...",I=800,L=16,N=1,D=2,O=3,$=1/0,R=9007199254740991,j=17976931348623157e292,B=NaN,F=4294967295,U=F-1,z=F>>>1,q=[["ary",A],["bind",b],["bindKey",w],["curry",_],["curryRight",C],["flip",P],["partial",T],["partialRight",x],["rearg",S]],H="[object Arguments]",V="[object Array]",W="[object AsyncFunction]",K="[object Boolean]",Y="[object Date]",Q="[object DOMException]",J="[object Error]",G="[object Function]",Z="[object GeneratorFunction]",X="[object Map]",tt="[object Number]",et="[object Null]",it="[object Object]",st="[object Promise]",nt="[object Proxy]",rt="[object RegExp]",at="[object Set]",ot="[object String]",lt="[object Symbol]",ct="[object Undefined]",ut="[object WeakMap]",ht="[object WeakSet]",dt="[object ArrayBuffer]",pt="[object DataView]",mt="[object Float32Array]",ft="[object Float64Array]",gt="[object Int8Array]",vt="[object Int16Array]",yt="[object Int32Array]",bt="[object Uint8Array]",wt="[object Uint8ClampedArray]",kt="[object Uint16Array]",_t="[object Uint32Array]",Ct=/\b__p \+= '';/g,Tt=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,At=/&(?:amp|lt|gt|quot|#39);/g,St=/[&<>"']/g,Pt=RegExp(At.source),Mt=RegExp(St.source),Et=/<%-([\s\S]+?)%>/g,It=/<%([\s\S]+?)%>/g,Lt=/<%=([\s\S]+?)%>/g,Nt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dt=/^\w*$/,Ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$t=/[\\^$.*+?()[\]{}|]/g,Rt=RegExp($t.source),jt=/^\s+/,Bt=/\s/,Ft=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ut=/\{\n\/\* \[wrapped with (.+)\] \*/,zt=/,? & /,qt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ht=/[()=,{}\[\]\/\s]/,Vt=/\\(\\)?/g,Wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Kt=/\w*$/,Yt=/^[-+]0x[0-9a-f]+$/i,Qt=/^0b[01]+$/i,Jt=/^\[object .+?Constructor\]$/,Gt=/^0o[0-7]+$/i,Zt=/^(?:0|[1-9]\d*)$/,Xt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,te=/($^)/,ee=/['\n\r\u2028\u2029\\]/g,ie="\\ud800-\\udfff",se="\\u0300-\\u036f",ne="\\ufe20-\\ufe2f",re="\\u20d0-\\u20ff",ae=se+ne+re,oe="\\u2700-\\u27bf",le="a-z\\xdf-\\xf6\\xf8-\\xff",ce="\\xac\\xb1\\xd7\\xf7",ue="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",he="\\u2000-\\u206f",de=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="A-Z\\xc0-\\xd6\\xd8-\\xde",me="\\ufe0e\\ufe0f",fe=ce+ue+he+de,ge="['’]",ve="["+ie+"]",ye="["+fe+"]",be="["+ae+"]",we="\\d+",ke="["+oe+"]",_e="["+le+"]",Ce="[^"+ie+fe+we+oe+le+pe+"]",Te="\\ud83c[\\udffb-\\udfff]",xe="(?:"+be+"|"+Te+")",Ae="[^"+ie+"]",Se="(?:\\ud83c[\\udde6-\\uddff]){2}",Pe="[\\ud800-\\udbff][\\udc00-\\udfff]",Me="["+pe+"]",Ee="\\u200d",Ie="(?:"+_e+"|"+Ce+")",Le="(?:"+Me+"|"+Ce+")",Ne="(?:"+ge+"(?:d|ll|m|re|s|t|ve))?",De="(?:"+ge+"(?:D|LL|M|RE|S|T|VE))?",Oe=xe+"?",$e="["+me+"]?",Re="(?:"+Ee+"(?:"+[Ae,Se,Pe].join("|")+")"+$e+Oe+")*",je="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Be="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Fe=$e+Oe+Re,Ue="(?:"+[ke,Se,Pe].join("|")+")"+Fe,ze="(?:"+[Ae+be+"?",be,Se,Pe,ve].join("|")+")",qe=RegExp(ge,"g"),He=RegExp(be,"g"),Ve=RegExp(Te+"(?="+Te+")|"+ze+Fe,"g"),We=RegExp([Me+"?"+_e+"+"+Ne+"(?="+[ye,Me,"$"].join("|")+")",Le+"+"+De+"(?="+[ye,Me+Ie,"$"].join("|")+")",Me+"?"+Ie+"+"+Ne,Me+"+"+De,Be,je,we,Ue].join("|"),"g"),Ke=RegExp("["+Ee+ie+ae+me+"]"),Ye=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Je=-1,Ge={};Ge[mt]=Ge[ft]=Ge[gt]=Ge[vt]=Ge[yt]=Ge[bt]=Ge[wt]=Ge[kt]=Ge[_t]=!0,Ge[H]=Ge[V]=Ge[dt]=Ge[K]=Ge[pt]=Ge[Y]=Ge[J]=Ge[G]=Ge[X]=Ge[tt]=Ge[it]=Ge[rt]=Ge[at]=Ge[ot]=Ge[ut]=!1;var Ze={};Ze[H]=Ze[V]=Ze[dt]=Ze[pt]=Ze[K]=Ze[Y]=Ze[mt]=Ze[ft]=Ze[gt]=Ze[vt]=Ze[yt]=Ze[X]=Ze[tt]=Ze[it]=Ze[rt]=Ze[at]=Ze[ot]=Ze[lt]=Ze[bt]=Ze[wt]=Ze[kt]=Ze[_t]=!0,Ze[J]=Ze[G]=Ze[ut]=!1;var Xe={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},ti={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ei={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ii={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},si=parseFloat,ni=parseInt,ri="object"==typeof t&&t&&t.Object===Object&&t,ai="object"==typeof self&&self&&self.Object===Object&&self,oi=ri||ai||Function("return this")(),li=e&&!e.nodeType&&e,ci=li&&"object"==typeof s&&s&&!s.nodeType&&s,ui=ci&&ci.exports===li,hi=ui&&ri.process,di=function(){try{var t=ci&&ci.require&&ci.require("util").types;return t||hi&&hi.binding&&hi.binding("util")}catch(e){}}(),pi=di&&di.isArrayBuffer,mi=di&&di.isDate,fi=di&&di.isMap,gi=di&&di.isRegExp,vi=di&&di.isSet,yi=di&&di.isTypedArray;function bi(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function wi(t,e,i,s){var n=-1,r=null==t?0:t.length;while(++n<r){var a=t[n];e(s,a,i(a),t)}return s}function ki(t,e){var i=-1,s=null==t?0:t.length;while(++i<s)if(!1===e(t[i],i,t))break;return t}function _i(t,e){var i=null==t?0:t.length;while(i--)if(!1===e(t[i],i,t))break;return t}function Ci(t,e){var i=-1,s=null==t?0:t.length;while(++i<s)if(!e(t[i],i,t))return!1;return!0}function Ti(t,e){var i=-1,s=null==t?0:t.length,n=0,r=[];while(++i<s){var a=t[i];e(a,i,t)&&(r[n++]=a)}return r}function xi(t,e){var i=null==t?0:t.length;return!!i&&Ri(t,e,0)>-1}function Ai(t,e,i){var s=-1,n=null==t?0:t.length;while(++s<n)if(i(e,t[s]))return!0;return!1}function Si(t,e){var i=-1,s=null==t?0:t.length,n=Array(s);while(++i<s)n[i]=e(t[i],i,t);return n}function Pi(t,e){var i=-1,s=e.length,n=t.length;while(++i<s)t[n+i]=e[i];return t}function Mi(t,e,i,s){var n=-1,r=null==t?0:t.length;s&&r&&(i=t[++n]);while(++n<r)i=e(i,t[n],n,t);return i}function Ei(t,e,i,s){var n=null==t?0:t.length;s&&n&&(i=t[--n]);while(n--)i=e(i,t[n],n,t);return i}function Ii(t,e){var i=-1,s=null==t?0:t.length;while(++i<s)if(e(t[i],i,t))return!0;return!1}var Li=Ui("length");function Ni(t){return t.split("")}function Di(t){return t.match(qt)||[]}function Oi(t,e,i){var s;return i(t,(function(t,i,n){if(e(t,i,n))return s=i,!1})),s}function $i(t,e,i,s){var n=t.length,r=i+(s?1:-1);while(s?r--:++r<n)if(e(t[r],r,t))return r;return-1}function Ri(t,e,i){return e===e?ps(t,e,i):$i(t,Bi,i)}function ji(t,e,i,s){var n=i-1,r=t.length;while(++n<r)if(s(t[n],e))return n;return-1}function Bi(t){return t!==t}function Fi(t,e){var i=null==t?0:t.length;return i?Vi(t,e)/i:B}function Ui(t){return function(e){return null==e?r:e[t]}}function zi(t){return function(e){return null==t?r:t[e]}}function qi(t,e,i,s,n){return n(t,(function(t,n,r){i=s?(s=!1,t):e(i,t,n,r)})),i}function Hi(t,e){var i=t.length;t.sort(e);while(i--)t[i]=t[i].value;return t}function Vi(t,e){var i,s=-1,n=t.length;while(++s<n){var a=e(t[s]);a!==r&&(i=i===r?a:i+a)}return i}function Wi(t,e){var i=-1,s=Array(t);while(++i<t)s[i]=e(i);return s}function Ki(t,e){return Si(e,(function(e){return[e,t[e]]}))}function Yi(t){return t?t.slice(0,vs(t)+1).replace(jt,""):t}function Qi(t){return function(e){return t(e)}}function Ji(t,e){return Si(e,(function(e){return t[e]}))}function Gi(t,e){return t.has(e)}function Zi(t,e){var i=-1,s=t.length;while(++i<s&&Ri(e,t[i],0)>-1);return i}function Xi(t,e){var i=t.length;while(i--&&Ri(e,t[i],0)>-1);return i}function ts(t,e){var i=t.length,s=0;while(i--)t[i]===e&&++s;return s}var es=zi(Xe),is=zi(ti);function ss(t){return"\\"+ii[t]}function ns(t,e){return null==t?r:t[e]}function rs(t){return Ke.test(t)}function as(t){return Ye.test(t)}function os(t){var e,i=[];while(!(e=t.next()).done)i.push(e.value);return i}function ls(t){var e=-1,i=Array(t.size);return t.forEach((function(t,s){i[++e]=[s,t]})),i}function cs(t,e){return function(i){return t(e(i))}}function us(t,e){var i=-1,s=t.length,n=0,r=[];while(++i<s){var a=t[i];a!==e&&a!==p||(t[i]=p,r[n++]=i)}return r}function hs(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}function ds(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=[t,t]})),i}function ps(t,e,i){var s=i-1,n=t.length;while(++s<n)if(t[s]===e)return s;return-1}function ms(t,e,i){var s=i+1;while(s--)if(t[s]===e)return s;return s}function fs(t){return rs(t)?bs(t):Li(t)}function gs(t){return rs(t)?ws(t):Ni(t)}function vs(t){var e=t.length;while(e--&&Bt.test(t.charAt(e)));return e}var ys=zi(ei);function bs(t){var e=Ve.lastIndex=0;while(Ve.test(t))++e;return e}function ws(t){return t.match(Ve)||[]}function ks(t){return t.match(We)||[]}var _s=function t(e){e=null==e?oi:Cs.defaults(oi.Object(),e,Cs.pick(oi,Qe));var i=e.Array,s=e.Date,n=e.Error,Bt=e.Function,qt=e.Math,ie=e.Object,se=e.RegExp,ne=e.String,re=e.TypeError,ae=i.prototype,oe=Bt.prototype,le=ie.prototype,ce=e["__core-js_shared__"],ue=oe.toString,he=le.hasOwnProperty,de=0,pe=function(){var t=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),me=le.toString,fe=ue.call(ie),ge=oi._,ve=se("^"+ue.call(he).replace($t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=ui?e.Buffer:r,be=e.Symbol,we=e.Uint8Array,ke=ye?ye.allocUnsafe:r,_e=cs(ie.getPrototypeOf,ie),Ce=ie.create,Te=le.propertyIsEnumerable,xe=ae.splice,Ae=be?be.isConcatSpreadable:r,Se=be?be.iterator:r,Pe=be?be.toStringTag:r,Me=function(){try{var t=Wa(ie,"defineProperty");return t({},"",{}),t}catch(e){}}(),Ee=e.clearTimeout!==oi.clearTimeout&&e.clearTimeout,Ie=s&&s.now!==oi.Date.now&&s.now,Le=e.setTimeout!==oi.setTimeout&&e.setTimeout,Ne=qt.ceil,De=qt.floor,Oe=ie.getOwnPropertySymbols,$e=ye?ye.isBuffer:r,Re=e.isFinite,je=ae.join,Be=cs(ie.keys,ie),Fe=qt.max,Ue=qt.min,ze=s.now,Ve=e.parseInt,We=qt.random,Ke=ae.reverse,Ye=Wa(e,"DataView"),Xe=Wa(e,"Map"),ti=Wa(e,"Promise"),ei=Wa(e,"Set"),ii=Wa(e,"WeakMap"),ri=Wa(ie,"create"),ai=ii&&new ii,li={},ci=Lo(Ye),hi=Lo(Xe),di=Lo(ti),Li=Lo(ei),Ni=Lo(ii),zi=be?be.prototype:r,ps=zi?zi.valueOf:r,bs=zi?zi.toString:r;function ws(t){if(xu(t)&&!lu(t)&&!(t instanceof As)){if(t instanceof xs)return t;if(he.call(t,"__wrapped__"))return Do(t)}return new xs(t)}var _s=function(){function t(){}return function(e){if(!Tu(e))return{};if(Ce)return Ce(e);t.prototype=e;var i=new t;return t.prototype=r,i}}();function Ts(){}function xs(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function As(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function Ss(){var t=new As(this.__wrapped__);return t.__actions__=sa(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=sa(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=sa(this.__views__),t}function Ps(){if(this.__filtered__){var t=new As(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Ms(){var t=this.__wrapped__.value(),e=this.__dir__,i=lu(t),s=e<0,n=i?t.length:0,r=Ga(0,n,this.__views__),a=r.start,o=r.end,l=o-a,c=s?o:a-1,u=this.__iteratees__,h=u.length,d=0,p=Ue(l,this.__takeCount__);if(!i||!s&&n==l&&p==l)return jr(t,this.__actions__);var m=[];t:while(l--&&d<p){c+=e;var f=-1,g=t[c];while(++f<h){var v=u[f],y=v.iteratee,b=v.type,w=y(g);if(b==D)g=w;else if(!w){if(b==N)continue t;break t}}m[d++]=g}return m}function Es(t){var e=-1,i=null==t?0:t.length;this.clear();while(++e<i){var s=t[e];this.set(s[0],s[1])}}function Is(){this.__data__=ri?ri(null):{},this.size=0}function Ls(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Ns(t){var e=this.__data__;if(ri){var i=e[t];return i===h?r:i}return he.call(e,t)?e[t]:r}function Ds(t){var e=this.__data__;return ri?e[t]!==r:he.call(e,t)}function Os(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=ri&&e===r?h:e,this}function $s(t){var e=-1,i=null==t?0:t.length;this.clear();while(++e<i){var s=t[e];this.set(s[0],s[1])}}function Rs(){this.__data__=[],this.size=0}function js(t){var e=this.__data__,i=un(e,t);if(i<0)return!1;var s=e.length-1;return i==s?e.pop():xe.call(e,i,1),--this.size,!0}function Bs(t){var e=this.__data__,i=un(e,t);return i<0?r:e[i][1]}function Fs(t){return un(this.__data__,t)>-1}function Us(t,e){var i=this.__data__,s=un(i,t);return s<0?(++this.size,i.push([t,e])):i[s][1]=e,this}function zs(t){var e=-1,i=null==t?0:t.length;this.clear();while(++e<i){var s=t[e];this.set(s[0],s[1])}}function qs(){this.size=0,this.__data__={hash:new Es,map:new(Xe||$s),string:new Es}}function Hs(t){var e=Ha(this,t)["delete"](t);return this.size-=e?1:0,e}function Vs(t){return Ha(this,t).get(t)}function Ws(t){return Ha(this,t).has(t)}function Ks(t,e){var i=Ha(this,t),s=i.size;return i.set(t,e),this.size+=i.size==s?0:1,this}function Ys(t){var e=-1,i=null==t?0:t.length;this.__data__=new zs;while(++e<i)this.add(t[e])}function Qs(t){return this.__data__.set(t,h),this}function Js(t){return this.__data__.has(t)}function Gs(t){var e=this.__data__=new $s(t);this.size=e.size}function Zs(){this.__data__=new $s,this.size=0}function Xs(t){var e=this.__data__,i=e["delete"](t);return this.size=e.size,i}function tn(t){return this.__data__.get(t)}function en(t){return this.__data__.has(t)}function sn(t,e){var i=this.__data__;if(i instanceof $s){var s=i.__data__;if(!Xe||s.length<o-1)return s.push([t,e]),this.size=++i.size,this;i=this.__data__=new zs(s)}return i.set(t,e),this.size=i.size,this}function nn(t,e){var i=lu(t),s=!i&&ou(t),n=!i&&!s&&pu(t),r=!i&&!s&&!n&&Fu(t),a=i||s||n||r,o=a?Wi(t.length,ne):[],l=o.length;for(var c in t)!e&&!he.call(t,c)||a&&("length"==c||n&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ro(c,l))||o.push(c);return o}function rn(t){var e=t.length;return e?t[vr(0,e-1)]:r}function an(t,e){return Mo(sa(t),gn(e,0,t.length))}function on(t){return Mo(sa(t))}function ln(t,e,i){(i!==r&&!nu(t[e],i)||i===r&&!(e in t))&&mn(t,e,i)}function cn(t,e,i){var s=t[e];he.call(t,e)&&nu(s,i)&&(i!==r||e in t)||mn(t,e,i)}function un(t,e){var i=t.length;while(i--)if(nu(t[i][0],e))return i;return-1}function hn(t,e,i,s){return _n(t,(function(t,n,r){e(s,t,i(t),r)})),s}function dn(t,e){return t&&na(e,_h(e),t)}function pn(t,e){return t&&na(e,Ch(e),t)}function mn(t,e,i){"__proto__"==e&&Me?Me(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function fn(t,e){var s=-1,n=e.length,a=i(n),o=null==t;while(++s<n)a[s]=o?r:gh(t,e[s]);return a}function gn(t,e,i){return t===t&&(i!==r&&(t=t<=i?t:i),e!==r&&(t=t>=e?t:e)),t}function vn(t,e,i,s,n,a){var o,l=e&m,c=e&f,u=e&g;if(i&&(o=n?i(t,s,n,a):i(t)),o!==r)return o;if(!Tu(t))return t;var h=lu(t);if(h){if(o=to(t),!l)return sa(t,o)}else{var d=Ja(t),p=d==G||d==Z;if(pu(t))return Kr(t,l);if(d==it||d==H||p&&!n){if(o=c||p?{}:eo(t),!l)return c?aa(t,pn(o,t)):ra(t,dn(o,t))}else{if(!Ze[d])return n?t:{};o=io(t,d,l)}}a||(a=new Gs);var v=a.get(t);if(v)return v;a.set(t,o),Ru(t)?t.forEach((function(s){o.add(vn(s,e,i,s,t,a))})):Au(t)&&t.forEach((function(s,n){o.set(n,vn(s,e,i,n,t,a))}));var y=u?c?Ba:ja:c?Ch:_h,b=h?r:y(t);return ki(b||t,(function(s,n){b&&(n=s,s=t[n]),cn(o,n,vn(s,e,i,n,t,a))})),o}function yn(t){var e=_h(t);return function(i){return bn(i,t,e)}}function bn(t,e,i){var s=i.length;if(null==t)return!s;t=ie(t);while(s--){var n=i[s],a=e[n],o=t[n];if(o===r&&!(n in t)||!a(o))return!1}return!0}function wn(t,e,i){if("function"!=typeof t)throw new re(c);return xo((function(){t.apply(r,i)}),e)}function kn(t,e,i,s){var n=-1,r=xi,a=!0,l=t.length,c=[],u=e.length;if(!l)return c;i&&(e=Si(e,Qi(i))),s?(r=Ai,a=!1):e.length>=o&&(r=Gi,a=!1,e=new Ys(e));t:while(++n<l){var h=t[n],d=null==i?h:i(h);if(h=s||0!==h?h:0,a&&d===d){var p=u;while(p--)if(e[p]===d)continue t;c.push(h)}else r(e,d,s)||c.push(h)}return c}ws.templateSettings={escape:Et,evaluate:It,interpolate:Lt,variable:"",imports:{_:ws}},ws.prototype=Ts.prototype,ws.prototype.constructor=ws,xs.prototype=_s(Ts.prototype),xs.prototype.constructor=xs,As.prototype=_s(Ts.prototype),As.prototype.constructor=As,Es.prototype.clear=Is,Es.prototype["delete"]=Ls,Es.prototype.get=Ns,Es.prototype.has=Ds,Es.prototype.set=Os,$s.prototype.clear=Rs,$s.prototype["delete"]=js,$s.prototype.get=Bs,$s.prototype.has=Fs,$s.prototype.set=Us,zs.prototype.clear=qs,zs.prototype["delete"]=Hs,zs.prototype.get=Vs,zs.prototype.has=Ws,zs.prototype.set=Ks,Ys.prototype.add=Ys.prototype.push=Qs,Ys.prototype.has=Js,Gs.prototype.clear=Zs,Gs.prototype["delete"]=Xs,Gs.prototype.get=tn,Gs.prototype.has=en,Gs.prototype.set=sn;var _n=ca(In),Cn=ca(Ln,!0);function Tn(t,e){var i=!0;return _n(t,(function(t,s,n){return i=!!e(t,s,n),i})),i}function xn(t,e,i){var s=-1,n=t.length;while(++s<n){var a=t[s],o=e(a);if(null!=o&&(l===r?o===o&&!Bu(o):i(o,l)))var l=o,c=a}return c}function An(t,e,i,s){var n=t.length;i=Yu(i),i<0&&(i=-i>n?0:n+i),s=s===r||s>n?n:Yu(s),s<0&&(s+=n),s=i>s?0:Qu(s);while(i<s)t[i++]=e;return t}function Sn(t,e){var i=[];return _n(t,(function(t,s,n){e(t,s,n)&&i.push(t)})),i}function Pn(t,e,i,s,n){var r=-1,a=t.length;i||(i=no),n||(n=[]);while(++r<a){var o=t[r];e>0&&i(o)?e>1?Pn(o,e-1,i,s,n):Pi(n,o):s||(n[n.length]=o)}return n}var Mn=ua(),En=ua(!0);function In(t,e){return t&&Mn(t,e,_h)}function Ln(t,e){return t&&En(t,e,_h)}function Nn(t,e){return Ti(e,(function(e){return ku(t[e])}))}function Dn(t,e){e=qr(e,t);var i=0,s=e.length;while(null!=t&&i<s)t=t[Io(e[i++])];return i&&i==s?t:r}function On(t,e,i){var s=e(t);return lu(t)?s:Pi(s,i(t))}function $n(t){return null==t?t===r?ct:et:Pe&&Pe in ie(t)?Ka(t):bo(t)}function Rn(t,e){return t>e}function jn(t,e){return null!=t&&he.call(t,e)}function Bn(t,e){return null!=t&&e in ie(t)}function Fn(t,e,i){return t>=Ue(e,i)&&t<Fe(e,i)}function Un(t,e,s){var n=s?Ai:xi,a=t[0].length,o=t.length,l=o,c=i(o),u=1/0,h=[];while(l--){var d=t[l];l&&e&&(d=Si(d,Qi(e))),u=Ue(d.length,u),c[l]=!s&&(e||a>=120&&d.length>=120)?new Ys(l&&d):r}d=t[0];var p=-1,m=c[0];t:while(++p<a&&h.length<u){var f=d[p],g=e?e(f):f;if(f=s||0!==f?f:0,!(m?Gi(m,g):n(h,g,s))){l=o;while(--l){var v=c[l];if(!(v?Gi(v,g):n(t[l],g,s)))continue t}m&&m.push(g),h.push(f)}}return h}function zn(t,e,i,s){return In(t,(function(t,n,r){e(s,i(t),n,r)})),s}function qn(t,e,i){e=qr(e,t),t=ko(t,e);var s=null==t?t:t[Io(rl(e))];return null==s?r:bi(s,t,i)}function Hn(t){return xu(t)&&$n(t)==H}function Vn(t){return xu(t)&&$n(t)==dt}function Wn(t){return xu(t)&&$n(t)==Y}function Kn(t,e,i,s,n){return t===e||(null==t||null==e||!xu(t)&&!xu(e)?t!==t&&e!==e:Yn(t,e,i,s,Kn,n))}function Yn(t,e,i,s,n,r){var a=lu(t),o=lu(e),l=a?V:Ja(t),c=o?V:Ja(e);l=l==H?it:l,c=c==H?it:c;var u=l==it,h=c==it,d=l==c;if(d&&pu(t)){if(!pu(e))return!1;a=!0,u=!1}if(d&&!u)return r||(r=new Gs),a||Fu(t)?Da(t,e,i,s,n,r):Oa(t,e,l,i,s,n,r);if(!(i&v)){var p=u&&he.call(t,"__wrapped__"),m=h&&he.call(e,"__wrapped__");if(p||m){var f=p?t.value():t,g=m?e.value():e;return r||(r=new Gs),n(f,g,i,s,r)}}return!!d&&(r||(r=new Gs),$a(t,e,i,s,n,r))}function Qn(t){return xu(t)&&Ja(t)==X}function Jn(t,e,i,s){var n=i.length,a=n,o=!s;if(null==t)return!a;t=ie(t);while(n--){var l=i[n];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}while(++n<a){l=i[n];var c=l[0],u=t[c],h=l[1];if(o&&l[2]){if(u===r&&!(c in t))return!1}else{var d=new Gs;if(s)var p=s(u,h,c,t,e,d);if(!(p===r?Kn(h,u,v|y,s,d):p))return!1}}return!0}function Gn(t){if(!Tu(t)||uo(t))return!1;var e=ku(t)?ve:Jt;return e.test(Lo(t))}function Zn(t){return xu(t)&&$n(t)==rt}function Xn(t){return xu(t)&&Ja(t)==at}function tr(t){return xu(t)&&Cu(t.length)&&!!Ge[$n(t)]}function er(t){return"function"==typeof t?t:null==t?Ed:"object"==typeof t?lu(t)?or(t[0],t[1]):ar(t):qd(t)}function ir(t){if(!po(t))return Be(t);var e=[];for(var i in ie(t))he.call(t,i)&&"constructor"!=i&&e.push(i);return e}function sr(t){if(!Tu(t))return yo(t);var e=po(t),i=[];for(var s in t)("constructor"!=s||!e&&he.call(t,s))&&i.push(s);return i}function nr(t,e){return t<e}function rr(t,e){var s=-1,n=uu(t)?i(t.length):[];return _n(t,(function(t,i,r){n[++s]=e(t,i,r)})),n}function ar(t){var e=Va(t);return 1==e.length&&e[0][2]?fo(e[0][0],e[0][1]):function(i){return i===t||Jn(i,t,e)}}function or(t,e){return oo(t)&&mo(e)?fo(Io(t),e):function(i){var s=gh(i,t);return s===r&&s===e?yh(i,t):Kn(e,s,v|y)}}function lr(t,e,i,s,n){t!==e&&Mn(e,(function(a,o){if(n||(n=new Gs),Tu(a))cr(t,e,o,i,lr,s,n);else{var l=s?s(Co(t,o),a,o+"",t,e,n):r;l===r&&(l=a),ln(t,o,l)}}),Ch)}function cr(t,e,i,s,n,a,o){var l=Co(t,i),c=Co(e,i),u=o.get(c);if(u)ln(t,i,u);else{var h=a?a(l,c,i+"",t,e,o):r,d=h===r;if(d){var p=lu(c),m=!p&&pu(c),f=!p&&!m&&Fu(c);h=c,p||m||f?lu(l)?h=l:hu(l)?h=sa(l):m?(d=!1,h=Kr(c,!0)):f?(d=!1,h=Zr(c,!0)):h=[]:Du(c)||ou(c)?(h=l,ou(l)?h=Gu(l):Tu(l)&&!ku(l)||(h=eo(c))):d=!1}d&&(o.set(c,h),n(h,c,s,a,o),o["delete"](c)),ln(t,i,h)}}function ur(t,e){var i=t.length;if(i)return e+=e<0?i:0,ro(e,i)?t[e]:r}function hr(t,e,i){e=e.length?Si(e,(function(t){return lu(t)?function(e){return Dn(e,1===t.length?t[0]:t)}:t})):[Ed];var s=-1;e=Si(e,Qi(qa()));var n=rr(t,(function(t,i,n){var r=Si(e,(function(e){return e(t)}));return{criteria:r,index:++s,value:t}}));return Hi(n,(function(t,e){return ta(t,e,i)}))}function dr(t,e){return pr(t,e,(function(e,i){return yh(t,i)}))}function pr(t,e,i){var s=-1,n=e.length,r={};while(++s<n){var a=e[s],o=Dn(t,a);i(o,a)&&Cr(r,qr(a,t),o)}return r}function mr(t){return function(e){return Dn(e,t)}}function fr(t,e,i,s){var n=s?ji:Ri,r=-1,a=e.length,o=t;t===e&&(e=sa(e)),i&&(o=Si(t,Qi(i)));while(++r<a){var l=0,c=e[r],u=i?i(c):c;while((l=n(o,u,l,s))>-1)o!==t&&xe.call(o,l,1),xe.call(t,l,1)}return t}function gr(t,e){var i=t?e.length:0,s=i-1;while(i--){var n=e[i];if(i==s||n!==r){var r=n;ro(n)?xe.call(t,n,1):Or(t,n)}}return t}function vr(t,e){return t+De(We()*(e-t+1))}function yr(t,e,s,n){var r=-1,a=Fe(Ne((e-t)/(s||1)),0),o=i(a);while(a--)o[n?a:++r]=t,t+=s;return o}function br(t,e){var i="";if(!t||e<1||e>R)return i;do{e%2&&(i+=t),e=De(e/2),e&&(t+=t)}while(e);return i}function wr(t,e){return Ao(wo(t,e,Ed),t+"")}function kr(t){return rn(Uh(t))}function _r(t,e){var i=Uh(t);return Mo(i,gn(e,0,i.length))}function Cr(t,e,i,s){if(!Tu(t))return t;e=qr(e,t);var n=-1,a=e.length,o=a-1,l=t;while(null!=l&&++n<a){var c=Io(e[n]),u=i;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(n!=o){var h=l[c];u=s?s(h,c,l):r,u===r&&(u=Tu(h)?h:ro(e[n+1])?[]:{})}cn(l,c,u),l=l[c]}return t}var Tr=ai?function(t,e){return ai.set(t,e),t}:Ed,xr=Me?function(t,e){return Me(t,"toString",{configurable:!0,enumerable:!1,value:Ad(e),writable:!0})}:Ed;function Ar(t){return Mo(Uh(t))}function Sr(t,e,s){var n=-1,r=t.length;e<0&&(e=-e>r?0:r+e),s=s>r?r:s,s<0&&(s+=r),r=e>s?0:s-e>>>0,e>>>=0;var a=i(r);while(++n<r)a[n]=t[n+e];return a}function Pr(t,e){var i;return _n(t,(function(t,s,n){return i=e(t,s,n),!i})),!!i}function Mr(t,e,i){var s=0,n=null==t?s:t.length;if("number"==typeof e&&e===e&&n<=z){while(s<n){var r=s+n>>>1,a=t[r];null!==a&&!Bu(a)&&(i?a<=e:a<e)?s=r+1:n=r}return n}return Er(t,e,Ed,i)}function Er(t,e,i,s){var n=0,a=null==t?0:t.length;if(0===a)return 0;e=i(e);var o=e!==e,l=null===e,c=Bu(e),u=e===r;while(n<a){var h=De((n+a)/2),d=i(t[h]),p=d!==r,m=null===d,f=d===d,g=Bu(d);if(o)var v=s||f;else v=u?f&&(s||p):l?f&&p&&(s||!m):c?f&&p&&!m&&(s||!g):!m&&!g&&(s?d<=e:d<e);v?n=h+1:a=h}return Ue(a,U)}function Ir(t,e){var i=-1,s=t.length,n=0,r=[];while(++i<s){var a=t[i],o=e?e(a):a;if(!i||!nu(o,l)){var l=o;r[n++]=0===a?0:a}}return r}function Lr(t){return"number"==typeof t?t:Bu(t)?B:+t}function Nr(t){if("string"==typeof t)return t;if(lu(t))return Si(t,Nr)+"";if(Bu(t))return bs?bs.call(t):"";var e=t+"";return"0"==e&&1/t==-$?"-0":e}function Dr(t,e,i){var s=-1,n=xi,r=t.length,a=!0,l=[],c=l;if(i)a=!1,n=Ai;else if(r>=o){var u=e?null:Pa(t);if(u)return hs(u);a=!1,n=Gi,c=new Ys}else c=e?[]:l;t:while(++s<r){var h=t[s],d=e?e(h):h;if(h=i||0!==h?h:0,a&&d===d){var p=c.length;while(p--)if(c[p]===d)continue t;e&&c.push(d),l.push(h)}else n(c,d,i)||(c!==l&&c.push(d),l.push(h))}return l}function Or(t,e){return e=qr(e,t),t=ko(t,e),null==t||delete t[Io(rl(e))]}function $r(t,e,i,s){return Cr(t,e,i(Dn(t,e)),s)}function Rr(t,e,i,s){var n=t.length,r=s?n:-1;while((s?r--:++r<n)&&e(t[r],r,t));return i?Sr(t,s?0:r,s?r+1:n):Sr(t,s?r+1:0,s?n:r)}function jr(t,e){var i=t;return i instanceof As&&(i=i.value()),Mi(e,(function(t,e){return e.func.apply(e.thisArg,Pi([t],e.args))}),i)}function Br(t,e,s){var n=t.length;if(n<2)return n?Dr(t[0]):[];var r=-1,a=i(n);while(++r<n){var o=t[r],l=-1;while(++l<n)l!=r&&(a[r]=kn(a[r]||o,t[l],e,s))}return Dr(Pn(a,1),e,s)}function Fr(t,e,i){var s=-1,n=t.length,a=e.length,o={};while(++s<n){var l=s<a?e[s]:r;i(o,t[s],l)}return o}function Ur(t){return hu(t)?t:[]}function zr(t){return"function"==typeof t?t:Ed}function qr(t,e){return lu(t)?t:oo(t,e)?[t]:Eo(Xu(t))}var Hr=wr;function Vr(t,e,i){var s=t.length;return i=i===r?s:i,!e&&i>=s?t:Sr(t,e,i)}var Wr=Ee||function(t){return oi.clearTimeout(t)};function Kr(t,e){if(e)return t.slice();var i=t.length,s=ke?ke(i):new t.constructor(i);return t.copy(s),s}function Yr(t){var e=new t.constructor(t.byteLength);return new we(e).set(new we(t)),e}function Qr(t,e){var i=e?Yr(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}function Jr(t){var e=new t.constructor(t.source,Kt.exec(t));return e.lastIndex=t.lastIndex,e}function Gr(t){return ps?ie(ps.call(t)):{}}function Zr(t,e){var i=e?Yr(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function Xr(t,e){if(t!==e){var i=t!==r,s=null===t,n=t===t,a=Bu(t),o=e!==r,l=null===e,c=e===e,u=Bu(e);if(!l&&!u&&!a&&t>e||a&&o&&c&&!l&&!u||s&&o&&c||!i&&c||!n)return 1;if(!s&&!a&&!u&&t<e||u&&i&&n&&!s&&!a||l&&i&&n||!o&&n||!c)return-1}return 0}function ta(t,e,i){var s=-1,n=t.criteria,r=e.criteria,a=n.length,o=i.length;while(++s<a){var l=Xr(n[s],r[s]);if(l){if(s>=o)return l;var c=i[s];return l*("desc"==c?-1:1)}}return t.index-e.index}function ea(t,e,s,n){var r=-1,a=t.length,o=s.length,l=-1,c=e.length,u=Fe(a-o,0),h=i(c+u),d=!n;while(++l<c)h[l]=e[l];while(++r<o)(d||r<a)&&(h[s[r]]=t[r]);while(u--)h[l++]=t[r++];return h}function ia(t,e,s,n){var r=-1,a=t.length,o=-1,l=s.length,c=-1,u=e.length,h=Fe(a-l,0),d=i(h+u),p=!n;while(++r<h)d[r]=t[r];var m=r;while(++c<u)d[m+c]=e[c];while(++o<l)(p||r<a)&&(d[m+s[o]]=t[r++]);return d}function sa(t,e){var s=-1,n=t.length;e||(e=i(n));while(++s<n)e[s]=t[s];return e}function na(t,e,i,s){var n=!i;i||(i={});var a=-1,o=e.length;while(++a<o){var l=e[a],c=s?s(i[l],t[l],l,i,t):r;c===r&&(c=t[l]),n?mn(i,l,c):cn(i,l,c)}return i}function ra(t,e){return na(t,Ya(t),e)}function aa(t,e){return na(t,Qa(t),e)}function oa(t,e){return function(i,s){var n=lu(i)?wi:hn,r=e?e():{};return n(i,t,qa(s,2),r)}}function la(t){return wr((function(e,i){var s=-1,n=i.length,a=n>1?i[n-1]:r,o=n>2?i[2]:r;a=t.length>3&&"function"==typeof a?(n--,a):r,o&&ao(i[0],i[1],o)&&(a=n<3?r:a,n=1),e=ie(e);while(++s<n){var l=i[s];l&&t(e,l,s,a)}return e}))}function ca(t,e){return function(i,s){if(null==i)return i;if(!uu(i))return t(i,s);var n=i.length,r=e?n:-1,a=ie(i);while(e?r--:++r<n)if(!1===s(a[r],r,a))break;return i}}function ua(t){return function(e,i,s){var n=-1,r=ie(e),a=s(e),o=a.length;while(o--){var l=a[t?o:++n];if(!1===i(r[l],l,r))break}return e}}function ha(t,e,i){var s=e&b,n=ma(t);function r(){var e=this&&this!==oi&&this instanceof r?n:t;return e.apply(s?i:this,arguments)}return r}function da(t){return function(e){e=Xu(e);var i=rs(e)?gs(e):r,s=i?i[0]:e.charAt(0),n=i?Vr(i,1).join(""):e.slice(1);return s[t]()+n}}function pa(t){return function(e){return Mi(kd(Yh(e).replace(qe,"")),t,"")}}function ma(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=_s(t.prototype),s=t.apply(i,e);return Tu(s)?s:i}}function fa(t,e,s){var n=ma(t);function a(){var o=arguments.length,l=i(o),c=o,u=za(a);while(c--)l[c]=arguments[c];var h=o<3&&l[0]!==u&&l[o-1]!==u?[]:us(l,u);if(o-=h.length,o<s)return Aa(t,e,ya,a.placeholder,r,l,h,r,r,s-o);var d=this&&this!==oi&&this instanceof a?n:t;return bi(d,this,l)}return a}function ga(t){return function(e,i,s){var n=ie(e);if(!uu(e)){var a=qa(i,3);e=_h(e),i=function(t){return a(n[t],t,n)}}var o=t(e,i,s);return o>-1?n[a?e[o]:o]:r}}function va(t){return Ra((function(e){var i=e.length,s=i,n=xs.prototype.thru;t&&e.reverse();while(s--){var a=e[s];if("function"!=typeof a)throw new re(c);if(n&&!o&&"wrapper"==Ua(a))var o=new xs([],!0)}s=o?s:i;while(++s<i){a=e[s];var l=Ua(a),u="wrapper"==l?Fa(a):r;o=u&&co(u[0])&&u[1]==(A|_|T|S)&&!u[4].length&&1==u[9]?o[Ua(u[0])].apply(o,u[3]):1==a.length&&co(a)?o[l]():o.thru(a)}return function(){var t=arguments,s=t[0];if(o&&1==t.length&&lu(s))return o.plant(s).value();var n=0,r=i?e[n].apply(this,t):s;while(++n<i)r=e[n].call(this,r);return r}}))}function ya(t,e,s,n,a,o,l,c,u,h){var d=e&A,p=e&b,m=e&w,f=e&(_|C),g=e&P,v=m?r:ma(t);function y(){var r=arguments.length,b=i(r),w=r;while(w--)b[w]=arguments[w];if(f)var k=za(y),_=ts(b,k);if(n&&(b=ea(b,n,a,f)),o&&(b=ia(b,o,l,f)),r-=_,f&&r<h){var C=us(b,k);return Aa(t,e,ya,y.placeholder,s,b,C,c,u,h-r)}var T=p?s:this,x=m?T[t]:t;return r=b.length,c?b=_o(b,c):g&&r>1&&b.reverse(),d&&u<r&&(b.length=u),this&&this!==oi&&this instanceof y&&(x=v||ma(x)),x.apply(T,b)}return y}function ba(t,e){return function(i,s){return zn(i,t,e(s),{})}}function wa(t,e){return function(i,s){var n;if(i===r&&s===r)return e;if(i!==r&&(n=i),s!==r){if(n===r)return s;"string"==typeof i||"string"==typeof s?(i=Nr(i),s=Nr(s)):(i=Lr(i),s=Lr(s)),n=t(i,s)}return n}}function ka(t){return Ra((function(e){return e=Si(e,Qi(qa())),wr((function(i){var s=this;return t(e,(function(t){return bi(t,s,i)}))}))}))}function _a(t,e){e=e===r?" ":Nr(e);var i=e.length;if(i<2)return i?br(e,t):e;var s=br(e,Ne(t/fs(e)));return rs(e)?Vr(gs(s),0,t).join(""):s.slice(0,t)}function Ca(t,e,s,n){var r=e&b,a=ma(t);function o(){var e=-1,l=arguments.length,c=-1,u=n.length,h=i(u+l),d=this&&this!==oi&&this instanceof o?a:t;while(++c<u)h[c]=n[c];while(l--)h[c++]=arguments[++e];return bi(d,r?s:this,h)}return o}function Ta(t){return function(e,i,s){return s&&"number"!=typeof s&&ao(e,i,s)&&(i=s=r),e=Ku(e),i===r?(i=e,e=0):i=Ku(i),s=s===r?e<i?1:-1:Ku(s),yr(e,i,s,t)}}function xa(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=Ju(e),i=Ju(i)),t(e,i)}}function Aa(t,e,i,s,n,a,o,l,c,u){var h=e&_,d=h?o:r,p=h?r:o,m=h?a:r,f=h?r:a;e|=h?T:x,e&=~(h?x:T),e&k||(e&=~(b|w));var g=[t,e,n,m,d,f,p,l,c,u],v=i.apply(r,g);return co(t)&&To(v,g),v.placeholder=s,So(v,t,e)}function Sa(t){var e=qt[t];return function(t,i){if(t=Ju(t),i=null==i?0:Ue(Yu(i),292),i&&Re(t)){var s=(Xu(t)+"e").split("e"),n=e(s[0]+"e"+(+s[1]+i));return s=(Xu(n)+"e").split("e"),+(s[0]+"e"+(+s[1]-i))}return e(t)}}var Pa=ei&&1/hs(new ei([,-0]))[1]==$?function(t){return new ei(t)}:jd;function Ma(t){return function(e){var i=Ja(e);return i==X?ls(e):i==at?ds(e):Ki(e,t(e))}}function Ea(t,e,i,s,n,a,o,l){var u=e&w;if(!u&&"function"!=typeof t)throw new re(c);var h=s?s.length:0;if(h||(e&=~(T|x),s=n=r),o=o===r?o:Fe(Yu(o),0),l=l===r?l:Yu(l),h-=n?n.length:0,e&x){var d=s,p=n;s=n=r}var m=u?r:Fa(t),f=[t,e,i,s,n,d,p,a,o,l];if(m&&vo(f,m),t=f[0],e=f[1],i=f[2],s=f[3],n=f[4],l=f[9]=f[9]===r?u?0:t.length:Fe(f[9]-h,0),!l&&e&(_|C)&&(e&=~(_|C)),e&&e!=b)g=e==_||e==C?fa(t,e,l):e!=T&&e!=(b|T)||n.length?ya.apply(r,f):Ca(t,e,i,s);else var g=ha(t,e,i);var v=m?Tr:To;return So(v(g,f),t,e)}function Ia(t,e,i,s){return t===r||nu(t,le[i])&&!he.call(s,i)?e:t}function La(t,e,i,s,n,a){return Tu(t)&&Tu(e)&&(a.set(e,t),lr(t,e,r,La,a),a["delete"](e)),t}function Na(t){return Du(t)?r:t}function Da(t,e,i,s,n,a){var o=i&v,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(t),h=a.get(e);if(u&&h)return u==e&&h==t;var d=-1,p=!0,m=i&y?new Ys:r;a.set(t,e),a.set(e,t);while(++d<l){var f=t[d],g=e[d];if(s)var b=o?s(g,f,d,e,t,a):s(f,g,d,t,e,a);if(b!==r){if(b)continue;p=!1;break}if(m){if(!Ii(e,(function(t,e){if(!Gi(m,e)&&(f===t||n(f,t,i,s,a)))return m.push(e)}))){p=!1;break}}else if(f!==g&&!n(f,g,i,s,a)){p=!1;break}}return a["delete"](t),a["delete"](e),p}function Oa(t,e,i,s,n,r,a){switch(i){case pt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case dt:return!(t.byteLength!=e.byteLength||!r(new we(t),new we(e)));case K:case Y:case tt:return nu(+t,+e);case J:return t.name==e.name&&t.message==e.message;case rt:case ot:return t==e+"";case X:var o=ls;case at:var l=s&v;if(o||(o=hs),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;s|=y,a.set(t,e);var u=Da(o(t),o(e),s,n,r,a);return a["delete"](t),u;case lt:if(ps)return ps.call(t)==ps.call(e)}return!1}function $a(t,e,i,s,n,a){var o=i&v,l=ja(t),c=l.length,u=ja(e),h=u.length;if(c!=h&&!o)return!1;var d=c;while(d--){var p=l[d];if(!(o?p in e:he.call(e,p)))return!1}var m=a.get(t),f=a.get(e);if(m&&f)return m==e&&f==t;var g=!0;a.set(t,e),a.set(e,t);var y=o;while(++d<c){p=l[d];var b=t[p],w=e[p];if(s)var k=o?s(w,b,p,e,t,a):s(b,w,p,t,e,a);if(!(k===r?b===w||n(b,w,i,s,a):k)){g=!1;break}y||(y="constructor"==p)}if(g&&!y){var _=t.constructor,C=e.constructor;_==C||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof C&&C instanceof C||(g=!1)}return a["delete"](t),a["delete"](e),g}function Ra(t){return Ao(wo(t,r,Yo),t+"")}function ja(t){return On(t,_h,Ya)}function Ba(t){return On(t,Ch,Qa)}var Fa=ai?function(t){return ai.get(t)}:jd;function Ua(t){var e=t.name+"",i=li[e],s=he.call(li,e)?i.length:0;while(s--){var n=i[s],r=n.func;if(null==r||r==t)return n.name}return e}function za(t){var e=he.call(ws,"placeholder")?ws:t;return e.placeholder}function qa(){var t=ws.iteratee||Id;return t=t===Id?er:t,arguments.length?t(arguments[0],arguments[1]):t}function Ha(t,e){var i=t.__data__;return lo(e)?i["string"==typeof e?"string":"hash"]:i.map}function Va(t){var e=_h(t),i=e.length;while(i--){var s=e[i],n=t[s];e[i]=[s,n,mo(n)]}return e}function Wa(t,e){var i=ns(t,e);return Gn(i)?i:r}function Ka(t){var e=he.call(t,Pe),i=t[Pe];try{t[Pe]=r;var s=!0}catch(a){}var n=me.call(t);return s&&(e?t[Pe]=i:delete t[Pe]),n}var Ya=Oe?function(t){return null==t?[]:(t=ie(t),Ti(Oe(t),(function(e){return Te.call(t,e)})))}:Kd,Qa=Oe?function(t){var e=[];while(t)Pi(e,Ya(t)),t=_e(t);return e}:Kd,Ja=$n;function Ga(t,e,i){var s=-1,n=i.length;while(++s<n){var r=i[s],a=r.size;switch(r.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Ue(e,t+a);break;case"takeRight":t=Fe(t,e-a);break}}return{start:t,end:e}}function Za(t){var e=t.match(Ut);return e?e[1].split(zt):[]}function Xa(t,e,i){e=qr(e,t);var s=-1,n=e.length,r=!1;while(++s<n){var a=Io(e[s]);if(!(r=null!=t&&i(t,a)))break;t=t[a]}return r||++s!=n?r:(n=null==t?0:t.length,!!n&&Cu(n)&&ro(a,n)&&(lu(t)||ou(t)))}function to(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&he.call(t,"index")&&(i.index=t.index,i.input=t.input),i}function eo(t){return"function"!=typeof t.constructor||po(t)?{}:_s(_e(t))}function io(t,e,i){var s=t.constructor;switch(e){case dt:return Yr(t);case K:case Y:return new s(+t);case pt:return Qr(t,i);case mt:case ft:case gt:case vt:case yt:case bt:case wt:case kt:case _t:return Zr(t,i);case X:return new s;case tt:case ot:return new s(t);case rt:return Jr(t);case at:return new s;case lt:return Gr(t)}}function so(t,e){var i=e.length;if(!i)return t;var s=i-1;return e[s]=(i>1?"& ":"")+e[s],e=e.join(i>2?", ":" "),t.replace(Ft,"{\n/* [wrapped with "+e+"] */\n")}function no(t){return lu(t)||ou(t)||!!(Ae&&t&&t[Ae])}function ro(t,e){var i=typeof t;return e=null==e?R:e,!!e&&("number"==i||"symbol"!=i&&Zt.test(t))&&t>-1&&t%1==0&&t<e}function ao(t,e,i){if(!Tu(i))return!1;var s=typeof e;return!!("number"==s?uu(i)&&ro(e,i.length):"string"==s&&e in i)&&nu(i[e],t)}function oo(t,e){if(lu(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!Bu(t))||(Dt.test(t)||!Nt.test(t)||null!=e&&t in ie(e))}function lo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function co(t){var e=Ua(t),i=ws[e];if("function"!=typeof i||!(e in As.prototype))return!1;if(t===i)return!0;var s=Fa(i);return!!s&&t===s[0]}function uo(t){return!!pe&&pe in t}(Ye&&Ja(new Ye(new ArrayBuffer(1)))!=pt||Xe&&Ja(new Xe)!=X||ti&&Ja(ti.resolve())!=st||ei&&Ja(new ei)!=at||ii&&Ja(new ii)!=ut)&&(Ja=function(t){var e=$n(t),i=e==it?t.constructor:r,s=i?Lo(i):"";if(s)switch(s){case ci:return pt;case hi:return X;case di:return st;case Li:return at;case Ni:return ut}return e});var ho=ce?ku:Yd;function po(t){var e=t&&t.constructor,i="function"==typeof e&&e.prototype||le;return t===i}function mo(t){return t===t&&!Tu(t)}function fo(t,e){return function(i){return null!=i&&(i[t]===e&&(e!==r||t in ie(i)))}}function go(t){var e=Fc(t,(function(t){return i.size===d&&i.clear(),t})),i=e.cache;return e}function vo(t,e){var i=t[1],s=e[1],n=i|s,r=n<(b|w|A),a=s==A&&i==_||s==A&&i==S&&t[7].length<=e[8]||s==(A|S)&&e[7].length<=e[8]&&i==_;if(!r&&!a)return t;s&b&&(t[2]=e[2],n|=i&b?0:k);var o=e[3];if(o){var l=t[3];t[3]=l?ea(l,o,e[4]):o,t[4]=l?us(t[3],p):e[4]}return o=e[5],o&&(l=t[5],t[5]=l?ia(l,o,e[6]):o,t[6]=l?us(t[5],p):e[6]),o=e[7],o&&(t[7]=o),s&A&&(t[8]=null==t[8]?e[8]:Ue(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=n,t}function yo(t){var e=[];if(null!=t)for(var i in ie(t))e.push(i);return e}function bo(t){return me.call(t)}function wo(t,e,s){return e=Fe(e===r?t.length-1:e,0),function(){var n=arguments,r=-1,a=Fe(n.length-e,0),o=i(a);while(++r<a)o[r]=n[e+r];r=-1;var l=i(e+1);while(++r<e)l[r]=n[r];return l[e]=s(o),bi(t,this,l)}}function ko(t,e){return e.length<2?t:Dn(t,Sr(e,0,-1))}function _o(t,e){var i=t.length,s=Ue(e.length,i),n=sa(t);while(s--){var a=e[s];t[s]=ro(a,i)?n[a]:r}return t}function Co(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var To=Po(Tr),xo=Le||function(t,e){return oi.setTimeout(t,e)},Ao=Po(xr);function So(t,e,i){var s=e+"";return Ao(t,so(s,No(Za(s),i)))}function Po(t){var e=0,i=0;return function(){var s=ze(),n=L-(s-i);if(i=s,n>0){if(++e>=I)return arguments[0]}else e=0;return t.apply(r,arguments)}}function Mo(t,e){var i=-1,s=t.length,n=s-1;e=e===r?s:e;while(++i<e){var a=vr(i,n),o=t[a];t[a]=t[i],t[i]=o}return t.length=e,t}var Eo=go((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ot,(function(t,i,s,n){e.push(s?n.replace(Vt,"$1"):i||t)})),e}));function Io(t){if("string"==typeof t||Bu(t))return t;var e=t+"";return"0"==e&&1/t==-$?"-0":e}function Lo(t){if(null!=t){try{return ue.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function No(t,e){return ki(q,(function(i){var s="_."+i[0];e&i[1]&&!xi(t,s)&&t.push(s)})),t.sort()}function Do(t){if(t instanceof As)return t.clone();var e=new xs(t.__wrapped__,t.__chain__);return e.__actions__=sa(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Oo(t,e,s){e=(s?ao(t,e,s):e===r)?1:Fe(Yu(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];var a=0,o=0,l=i(Ne(n/e));while(a<n)l[o++]=Sr(t,a,a+=e);return l}function $o(t){var e=-1,i=null==t?0:t.length,s=0,n=[];while(++e<i){var r=t[e];r&&(n[s++]=r)}return n}function Ro(){var t=arguments.length;if(!t)return[];var e=i(t-1),s=arguments[0],n=t;while(n--)e[n-1]=arguments[n];return Pi(lu(s)?sa(s):[s],Pn(e,1))}var jo=wr((function(t,e){return hu(t)?kn(t,Pn(e,1,hu,!0)):[]})),Bo=wr((function(t,e){var i=rl(e);return hu(i)&&(i=r),hu(t)?kn(t,Pn(e,1,hu,!0),qa(i,2)):[]})),Fo=wr((function(t,e){var i=rl(e);return hu(i)&&(i=r),hu(t)?kn(t,Pn(e,1,hu,!0),r,i):[]}));function Uo(t,e,i){var s=null==t?0:t.length;return s?(e=i||e===r?1:Yu(e),Sr(t,e<0?0:e,s)):[]}function zo(t,e,i){var s=null==t?0:t.length;return s?(e=i||e===r?1:Yu(e),e=s-e,Sr(t,0,e<0?0:e)):[]}function qo(t,e){return t&&t.length?Rr(t,qa(e,3),!0,!0):[]}function Ho(t,e){return t&&t.length?Rr(t,qa(e,3),!0):[]}function Vo(t,e,i,s){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&ao(t,e,i)&&(i=0,s=n),An(t,e,i,s)):[]}function Wo(t,e,i){var s=null==t?0:t.length;if(!s)return-1;var n=null==i?0:Yu(i);return n<0&&(n=Fe(s+n,0)),$i(t,qa(e,3),n)}function Ko(t,e,i){var s=null==t?0:t.length;if(!s)return-1;var n=s-1;return i!==r&&(n=Yu(i),n=i<0?Fe(s+n,0):Ue(n,s-1)),$i(t,qa(e,3),n,!0)}function Yo(t){var e=null==t?0:t.length;return e?Pn(t,1):[]}function Qo(t){var e=null==t?0:t.length;return e?Pn(t,$):[]}function Jo(t,e){var i=null==t?0:t.length;return i?(e=e===r?1:Yu(e),Pn(t,e)):[]}function Go(t){var e=-1,i=null==t?0:t.length,s={};while(++e<i){var n=t[e];s[n[0]]=n[1]}return s}function Zo(t){return t&&t.length?t[0]:r}function Xo(t,e,i){var s=null==t?0:t.length;if(!s)return-1;var n=null==i?0:Yu(i);return n<0&&(n=Fe(s+n,0)),Ri(t,e,n)}function tl(t){var e=null==t?0:t.length;return e?Sr(t,0,-1):[]}var el=wr((function(t){var e=Si(t,Ur);return e.length&&e[0]===t[0]?Un(e):[]})),il=wr((function(t){var e=rl(t),i=Si(t,Ur);return e===rl(i)?e=r:i.pop(),i.length&&i[0]===t[0]?Un(i,qa(e,2)):[]})),sl=wr((function(t){var e=rl(t),i=Si(t,Ur);return e="function"==typeof e?e:r,e&&i.pop(),i.length&&i[0]===t[0]?Un(i,r,e):[]}));function nl(t,e){return null==t?"":je.call(t,e)}function rl(t){var e=null==t?0:t.length;return e?t[e-1]:r}function al(t,e,i){var s=null==t?0:t.length;if(!s)return-1;var n=s;return i!==r&&(n=Yu(i),n=n<0?Fe(s+n,0):Ue(n,s-1)),e===e?ms(t,e,n):$i(t,Bi,n,!0)}function ol(t,e){return t&&t.length?ur(t,Yu(e)):r}var ll=wr(cl);function cl(t,e){return t&&t.length&&e&&e.length?fr(t,e):t}function ul(t,e,i){return t&&t.length&&e&&e.length?fr(t,e,qa(i,2)):t}function hl(t,e,i){return t&&t.length&&e&&e.length?fr(t,e,r,i):t}var dl=Ra((function(t,e){var i=null==t?0:t.length,s=fn(t,e);return gr(t,Si(e,(function(t){return ro(t,i)?+t:t})).sort(Xr)),s}));function pl(t,e){var i=[];if(!t||!t.length)return i;var s=-1,n=[],r=t.length;e=qa(e,3);while(++s<r){var a=t[s];e(a,s,t)&&(i.push(a),n.push(s))}return gr(t,n),i}function ml(t){return null==t?t:Ke.call(t)}function fl(t,e,i){var s=null==t?0:t.length;return s?(i&&"number"!=typeof i&&ao(t,e,i)?(e=0,i=s):(e=null==e?0:Yu(e),i=i===r?s:Yu(i)),Sr(t,e,i)):[]}function gl(t,e){return Mr(t,e)}function vl(t,e,i){return Er(t,e,qa(i,2))}function yl(t,e){var i=null==t?0:t.length;if(i){var s=Mr(t,e);if(s<i&&nu(t[s],e))return s}return-1}function bl(t,e){return Mr(t,e,!0)}function wl(t,e,i){return Er(t,e,qa(i,2),!0)}function kl(t,e){var i=null==t?0:t.length;if(i){var s=Mr(t,e,!0)-1;if(nu(t[s],e))return s}return-1}function _l(t){return t&&t.length?Ir(t):[]}function Cl(t,e){return t&&t.length?Ir(t,qa(e,2)):[]}function Tl(t){var e=null==t?0:t.length;return e?Sr(t,1,e):[]}function xl(t,e,i){return t&&t.length?(e=i||e===r?1:Yu(e),Sr(t,0,e<0?0:e)):[]}function Al(t,e,i){var s=null==t?0:t.length;return s?(e=i||e===r?1:Yu(e),e=s-e,Sr(t,e<0?0:e,s)):[]}function Sl(t,e){return t&&t.length?Rr(t,qa(e,3),!1,!0):[]}function Pl(t,e){return t&&t.length?Rr(t,qa(e,3)):[]}var Ml=wr((function(t){return Dr(Pn(t,1,hu,!0))})),El=wr((function(t){var e=rl(t);return hu(e)&&(e=r),Dr(Pn(t,1,hu,!0),qa(e,2))})),Il=wr((function(t){var e=rl(t);return e="function"==typeof e?e:r,Dr(Pn(t,1,hu,!0),r,e)}));function Ll(t){return t&&t.length?Dr(t):[]}function Nl(t,e){return t&&t.length?Dr(t,qa(e,2)):[]}function Dl(t,e){return e="function"==typeof e?e:r,t&&t.length?Dr(t,r,e):[]}function Ol(t){if(!t||!t.length)return[];var e=0;return t=Ti(t,(function(t){if(hu(t))return e=Fe(t.length,e),!0})),Wi(e,(function(e){return Si(t,Ui(e))}))}function $l(t,e){if(!t||!t.length)return[];var i=Ol(t);return null==e?i:Si(i,(function(t){return bi(e,r,t)}))}var Rl=wr((function(t,e){return hu(t)?kn(t,e):[]})),jl=wr((function(t){return Br(Ti(t,hu))})),Bl=wr((function(t){var e=rl(t);return hu(e)&&(e=r),Br(Ti(t,hu),qa(e,2))})),Fl=wr((function(t){var e=rl(t);return e="function"==typeof e?e:r,Br(Ti(t,hu),r,e)})),Ul=wr(Ol);function zl(t,e){return Fr(t||[],e||[],cn)}function ql(t,e){return Fr(t||[],e||[],Cr)}var Hl=wr((function(t){var e=t.length,i=e>1?t[e-1]:r;return i="function"==typeof i?(t.pop(),i):r,$l(t,i)}));function Vl(t){var e=ws(t);return e.__chain__=!0,e}function Wl(t,e){return e(t),t}function Kl(t,e){return e(t)}var Yl=Ra((function(t){var e=t.length,i=e?t[0]:0,s=this.__wrapped__,n=function(e){return fn(e,t)};return!(e>1||this.__actions__.length)&&s instanceof As&&ro(i)?(s=s.slice(i,+i+(e?1:0)),s.__actions__.push({func:Kl,args:[n],thisArg:r}),new xs(s,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(n)}));function Ql(){return Vl(this)}function Jl(){return new xs(this.value(),this.__chain__)}function Gl(){this.__values__===r&&(this.__values__=Wu(this.value()));var t=this.__index__>=this.__values__.length,e=t?r:this.__values__[this.__index__++];return{done:t,value:e}}function Zl(){return this}function Xl(t){var e,i=this;while(i instanceof Ts){var s=Do(i);s.__index__=0,s.__values__=r,e?n.__wrapped__=s:e=s;var n=s;i=i.__wrapped__}return n.__wrapped__=t,e}function tc(){var t=this.__wrapped__;if(t instanceof As){var e=t;return this.__actions__.length&&(e=new As(this)),e=e.reverse(),e.__actions__.push({func:Kl,args:[ml],thisArg:r}),new xs(e,this.__chain__)}return this.thru(ml)}function ec(){return jr(this.__wrapped__,this.__actions__)}var ic=oa((function(t,e,i){he.call(t,i)?++t[i]:mn(t,i,1)}));function sc(t,e,i){var s=lu(t)?Ci:Tn;return i&&ao(t,e,i)&&(e=r),s(t,qa(e,3))}function nc(t,e){var i=lu(t)?Ti:Sn;return i(t,qa(e,3))}var rc=ga(Wo),ac=ga(Ko);function oc(t,e){return Pn(gc(t,e),1)}function lc(t,e){return Pn(gc(t,e),$)}function cc(t,e,i){return i=i===r?1:Yu(i),Pn(gc(t,e),i)}function uc(t,e){var i=lu(t)?ki:_n;return i(t,qa(e,3))}function hc(t,e){var i=lu(t)?_i:Cn;return i(t,qa(e,3))}var dc=oa((function(t,e,i){he.call(t,i)?t[i].push(e):mn(t,i,[e])}));function pc(t,e,i,s){t=uu(t)?t:Uh(t),i=i&&!s?Yu(i):0;var n=t.length;return i<0&&(i=Fe(n+i,0)),ju(t)?i<=n&&t.indexOf(e,i)>-1:!!n&&Ri(t,e,i)>-1}var mc=wr((function(t,e,s){var n=-1,r="function"==typeof e,a=uu(t)?i(t.length):[];return _n(t,(function(t){a[++n]=r?bi(e,t,s):qn(t,e,s)})),a})),fc=oa((function(t,e,i){mn(t,i,e)}));function gc(t,e){var i=lu(t)?Si:rr;return i(t,qa(e,3))}function vc(t,e,i,s){return null==t?[]:(lu(e)||(e=null==e?[]:[e]),i=s?r:i,lu(i)||(i=null==i?[]:[i]),hr(t,e,i))}var yc=oa((function(t,e,i){t[i?0:1].push(e)}),(function(){return[[],[]]}));function bc(t,e,i){var s=lu(t)?Mi:qi,n=arguments.length<3;return s(t,qa(e,4),i,n,_n)}function wc(t,e,i){var s=lu(t)?Ei:qi,n=arguments.length<3;return s(t,qa(e,4),i,n,Cn)}function kc(t,e){var i=lu(t)?Ti:Sn;return i(t,Uc(qa(e,3)))}function _c(t){var e=lu(t)?rn:kr;return e(t)}function Cc(t,e,i){e=(i?ao(t,e,i):e===r)?1:Yu(e);var s=lu(t)?an:_r;return s(t,e)}function Tc(t){var e=lu(t)?on:Ar;return e(t)}function xc(t){if(null==t)return 0;if(uu(t))return ju(t)?fs(t):t.length;var e=Ja(t);return e==X||e==at?t.size:ir(t).length}function Ac(t,e,i){var s=lu(t)?Ii:Pr;return i&&ao(t,e,i)&&(e=r),s(t,qa(e,3))}var Sc=wr((function(t,e){if(null==t)return[];var i=e.length;return i>1&&ao(t,e[0],e[1])?e=[]:i>2&&ao(e[0],e[1],e[2])&&(e=[e[0]]),hr(t,Pn(e,1),[])})),Pc=Ie||function(){return oi.Date.now()};function Mc(t,e){if("function"!=typeof e)throw new re(c);return t=Yu(t),function(){if(--t<1)return e.apply(this,arguments)}}function Ec(t,e,i){return e=i?r:e,e=t&&null==e?t.length:e,Ea(t,A,r,r,r,r,e)}function Ic(t,e){var i;if("function"!=typeof e)throw new re(c);return t=Yu(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=r),i}}var Lc=wr((function(t,e,i){var s=b;if(i.length){var n=us(i,za(Lc));s|=T}return Ea(t,s,e,i,n)})),Nc=wr((function(t,e,i){var s=b|w;if(i.length){var n=us(i,za(Nc));s|=T}return Ea(e,s,t,i,n)}));function Dc(t,e,i){e=i?r:e;var s=Ea(t,_,r,r,r,r,r,e);return s.placeholder=Dc.placeholder,s}function Oc(t,e,i){e=i?r:e;var s=Ea(t,C,r,r,r,r,r,e);return s.placeholder=Oc.placeholder,s}function $c(t,e,i){var s,n,a,o,l,u,h=0,d=!1,p=!1,m=!0;if("function"!=typeof t)throw new re(c);function f(e){var i=s,a=n;return s=n=r,h=e,o=t.apply(a,i),o}function g(t){return h=t,l=xo(b,e),d?f(t):o}function v(t){var i=t-u,s=t-h,n=e-i;return p?Ue(n,a-s):n}function y(t){var i=t-u,s=t-h;return u===r||i>=e||i<0||p&&s>=a}function b(){var t=Pc();if(y(t))return w(t);l=xo(b,v(t))}function w(t){return l=r,m&&s?f(t):(s=n=r,o)}function k(){l!==r&&Wr(l),h=0,s=u=n=l=r}function _(){return l===r?o:w(Pc())}function C(){var t=Pc(),i=y(t);if(s=arguments,n=this,u=t,i){if(l===r)return g(u);if(p)return Wr(l),l=xo(b,e),f(u)}return l===r&&(l=xo(b,e)),o}return e=Ju(e)||0,Tu(i)&&(d=!!i.leading,p="maxWait"in i,a=p?Fe(Ju(i.maxWait)||0,e):a,m="trailing"in i?!!i.trailing:m),C.cancel=k,C.flush=_,C}var Rc=wr((function(t,e){return wn(t,1,e)})),jc=wr((function(t,e,i){return wn(t,Ju(e)||0,i)}));function Bc(t){return Ea(t,P)}function Fc(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new re(c);var i=function(){var s=arguments,n=e?e.apply(this,s):s[0],r=i.cache;if(r.has(n))return r.get(n);var a=t.apply(this,s);return i.cache=r.set(n,a)||r,a};return i.cache=new(Fc.Cache||zs),i}function Uc(t){if("function"!=typeof t)throw new re(c);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function zc(t){return Ic(2,t)}Fc.Cache=zs;var qc=Hr((function(t,e){e=1==e.length&&lu(e[0])?Si(e[0],Qi(qa())):Si(Pn(e,1),Qi(qa()));var i=e.length;return wr((function(s){var n=-1,r=Ue(s.length,i);while(++n<r)s[n]=e[n].call(this,s[n]);return bi(t,this,s)}))})),Hc=wr((function(t,e){var i=us(e,za(Hc));return Ea(t,T,r,e,i)})),Vc=wr((function(t,e){var i=us(e,za(Vc));return Ea(t,x,r,e,i)})),Wc=Ra((function(t,e){return Ea(t,S,r,r,r,e)}));function Kc(t,e){if("function"!=typeof t)throw new re(c);return e=e===r?e:Yu(e),wr(t,e)}function Yc(t,e){if("function"!=typeof t)throw new re(c);return e=null==e?0:Fe(Yu(e),0),wr((function(i){var s=i[e],n=Vr(i,0,e);return s&&Pi(n,s),bi(t,this,n)}))}function Qc(t,e,i){var s=!0,n=!0;if("function"!=typeof t)throw new re(c);return Tu(i)&&(s="leading"in i?!!i.leading:s,n="trailing"in i?!!i.trailing:n),$c(t,e,{leading:s,maxWait:e,trailing:n})}function Jc(t){return Ec(t,1)}function Gc(t,e){return Hc(zr(e),t)}function Zc(){if(!arguments.length)return[];var t=arguments[0];return lu(t)?t:[t]}function Xc(t){return vn(t,g)}function tu(t,e){return e="function"==typeof e?e:r,vn(t,g,e)}function eu(t){return vn(t,m|g)}function iu(t,e){return e="function"==typeof e?e:r,vn(t,m|g,e)}function su(t,e){return null==e||bn(t,e,_h(e))}function nu(t,e){return t===e||t!==t&&e!==e}var ru=xa(Rn),au=xa((function(t,e){return t>=e})),ou=Hn(function(){return arguments}())?Hn:function(t){return xu(t)&&he.call(t,"callee")&&!Te.call(t,"callee")},lu=i.isArray,cu=pi?Qi(pi):Vn;function uu(t){return null!=t&&Cu(t.length)&&!ku(t)}function hu(t){return xu(t)&&uu(t)}function du(t){return!0===t||!1===t||xu(t)&&$n(t)==K}var pu=$e||Yd,mu=mi?Qi(mi):Wn;function fu(t){return xu(t)&&1===t.nodeType&&!Du(t)}function gu(t){if(null==t)return!0;if(uu(t)&&(lu(t)||"string"==typeof t||"function"==typeof t.splice||pu(t)||Fu(t)||ou(t)))return!t.length;var e=Ja(t);if(e==X||e==at)return!t.size;if(po(t))return!ir(t).length;for(var i in t)if(he.call(t,i))return!1;return!0}function vu(t,e){return Kn(t,e)}function yu(t,e,i){i="function"==typeof i?i:r;var s=i?i(t,e):r;return s===r?Kn(t,e,r,i):!!s}function bu(t){if(!xu(t))return!1;var e=$n(t);return e==J||e==Q||"string"==typeof t.message&&"string"==typeof t.name&&!Du(t)}function wu(t){return"number"==typeof t&&Re(t)}function ku(t){if(!Tu(t))return!1;var e=$n(t);return e==G||e==Z||e==W||e==nt}function _u(t){return"number"==typeof t&&t==Yu(t)}function Cu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=R}function Tu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function xu(t){return null!=t&&"object"==typeof t}var Au=fi?Qi(fi):Qn;function Su(t,e){return t===e||Jn(t,e,Va(e))}function Pu(t,e,i){return i="function"==typeof i?i:r,Jn(t,e,Va(e),i)}function Mu(t){return Nu(t)&&t!=+t}function Eu(t){if(ho(t))throw new n(l);return Gn(t)}function Iu(t){return null===t}function Lu(t){return null==t}function Nu(t){return"number"==typeof t||xu(t)&&$n(t)==tt}function Du(t){if(!xu(t)||$n(t)!=it)return!1;var e=_e(t);if(null===e)return!0;var i=he.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&ue.call(i)==fe}var Ou=gi?Qi(gi):Zn;function $u(t){return _u(t)&&t>=-R&&t<=R}var Ru=vi?Qi(vi):Xn;function ju(t){return"string"==typeof t||!lu(t)&&xu(t)&&$n(t)==ot}function Bu(t){return"symbol"==typeof t||xu(t)&&$n(t)==lt}var Fu=yi?Qi(yi):tr;function Uu(t){return t===r}function zu(t){return xu(t)&&Ja(t)==ut}function qu(t){return xu(t)&&$n(t)==ht}var Hu=xa(nr),Vu=xa((function(t,e){return t<=e}));function Wu(t){if(!t)return[];if(uu(t))return ju(t)?gs(t):sa(t);if(Se&&t[Se])return os(t[Se]());var e=Ja(t),i=e==X?ls:e==at?hs:Uh;return i(t)}function Ku(t){if(!t)return 0===t?t:0;if(t=Ju(t),t===$||t===-$){var e=t<0?-1:1;return e*j}return t===t?t:0}function Yu(t){var e=Ku(t),i=e%1;return e===e?i?e-i:e:0}function Qu(t){return t?gn(Yu(t),0,F):0}function Ju(t){if("number"==typeof t)return t;if(Bu(t))return B;if(Tu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Tu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Yi(t);var i=Qt.test(t);return i||Gt.test(t)?ni(t.slice(2),i?2:8):Yt.test(t)?B:+t}function Gu(t){return na(t,Ch(t))}function Zu(t){return t?gn(Yu(t),-R,R):0===t?t:0}function Xu(t){return null==t?"":Nr(t)}var th=la((function(t,e){if(po(e)||uu(e))na(e,_h(e),t);else for(var i in e)he.call(e,i)&&cn(t,i,e[i])})),eh=la((function(t,e){na(e,Ch(e),t)})),ih=la((function(t,e,i,s){na(e,Ch(e),t,s)})),sh=la((function(t,e,i,s){na(e,_h(e),t,s)})),nh=Ra(fn);function rh(t,e){var i=_s(t);return null==e?i:dn(i,e)}var ah=wr((function(t,e){t=ie(t);var i=-1,s=e.length,n=s>2?e[2]:r;n&&ao(e[0],e[1],n)&&(s=1);while(++i<s){var a=e[i],o=Ch(a),l=-1,c=o.length;while(++l<c){var u=o[l],h=t[u];(h===r||nu(h,le[u])&&!he.call(t,u))&&(t[u]=a[u])}}return t})),oh=wr((function(t){return t.push(r,La),bi(Sh,r,t)}));function lh(t,e){return Oi(t,qa(e,3),In)}function ch(t,e){return Oi(t,qa(e,3),Ln)}function uh(t,e){return null==t?t:Mn(t,qa(e,3),Ch)}function hh(t,e){return null==t?t:En(t,qa(e,3),Ch)}function dh(t,e){return t&&In(t,qa(e,3))}function ph(t,e){return t&&Ln(t,qa(e,3))}function mh(t){return null==t?[]:Nn(t,_h(t))}function fh(t){return null==t?[]:Nn(t,Ch(t))}function gh(t,e,i){var s=null==t?r:Dn(t,e);return s===r?i:s}function vh(t,e){return null!=t&&Xa(t,e,jn)}function yh(t,e){return null!=t&&Xa(t,e,Bn)}var bh=ba((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=me.call(e)),t[e]=i}),Ad(Ed)),wh=ba((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=me.call(e)),he.call(t,e)?t[e].push(i):t[e]=[i]}),qa),kh=wr(qn);function _h(t){return uu(t)?nn(t):ir(t)}function Ch(t){return uu(t)?nn(t,!0):sr(t)}function Th(t,e){var i={};return e=qa(e,3),In(t,(function(t,s,n){mn(i,e(t,s,n),t)})),i}function xh(t,e){var i={};return e=qa(e,3),In(t,(function(t,s,n){mn(i,s,e(t,s,n))})),i}var Ah=la((function(t,e,i){lr(t,e,i)})),Sh=la((function(t,e,i,s){lr(t,e,i,s)})),Ph=Ra((function(t,e){var i={};if(null==t)return i;var s=!1;e=Si(e,(function(e){return e=qr(e,t),s||(s=e.length>1),e})),na(t,Ba(t),i),s&&(i=vn(i,m|f|g,Na));var n=e.length;while(n--)Or(i,e[n]);return i}));function Mh(t,e){return Ih(t,Uc(qa(e)))}var Eh=Ra((function(t,e){return null==t?{}:dr(t,e)}));function Ih(t,e){if(null==t)return{};var i=Si(Ba(t),(function(t){return[t]}));return e=qa(e),pr(t,i,(function(t,i){return e(t,i[0])}))}function Lh(t,e,i){e=qr(e,t);var s=-1,n=e.length;n||(n=1,t=r);while(++s<n){var a=null==t?r:t[Io(e[s])];a===r&&(s=n,a=i),t=ku(a)?a.call(t):a}return t}function Nh(t,e,i){return null==t?t:Cr(t,e,i)}function Dh(t,e,i,s){return s="function"==typeof s?s:r,null==t?t:Cr(t,e,i,s)}var Oh=Ma(_h),$h=Ma(Ch);function Rh(t,e,i){var s=lu(t),n=s||pu(t)||Fu(t);if(e=qa(e,4),null==i){var r=t&&t.constructor;i=n?s?new r:[]:Tu(t)&&ku(r)?_s(_e(t)):{}}return(n?ki:In)(t,(function(t,s,n){return e(i,t,s,n)})),i}function jh(t,e){return null==t||Or(t,e)}function Bh(t,e,i){return null==t?t:$r(t,e,zr(i))}function Fh(t,e,i,s){return s="function"==typeof s?s:r,null==t?t:$r(t,e,zr(i),s)}function Uh(t){return null==t?[]:Ji(t,_h(t))}function zh(t){return null==t?[]:Ji(t,Ch(t))}function qh(t,e,i){return i===r&&(i=e,e=r),i!==r&&(i=Ju(i),i=i===i?i:0),e!==r&&(e=Ju(e),e=e===e?e:0),gn(Ju(t),e,i)}function Hh(t,e,i){return e=Ku(e),i===r?(i=e,e=0):i=Ku(i),t=Ju(t),Fn(t,e,i)}function Vh(t,e,i){if(i&&"boolean"!=typeof i&&ao(t,e,i)&&(e=i=r),i===r&&("boolean"==typeof e?(i=e,e=r):"boolean"==typeof t&&(i=t,t=r)),t===r&&e===r?(t=0,e=1):(t=Ku(t),e===r?(e=t,t=0):e=Ku(e)),t>e){var s=t;t=e,e=s}if(i||t%1||e%1){var n=We();return Ue(t+n*(e-t+si("1e-"+((n+"").length-1))),e)}return vr(t,e)}var Wh=pa((function(t,e,i){return e=e.toLowerCase(),t+(i?Kh(e):e)}));function Kh(t){return wd(Xu(t).toLowerCase())}function Yh(t){return t=Xu(t),t&&t.replace(Xt,es).replace(He,"")}function Qh(t,e,i){t=Xu(t),e=Nr(e);var s=t.length;i=i===r?s:gn(Yu(i),0,s);var n=i;return i-=e.length,i>=0&&t.slice(i,n)==e}function Jh(t){return t=Xu(t),t&&Mt.test(t)?t.replace(St,is):t}function Gh(t){return t=Xu(t),t&&Rt.test(t)?t.replace($t,"\\$&"):t}var Zh=pa((function(t,e,i){return t+(i?"-":"")+e.toLowerCase()})),Xh=pa((function(t,e,i){return t+(i?" ":"")+e.toLowerCase()})),td=da("toLowerCase");function ed(t,e,i){t=Xu(t),e=Yu(e);var s=e?fs(t):0;if(!e||s>=e)return t;var n=(e-s)/2;return _a(De(n),i)+t+_a(Ne(n),i)}function id(t,e,i){t=Xu(t),e=Yu(e);var s=e?fs(t):0;return e&&s<e?t+_a(e-s,i):t}function sd(t,e,i){t=Xu(t),e=Yu(e);var s=e?fs(t):0;return e&&s<e?_a(e-s,i)+t:t}function nd(t,e,i){return i||null==e?e=0:e&&(e=+e),Ve(Xu(t).replace(jt,""),e||0)}function rd(t,e,i){return e=(i?ao(t,e,i):e===r)?1:Yu(e),br(Xu(t),e)}function ad(){var t=arguments,e=Xu(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var od=pa((function(t,e,i){return t+(i?"_":"")+e.toLowerCase()}));function ld(t,e,i){return i&&"number"!=typeof i&&ao(t,e,i)&&(e=i=r),i=i===r?F:i>>>0,i?(t=Xu(t),t&&("string"==typeof e||null!=e&&!Ou(e))&&(e=Nr(e),!e&&rs(t))?Vr(gs(t),0,i):t.split(e,i)):[]}var cd=pa((function(t,e,i){return t+(i?" ":"")+wd(e)}));function ud(t,e,i){return t=Xu(t),i=null==i?0:gn(Yu(i),0,t.length),e=Nr(e),t.slice(i,i+e.length)==e}function hd(t,e,i){var s=ws.templateSettings;i&&ao(t,e,i)&&(e=r),t=Xu(t),e=ih({},e,s,Ia);var a,o,l=ih({},e.imports,s.imports,Ia),c=_h(l),h=Ji(l,c),d=0,p=e.interpolate||te,m="__p += '",f=se((e.escape||te).source+"|"+p.source+"|"+(p===Lt?Wt:te).source+"|"+(e.evaluate||te).source+"|$","g"),g="//# sourceURL="+(he.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Je+"]")+"\n";t.replace(f,(function(e,i,s,n,r,l){return s||(s=n),m+=t.slice(d,l).replace(ee,ss),i&&(a=!0,m+="' +\n__e("+i+") +\n'"),r&&(o=!0,m+="';\n"+r+";\n__p += '"),s&&(m+="' +\n((__t = ("+s+")) == null ? '' : __t) +\n'"),d=l+e.length,e})),m+="';\n";var v=he.call(e,"variable")&&e.variable;if(v){if(Ht.test(v))throw new n(u)}else m="with (obj) {\n"+m+"\n}\n";m=(o?m.replace(Ct,""):m).replace(Tt,"$1").replace(xt,"$1;"),m="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var y=_d((function(){return Bt(c,g+"return "+m).apply(r,h)}));if(y.source=m,bu(y))throw y;return y}function dd(t){return Xu(t).toLowerCase()}function pd(t){return Xu(t).toUpperCase()}function md(t,e,i){if(t=Xu(t),t&&(i||e===r))return Yi(t);if(!t||!(e=Nr(e)))return t;var s=gs(t),n=gs(e),a=Zi(s,n),o=Xi(s,n)+1;return Vr(s,a,o).join("")}function fd(t,e,i){if(t=Xu(t),t&&(i||e===r))return t.slice(0,vs(t)+1);if(!t||!(e=Nr(e)))return t;var s=gs(t),n=Xi(s,gs(e))+1;return Vr(s,0,n).join("")}function gd(t,e,i){if(t=Xu(t),t&&(i||e===r))return t.replace(jt,"");if(!t||!(e=Nr(e)))return t;var s=gs(t),n=Zi(s,gs(e));return Vr(s,n).join("")}function vd(t,e){var i=M,s=E;if(Tu(e)){var n="separator"in e?e.separator:n;i="length"in e?Yu(e.length):i,s="omission"in e?Nr(e.omission):s}t=Xu(t);var a=t.length;if(rs(t)){var o=gs(t);a=o.length}if(i>=a)return t;var l=i-fs(s);if(l<1)return s;var c=o?Vr(o,0,l).join(""):t.slice(0,l);if(n===r)return c+s;if(o&&(l+=c.length-l),Ou(n)){if(t.slice(l).search(n)){var u,h=c;n.global||(n=se(n.source,Xu(Kt.exec(n))+"g")),n.lastIndex=0;while(u=n.exec(h))var d=u.index;c=c.slice(0,d===r?l:d)}}else if(t.indexOf(Nr(n),l)!=l){var p=c.lastIndexOf(n);p>-1&&(c=c.slice(0,p))}return c+s}function yd(t){return t=Xu(t),t&&Pt.test(t)?t.replace(At,ys):t}var bd=pa((function(t,e,i){return t+(i?" ":"")+e.toUpperCase()})),wd=da("toUpperCase");function kd(t,e,i){return t=Xu(t),e=i?r:e,e===r?as(t)?ks(t):Di(t):t.match(e)||[]}var _d=wr((function(t,e){try{return bi(t,r,e)}catch(i){return bu(i)?i:new n(i)}})),Cd=Ra((function(t,e){return ki(e,(function(e){e=Io(e),mn(t,e,Lc(t[e],t))})),t}));function Td(t){var e=null==t?0:t.length,i=qa();return t=e?Si(t,(function(t){if("function"!=typeof t[1])throw new re(c);return[i(t[0]),t[1]]})):[],wr((function(i){var s=-1;while(++s<e){var n=t[s];if(bi(n[0],this,i))return bi(n[1],this,i)}}))}function xd(t){return yn(vn(t,m))}function Ad(t){return function(){return t}}function Sd(t,e){return null==t||t!==t?e:t}var Pd=va(),Md=va(!0);function Ed(t){return t}function Id(t){return er("function"==typeof t?t:vn(t,m))}function Ld(t){return ar(vn(t,m))}function Nd(t,e){return or(t,vn(e,m))}var Dd=wr((function(t,e){return function(i){return qn(i,t,e)}})),Od=wr((function(t,e){return function(i){return qn(t,i,e)}}));function $d(t,e,i){var s=_h(e),n=Nn(e,s);null!=i||Tu(e)&&(n.length||!s.length)||(i=e,e=t,t=this,n=Nn(e,_h(e)));var r=!(Tu(i)&&"chain"in i)||!!i.chain,a=ku(t);return ki(n,(function(i){var s=e[i];t[i]=s,a&&(t.prototype[i]=function(){var e=this.__chain__;if(r||e){var i=t(this.__wrapped__),n=i.__actions__=sa(this.__actions__);return n.push({func:s,args:arguments,thisArg:t}),i.__chain__=e,i}return s.apply(t,Pi([this.value()],arguments))})})),t}function Rd(){return oi._===this&&(oi._=ge),this}function jd(){}function Bd(t){return t=Yu(t),wr((function(e){return ur(e,t)}))}var Fd=ka(Si),Ud=ka(Ci),zd=ka(Ii);function qd(t){return oo(t)?Ui(Io(t)):mr(t)}function Hd(t){return function(e){return null==t?r:Dn(t,e)}}var Vd=Ta(),Wd=Ta(!0);function Kd(){return[]}function Yd(){return!1}function Qd(){return{}}function Jd(){return""}function Gd(){return!0}function Zd(t,e){if(t=Yu(t),t<1||t>R)return[];var i=F,s=Ue(t,F);e=qa(e),t-=F;var n=Wi(s,e);while(++i<t)e(i);return n}function Xd(t){return lu(t)?Si(t,Io):Bu(t)?[t]:sa(Eo(Xu(t)))}function tp(t){var e=++de;return Xu(t)+e}var ep=wa((function(t,e){return t+e}),0),ip=Sa("ceil"),sp=wa((function(t,e){return t/e}),1),np=Sa("floor");function rp(t){return t&&t.length?xn(t,Ed,Rn):r}function ap(t,e){return t&&t.length?xn(t,qa(e,2),Rn):r}function op(t){return Fi(t,Ed)}function lp(t,e){return Fi(t,qa(e,2))}function cp(t){return t&&t.length?xn(t,Ed,nr):r}function up(t,e){return t&&t.length?xn(t,qa(e,2),nr):r}var hp=wa((function(t,e){return t*e}),1),dp=Sa("round"),pp=wa((function(t,e){return t-e}),0);function mp(t){return t&&t.length?Vi(t,Ed):0}function fp(t,e){return t&&t.length?Vi(t,qa(e,2)):0}return ws.after=Mc,ws.ary=Ec,ws.assign=th,ws.assignIn=eh,ws.assignInWith=ih,ws.assignWith=sh,ws.at=nh,ws.before=Ic,ws.bind=Lc,ws.bindAll=Cd,ws.bindKey=Nc,ws.castArray=Zc,ws.chain=Vl,ws.chunk=Oo,ws.compact=$o,ws.concat=Ro,ws.cond=Td,ws.conforms=xd,ws.constant=Ad,ws.countBy=ic,ws.create=rh,ws.curry=Dc,ws.curryRight=Oc,ws.debounce=$c,ws.defaults=ah,ws.defaultsDeep=oh,ws.defer=Rc,ws.delay=jc,ws.difference=jo,ws.differenceBy=Bo,ws.differenceWith=Fo,ws.drop=Uo,ws.dropRight=zo,ws.dropRightWhile=qo,ws.dropWhile=Ho,ws.fill=Vo,ws.filter=nc,ws.flatMap=oc,ws.flatMapDeep=lc,ws.flatMapDepth=cc,ws.flatten=Yo,ws.flattenDeep=Qo,ws.flattenDepth=Jo,ws.flip=Bc,ws.flow=Pd,ws.flowRight=Md,ws.fromPairs=Go,ws.functions=mh,ws.functionsIn=fh,ws.groupBy=dc,ws.initial=tl,ws.intersection=el,ws.intersectionBy=il,ws.intersectionWith=sl,ws.invert=bh,ws.invertBy=wh,ws.invokeMap=mc,ws.iteratee=Id,ws.keyBy=fc,ws.keys=_h,ws.keysIn=Ch,ws.map=gc,ws.mapKeys=Th,ws.mapValues=xh,ws.matches=Ld,ws.matchesProperty=Nd,ws.memoize=Fc,ws.merge=Ah,ws.mergeWith=Sh,ws.method=Dd,ws.methodOf=Od,ws.mixin=$d,ws.negate=Uc,ws.nthArg=Bd,ws.omit=Ph,ws.omitBy=Mh,ws.once=zc,ws.orderBy=vc,ws.over=Fd,ws.overArgs=qc,ws.overEvery=Ud,ws.overSome=zd,ws.partial=Hc,ws.partialRight=Vc,ws.partition=yc,ws.pick=Eh,ws.pickBy=Ih,ws.property=qd,ws.propertyOf=Hd,ws.pull=ll,ws.pullAll=cl,ws.pullAllBy=ul,ws.pullAllWith=hl,ws.pullAt=dl,ws.range=Vd,ws.rangeRight=Wd,ws.rearg=Wc,ws.reject=kc,ws.remove=pl,ws.rest=Kc,ws.reverse=ml,ws.sampleSize=Cc,ws.set=Nh,ws.setWith=Dh,ws.shuffle=Tc,ws.slice=fl,ws.sortBy=Sc,ws.sortedUniq=_l,ws.sortedUniqBy=Cl,ws.split=ld,ws.spread=Yc,ws.tail=Tl,ws.take=xl,ws.takeRight=Al,ws.takeRightWhile=Sl,ws.takeWhile=Pl,ws.tap=Wl,ws.throttle=Qc,ws.thru=Kl,ws.toArray=Wu,ws.toPairs=Oh,ws.toPairsIn=$h,ws.toPath=Xd,ws.toPlainObject=Gu,ws.transform=Rh,ws.unary=Jc,ws.union=Ml,ws.unionBy=El,ws.unionWith=Il,ws.uniq=Ll,ws.uniqBy=Nl,ws.uniqWith=Dl,ws.unset=jh,ws.unzip=Ol,ws.unzipWith=$l,ws.update=Bh,ws.updateWith=Fh,ws.values=Uh,ws.valuesIn=zh,ws.without=Rl,ws.words=kd,ws.wrap=Gc,ws.xor=jl,ws.xorBy=Bl,ws.xorWith=Fl,ws.zip=Ul,ws.zipObject=zl,ws.zipObjectDeep=ql,ws.zipWith=Hl,ws.entries=Oh,ws.entriesIn=$h,ws.extend=eh,ws.extendWith=ih,$d(ws,ws),ws.add=ep,ws.attempt=_d,ws.camelCase=Wh,ws.capitalize=Kh,ws.ceil=ip,ws.clamp=qh,ws.clone=Xc,ws.cloneDeep=eu,ws.cloneDeepWith=iu,ws.cloneWith=tu,ws.conformsTo=su,ws.deburr=Yh,ws.defaultTo=Sd,ws.divide=sp,ws.endsWith=Qh,ws.eq=nu,ws.escape=Jh,ws.escapeRegExp=Gh,ws.every=sc,ws.find=rc,ws.findIndex=Wo,ws.findKey=lh,ws.findLast=ac,ws.findLastIndex=Ko,ws.findLastKey=ch,ws.floor=np,ws.forEach=uc,ws.forEachRight=hc,ws.forIn=uh,ws.forInRight=hh,ws.forOwn=dh,ws.forOwnRight=ph,ws.get=gh,ws.gt=ru,ws.gte=au,ws.has=vh,ws.hasIn=yh,ws.head=Zo,ws.identity=Ed,ws.includes=pc,ws.indexOf=Xo,ws.inRange=Hh,ws.invoke=kh,ws.isArguments=ou,ws.isArray=lu,ws.isArrayBuffer=cu,ws.isArrayLike=uu,ws.isArrayLikeObject=hu,ws.isBoolean=du,ws.isBuffer=pu,ws.isDate=mu,ws.isElement=fu,ws.isEmpty=gu,ws.isEqual=vu,ws.isEqualWith=yu,ws.isError=bu,ws.isFinite=wu,ws.isFunction=ku,ws.isInteger=_u,ws.isLength=Cu,ws.isMap=Au,ws.isMatch=Su,ws.isMatchWith=Pu,ws.isNaN=Mu,ws.isNative=Eu,ws.isNil=Lu,ws.isNull=Iu,ws.isNumber=Nu,ws.isObject=Tu,ws.isObjectLike=xu,ws.isPlainObject=Du,ws.isRegExp=Ou,ws.isSafeInteger=$u,ws.isSet=Ru,ws.isString=ju,ws.isSymbol=Bu,ws.isTypedArray=Fu,ws.isUndefined=Uu,ws.isWeakMap=zu,ws.isWeakSet=qu,ws.join=nl,ws.kebabCase=Zh,ws.last=rl,ws.lastIndexOf=al,ws.lowerCase=Xh,ws.lowerFirst=td,ws.lt=Hu,ws.lte=Vu,ws.max=rp,ws.maxBy=ap,ws.mean=op,ws.meanBy=lp,ws.min=cp,ws.minBy=up,ws.stubArray=Kd,ws.stubFalse=Yd,ws.stubObject=Qd,ws.stubString=Jd,ws.stubTrue=Gd,ws.multiply=hp,ws.nth=ol,ws.noConflict=Rd,ws.noop=jd,ws.now=Pc,ws.pad=ed,ws.padEnd=id,ws.padStart=sd,ws.parseInt=nd,ws.random=Vh,ws.reduce=bc,ws.reduceRight=wc,ws.repeat=rd,ws.replace=ad,ws.result=Lh,ws.round=dp,ws.runInContext=t,ws.sample=_c,ws.size=xc,ws.snakeCase=od,ws.some=Ac,ws.sortedIndex=gl,ws.sortedIndexBy=vl,ws.sortedIndexOf=yl,ws.sortedLastIndex=bl,ws.sortedLastIndexBy=wl,ws.sortedLastIndexOf=kl,ws.startCase=cd,ws.startsWith=ud,ws.subtract=pp,ws.sum=mp,ws.sumBy=fp,ws.template=hd,ws.times=Zd,ws.toFinite=Ku,ws.toInteger=Yu,ws.toLength=Qu,ws.toLower=dd,ws.toNumber=Ju,ws.toSafeInteger=Zu,ws.toString=Xu,ws.toUpper=pd,ws.trim=md,ws.trimEnd=fd,ws.trimStart=gd,ws.truncate=vd,ws.unescape=yd,ws.uniqueId=tp,ws.upperCase=bd,ws.upperFirst=wd,ws.each=uc,ws.eachRight=hc,ws.first=Zo,$d(ws,function(){var t={};return In(ws,(function(e,i){he.call(ws.prototype,i)||(t[i]=e)})),t}(),{chain:!1}),ws.VERSION=a,ki(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){ws[t].placeholder=ws})),ki(["drop","take"],(function(t,e){As.prototype[t]=function(i){i=i===r?1:Fe(Yu(i),0);var s=this.__filtered__&&!e?new As(this):this.clone();return s.__filtered__?s.__takeCount__=Ue(i,s.__takeCount__):s.__views__.push({size:Ue(i,F),type:t+(s.__dir__<0?"Right":"")}),s},As.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ki(["filter","map","takeWhile"],(function(t,e){var i=e+1,s=i==N||i==O;As.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:qa(t,3),type:i}),e.__filtered__=e.__filtered__||s,e}})),ki(["head","last"],(function(t,e){var i="take"+(e?"Right":"");As.prototype[t]=function(){return this[i](1).value()[0]}})),ki(["initial","tail"],(function(t,e){var i="drop"+(e?"":"Right");As.prototype[t]=function(){return this.__filtered__?new As(this):this[i](1)}})),As.prototype.compact=function(){return this.filter(Ed)},As.prototype.find=function(t){return this.filter(t).head()},As.prototype.findLast=function(t){return this.reverse().find(t)},As.prototype.invokeMap=wr((function(t,e){return"function"==typeof t?new As(this):this.map((function(i){return qn(i,t,e)}))})),As.prototype.reject=function(t){return this.filter(Uc(qa(t)))},As.prototype.slice=function(t,e){t=Yu(t);var i=this;return i.__filtered__&&(t>0||e<0)?new As(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==r&&(e=Yu(e),i=e<0?i.dropRight(-e):i.take(e-t)),i)},As.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},As.prototype.toArray=function(){return this.take(F)},In(As.prototype,(function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),s=/^(?:head|last)$/.test(e),n=ws[s?"take"+("last"==e?"Right":""):e],a=s||/^find/.test(e);n&&(ws.prototype[e]=function(){var e=this.__wrapped__,o=s?[1]:arguments,l=e instanceof As,c=o[0],u=l||lu(e),h=function(t){var e=n.apply(ws,Pi([t],o));return s&&d?e[0]:e};u&&i&&"function"==typeof c&&1!=c.length&&(l=u=!1);var d=this.__chain__,p=!!this.__actions__.length,m=a&&!d,f=l&&!p;if(!a&&u){e=f?e:new As(this);var g=t.apply(e,o);return g.__actions__.push({func:Kl,args:[h],thisArg:r}),new xs(g,d)}return m&&f?t.apply(this,o):(g=this.thru(h),m?s?g.value()[0]:g.value():g)})})),ki(["pop","push","shift","sort","splice","unshift"],(function(t){var e=ae[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",s=/^(?:pop|shift)$/.test(t);ws.prototype[t]=function(){var t=arguments;if(s&&!this.__chain__){var n=this.value();return e.apply(lu(n)?n:[],t)}return this[i]((function(i){return e.apply(lu(i)?i:[],t)}))}})),In(As.prototype,(function(t,e){var i=ws[e];if(i){var s=i.name+"";he.call(li,s)||(li[s]=[]),li[s].push({name:e,func:i})}})),li[ya(r,w).name]=[{name:"wrapper",func:r}],As.prototype.clone=Ss,As.prototype.reverse=Ps,As.prototype.value=Ms,ws.prototype.at=Yl,ws.prototype.chain=Ql,ws.prototype.commit=Jl,ws.prototype.next=Gl,ws.prototype.plant=Xl,ws.prototype.reverse=tc,ws.prototype.toJSON=ws.prototype.valueOf=ws.prototype.value=ec,ws.prototype.first=ws.prototype.head,Se&&(ws.prototype[Se]=Zl),ws},Cs=_s();oi._=Cs,n=function(){return Cs}.call(e,i,e,s),n===r||(s.exports=n)}).call(this)}).call(this,i("c8ba"),i("62e4")(t))},"2f3a":function(t,e,i){const s=i("bbf0"),n=i("7bf0");function r(t){this.mode=s.KANJI,this.data=t}r.getBitsLength=function(t){return 13*t},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let i=n.toSJIS(this.data[e]);if(i>=33088&&i<=40956)i-=33088;else{if(!(i>=57408&&i<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");i-=49472}i=192*(i>>>8&255)+(255&i),t.put(i,13)}},t.exports=r},"2fb2":function(t,e,i){},3020:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cover",class:{"cover-hover":t.coverHover},on:{mouseover:function(e){t.focus=!0},mouseleave:function(e){t.focus=!1},click:function(e){t.clickCoverToPlay?t.play():t.goTo()}}},[i("div",{staticClass:"cover-container"},[i("div",{staticClass:"shade"},[i("button",{directives:[{name:"show",rawName:"v-show",value:t.focus,expression:"focus"}],staticClass:"play-button",style:t.playButtonStyles,on:{click:function(e){return e.stopPropagation(),t.play()}}},[i("svg-icon",{attrs:{"icon-class":"play"}})],1)]),i("img",{style:t.imageStyles,attrs:{src:t.imgUrl,loading:"lazy"}}),t.coverHover||t.alwaysShowShadow?i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.focus||t.alwaysShowShadow,expression:"focus || alwaysShowShadow"}],staticClass:"shadow",style:t.shadowStyles})]):t._e()],1)])},n=[],r={props:{id:{type:Number,required:!0},type:{type:String,required:!0},imgUrl:{type:String,required:!0},fixedSize:{type:Number,default:0},playButtonSize:{type:Number,default:22},coverHover:{type:Boolean,default:!0},alwaysShowPlayButton:{type:Boolean,default:!0},alwaysShowShadow:{type:Boolean,default:!1},clickCoverToPlay:{type:Boolean,default:!1},shadowMargin:{type:Number,default:12},radius:{type:Number,default:12}},data(){return{focus:!1}},computed:{imageStyles(){let t={};return 0!==this.fixedSize&&(t.width=this.fixedSize+"px",t.height=this.fixedSize+"px"),"artist"===this.type&&(t.borderRadius="50%"),t},playButtonStyles(){let t={};return t.width=this.playButtonSize+"%",t.height=this.playButtonSize+"%",t},shadowStyles(){let t={};return t.backgroundImage=`url(${this.imgUrl})`,"artist"===this.type&&(t.borderRadius="50%"),t}},methods:{play(){const t=this.$store.state.player,e={album:t.playAlbumByID,playlist:t.playPlaylistByID,artist:t.playArtistByID};e[this.type].bind(t)(this.id)},goTo(){this.$router.push({name:this.type,params:{id:this.id}})}}},a=r,o=(i("45d0"),i("2877")),l=Object(o["a"])(a,s,n,!1,null,"70007bd9",null);e["a"]=l.exports},"30cd":function(t,e,i){},3360:function(t,e,i){},"34fc":function(t,e,i){const s=i("7a43"),n=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case s.L:return n[4*(t-1)+0];case s.M:return n[4*(t-1)+1];case s.Q:return n[4*(t-1)+2];case s.H:return n[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case s.L:return r[4*(t-1)+0];case s.M:return r[4*(t-1)+1];case s.Q:return r[4*(t-1)+2];case s.H:return r[4*(t-1)+3];default:return}}},"35aa":function(t,e,i){"use strict";i("f1e5")},"37c1":function(t,e,i){},3835:function(t,e,i){},"38b7":function(t,e,i){},4006:function(t,e,i){const s=i("45be");function n(t,e){const i=t.a/255,s=e+'="'+t.hex+'"';return i<1?s+" "+e+'-opacity="'+i.toFixed(2).slice(1)+'"':s}function r(t,e,i){let s=t+e;return"undefined"!==typeof i&&(s+=" "+i),s}function a(t,e,i){let s="",n=0,a=!1,o=0;for(let l=0;l<t.length;l++){const c=Math.floor(l%e),u=Math.floor(l/e);c||a||(a=!0),t[l]?(o++,l>0&&c>0&&t[l-1]||(s+=a?r("M",c+i,.5+u+i):r("m",n,0),n=0,a=!1),c+1<e&&t[l+1]||(s+=r("h",o),o=0)):n++}return s}e.render=function(t,e,i){const r=s.getOptions(e),o=t.modules.size,l=t.modules.data,c=o+2*r.margin,u=r.color.light.a?"<path "+n(r.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",h="<path "+n(r.color.dark,"stroke")+' d="'+a(l,o,r.margin)+'"/>',d='viewBox="0 0 '+c+" "+c+'"',p=r.width?'width="'+r.width+'" height="'+r.width+'" ':"",m='<svg xmlns="http://www.w3.org/2000/svg" '+p+d+' shape-rendering="crispEdges">'+u+h+"</svg>\n";return"function"===typeof i&&i(null,m),m}},4146:function(t,e,i){const s=i("45be");function n(t,e,i){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=i,e.width=i,e.style.height=i+"px",e.style.width=i+"px"}function r(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}e.render=function(t,e,i){let a=i,o=e;"undefined"!==typeof a||e&&e.getContext||(a=e,e=void 0),e||(o=r()),a=s.getOptions(a);const l=s.getImageWidth(t.modules.size,a),c=o.getContext("2d"),u=c.createImageData(l,l);return s.qrToImageData(u.data,t,a),n(c,o,l),c.putImageData(u,0,0),o},e.renderToDataURL=function(t,i,s){let n=s;"undefined"!==typeof n||i&&i.getContext||(n=i,i=void 0),n||(n={});const r=e.render(t,i,n),a=n.type||"image/png",o=n.rendererOpts||{};return r.toDataURL(a,o.quality)}},"45be":function(t,e){function i(t){if("number"===typeof t&&(t=t.toString()),"string"!==typeof t)throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push("F","F");const i=parseInt(e.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:255&i,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});const e="undefined"===typeof t.margin||null===t.margin||t.margin<0?4:t.margin,s=t.width&&t.width>=21?t.width:void 0,n=t.scale||4;return{width:s,scale:s?4:n,margin:e,color:{dark:i(t.color.dark||"#000000ff"),light:i(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,i){const s=e.getScale(t,i);return Math.floor((t+2*i.margin)*s)},e.qrToImageData=function(t,i,s){const n=i.modules.size,r=i.modules.data,a=e.getScale(n,s),o=Math.floor((n+2*s.margin)*a),l=s.margin*a,c=[s.color.light,s.color.dark];for(let e=0;e<o;e++)for(let i=0;i<o;i++){let u=4*(e*o+i),h=s.color.light;if(e>=l&&i>=l&&e<o-l&&i<o-l){const t=Math.floor((e-l)/a),s=Math.floor((i-l)/a);h=c[r[t*n+s]?1:0]}t[u++]=h.r,t[u++]=h.g,t[u++]=h.b,t[u]=h.a}}},"45d0":function(t,e,i){"use strict";i("c2b0")},"4e22":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"search-page"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.artists.length>0||t.albums.length>0,expression:"artists.length > 0 || albums.length > 0"}],staticClass:"row"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.artists.length>0,expression:"artists.length > 0"}],staticClass:"artists"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.artists.length>0,expression:"artists.length > 0"}],staticClass:"section-title"},[t._v(t._s(t.$t("search.artist"))),i("router-link",{attrs:{to:"/search/"+t.keywords+"/artists"}},[t._v(t._s(t.$t("home.seeMore")))])],1),i("CoverRow",{attrs:{type:"artist","column-number":3,items:t.artists.slice(0,3),gap:"34px 24px"}})],1),i("div",{staticClass:"albums"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.albums.length>0,expression:"albums.length > 0"}],staticClass:"section-title"},[t._v(t._s(t.$t("search.album"))),i("router-link",{attrs:{to:"/search/"+t.keywords+"/albums"}},[t._v(t._s(t.$t("home.seeMore")))])],1),i("CoverRow",{attrs:{type:"album",items:t.albums.slice(0,3),"sub-text":"artist","column-number":3,"sub-text-font-size":"14px",gap:"34px 24px","play-button-size":26}})],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.tracks.length>0,expression:"tracks.length > 0"}],staticClass:"tracks"},[i("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.song"))),i("router-link",{attrs:{to:"/search/"+t.keywords+"/tracks"}},[t._v(t._s(t.$t("home.seeMore")))])],1),i("TrackList",{attrs:{tracks:t.tracks,type:"tracklist"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.musicVideos.length>0,expression:"musicVideos.length > 0"}],staticClass:"music-videos"},[i("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.mv"))),i("router-link",{attrs:{to:"/search/"+t.keywords+"/music-videos"}},[t._v(t._s(t.$t("home.seeMore")))])],1),i("MvRow",{attrs:{mvs:t.musicVideos.slice(0,5)}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.playlists.length>0,expression:"playlists.length > 0"}],staticClass:"playlists"},[i("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.playlist"))),i("router-link",{attrs:{to:"/search/"+t.keywords+"/playlists"}},[t._v(t._s(t.$t("home.seeMore")))])],1),i("CoverRow",{attrs:{type:"playlist",items:t.playlists.slice(0,12),"sub-text":"title","column-number":6,"sub-text-font-size":"14px",gap:"34px 24px","play-button-size":26}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.haveResult,expression:"!haveResult"}],staticClass:"no-results"},[i("div",[i("svg-icon",{attrs:{"icon-class":"search"}}),t._v(" "+t._s(0===t.keywords.length?"输入关键字搜索":t.$t("search.noResult")))],1)])])},n=[],r=i("2f62"),a=i("fefb"),o=i("dad3"),l=i("323e"),c=i.n(l),u=i("a1a1"),h=i("d4e3"),d=i("2726"),p={name:"Search",components:{TrackList:u["a"],MvRow:h["a"],CoverRow:d["a"]},data(){return{show:!1,tracks:[],artists:[],albums:[],playlists:[],musicVideos:[]}},computed:{keywords(){var t;return null!==(t=this.$route.params.keywords)&&void 0!==t?t:""},haveResult(){return this.tracks.length+this.artists.length+this.albums.length+this.playlists.length+this.musicVideos.length>0}},watch:{keywords:function(t){0!==t.length&&this.getData()}},created(){this.getData()},methods:{...Object(r["b"])(["showToast"]),playTrackInSearchResult(t){let e=this.tracks.find(e=>e.id===t);this.$store.state.player.appendTrackToPlayerList(e,!0)},search(t="all"){let e=this.showToast;const i={all:1018,musicVideos:1004,tracks:1,albums:10,artists:100,playlists:1e3};return Object(o["c"])({keywords:this.keywords,type:i[t],limit:16}).then(e=>({result:e.result,type:t})).catch(t=>{e(t.response.data.msg||t.response.data.message)})},getData(){setTimeout(()=>{this.show||c.a.start()},1e3),this.show=!1;const t=t=>{const e=this.keywords;Promise.all(t).then(t=>{e==this.keywords&&(t.map(t=>{var e,i,s,n,r;const a=t.type;if(void 0!==t.result)switch(t=t.result,a){case"all":this.result=t;break;case"musicVideos":this.musicVideos=null!==(e=t.mvs)&&void 0!==e?e:[];break;case"artists":this.artists=null!==(i=t.artists)&&void 0!==i?i:[];break;case"albums":this.albums=null!==(s=t.albums)&&void 0!==s?s:[];break;case"tracks":this.tracks=null!==(n=t.songs)&&void 0!==n?n:[],this.getTracksDetail();break;case"playlists":this.playlists=null!==(r=t.playlists)&&void 0!==r?r:[];break}}),c.a.done(),this.show=!0)})},e=[this.search("artists"),this.search("albums"),this.search("tracks")],i=[this.search("musicVideos"),this.search("playlists")];t(e),t(i)},getTracksDetail(){const t=this.tracks.map(t=>t.id);0!==t.length&&Object(a["c"])(t.join(",")).then(t=>{this.tracks=t.songs})}}},m=p,f=(i("9369"),i("2877")),g=Object(f["a"])(m,s,n,!1,null,"67ed526a",null);e["default"]=g.exports},"4fb8":function(t,e,i){(function(e){"object"==typeof navigator&&function(e,i){t.exports=i()}(0,(function(){"use strict";function t(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function i(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var a={addCSS:!0,thumbWidth:15,watch:!0};function o(t,e){return function(){return Array.from(document.querySelectorAll(e)).includes(this)}.call(t,e)}var l=function(t){return null!=t?t.constructor:null},c=function(t,e){return!!(t&&e&&t instanceof e)},u=function(t){return null==t},h=function(t){return l(t)===Object},d=function(t){return l(t)===String},p=function(t){return Array.isArray(t)},m=function(t){return c(t,NodeList)},f=d,g=p,v=m,y=function(t){return c(t,Element)},b=function(t){return c(t,Event)},w=function(t){return u(t)||(d(t)||p(t)||m(t))&&!t.length||h(t)&&!Object.keys(t).length};function k(t,e){if(1>e){var i=function(t){var e="".concat(t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}(e);return parseFloat(t.toFixed(i))}return Math.round(t/e)*e}var _=function(){function t(e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),y(e)?this.element=e:f(e)&&(this.element=document.querySelector(e)),y(this.element)&&w(this.element.rangeTouch)&&(this.config=r({},a,{},i),this.init())}return function(t,e,s){e&&i(t.prototype,e),s&&i(t,s)}(t,[{key:"init",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(t){var e=this,i=t?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(t){e.element[i](t,(function(t){return e.set(t)}),!1)}))}},{key:"get",value:function(e){if(!t.enabled||!b(e))return null;var i,s=e.target,n=e.changedTouches[0],r=parseFloat(s.getAttribute("min"))||0,a=parseFloat(s.getAttribute("max"))||100,o=parseFloat(s.getAttribute("step"))||1,l=s.getBoundingClientRect(),c=100/l.width*(this.config.thumbWidth/2)/100;return 0>(i=100/l.width*(n.clientX-l.left))?i=0:100<i&&(i=100),50>i?i-=(100-2*i)*c:50<i&&(i+=2*(i-50)*c),r+k(i/100*(a-r),o)}},{key:"set",value:function(e){t.enabled&&b(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),function(t,e){if(t&&e){var i=new Event(e,{bubbles:!0});t.dispatchEvent(i)}}(e.target,"touchend"===e.type?"change":"input"))}}],[{key:"setup",value:function(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=null;if(w(e)||f(e)?s=Array.from(document.querySelectorAll(f(e)?e:'input[type="range"]')):y(e)?s=[e]:v(e)?s=Array.from(e):g(e)&&(s=e.filter(y)),w(s))return null;var n=r({},a,{},i);if(f(e)&&n.watch){var l=new MutationObserver((function(i){Array.from(i).forEach((function(i){Array.from(i.addedNodes).forEach((function(i){y(i)&&o(i,e)&&new t(i,n)}))}))}));l.observe(document.body,{childList:!0,subtree:!0})}return s.map((function(e){return new t(e,i)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),t}();const C=t=>null!=t?t.constructor:null,T=(t,e)=>Boolean(t&&e&&t instanceof e),x=t=>null==t,A=t=>C(t)===Object,S=t=>C(t)===String,P=t=>C(t)===Function,M=t=>Array.isArray(t),E=t=>T(t,NodeList),I=t=>x(t)||(S(t)||M(t)||E(t))&&!t.length||A(t)&&!Object.keys(t).length;var L=x,N=A,D=t=>C(t)===Number&&!Number.isNaN(t),O=S,$=t=>C(t)===Boolean,R=P,j=M,B=E,F=t=>null!==t&&"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument,U=t=>T(t,Event),z=t=>T(t,KeyboardEvent),q=t=>T(t,TextTrack)||!x(t)&&S(t.kind),H=t=>T(t,Promise)&&P(t.then),V=t=>{if(T(t,window.URL))return!0;if(!S(t))return!1;let e=t;t.startsWith("http://")&&t.startsWith("https://")||(e="http://"+t);try{return!I(new URL(e).hostname)}catch(t){return!1}},W=I;const K=(()=>{const t=document.createElement("span"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i=Object.keys(e).find(e=>void 0!==t.style[e]);return!!O(i)&&e[i]})();function Y(t,e){setTimeout(()=>{try{t.hidden=!0,t.offsetHeight,t.hidden=!1}catch(t){}},e)}const Q={isIE:Boolean(window.document.documentMode),isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function J(t,e){return e.split(".").reduce((t,e)=>t&&t[e],t)}function G(t={},...e){if(!e.length)return t;const i=e.shift();return N(i)?(Object.keys(i).forEach(e=>{N(i[e])?(Object.keys(t).includes(e)||Object.assign(t,{[e]:{}}),G(t[e],i[e])):Object.assign(t,{[e]:i[e]})}),G(t,...e)):t}function Z(t,e){const i=t.length?t:[t];Array.from(i).reverse().forEach((t,i)=>{const s=i>0?e.cloneNode(!0):e,n=t.parentNode,r=t.nextSibling;s.appendChild(t),r?n.insertBefore(s,r):n.appendChild(s)})}function X(t,e){F(t)&&!W(e)&&Object.entries(e).filter(([,t])=>!L(t)).forEach(([e,i])=>t.setAttribute(e,i))}function tt(t,e,i){const s=document.createElement(t);return N(e)&&X(s,e),O(i)&&(s.innerText=i),s}function et(t,e,i,s){F(e)&&e.appendChild(tt(t,i,s))}function it(t){B(t)||j(t)?Array.from(t).forEach(it):F(t)&&F(t.parentNode)&&t.parentNode.removeChild(t)}function st(t){if(!F(t))return;let{length:e}=t.childNodes;for(;e>0;)t.removeChild(t.lastChild),e-=1}function nt(t,e){return F(e)&&F(e.parentNode)&&F(t)?(e.parentNode.replaceChild(t,e),t):null}function rt(t,e){if(!O(t)||W(t))return{};const i={},s=G({},e);return t.split(",").forEach(t=>{const e=t.trim(),n=e.replace(".",""),r=e.replace(/[[\]]/g,"").split("="),[a]=r,o=r.length>1?r[1].replace(/["']/g,""):"";switch(e.charAt(0)){case".":O(s.class)?i.class=`${s.class} ${n}`:i.class=n;break;case"#":i.id=e.replace("#","");break;case"[":i[a]=o}}),G(s,i)}function at(t,e){if(!F(t))return;let i=e;$(i)||(i=!t.hidden),t.hidden=i}function ot(t,e,i){if(B(t))return Array.from(t).map(t=>ot(t,e,i));if(F(t)){let s="toggle";return void 0!==i&&(s=i?"add":"remove"),t.classList[s](e),t.classList.contains(e)}return!1}function lt(t,e){return F(t)&&t.classList.contains(e)}function ct(t,e){const{prototype:i}=Element;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(){return Array.from(document.querySelectorAll(e)).includes(this)}).call(t,e)}function ut(t){return this.elements.container.querySelectorAll(t)}function ht(t){return this.elements.container.querySelector(t)}function dt(t=null,e=!1){F(t)&&(t.focus({preventScroll:!0}),e&&ot(t,this.config.classNames.tabFocus))}const pt={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},mt={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(t,e,i){const s=Q.isIPhone&&i&&mt.playsinline,n=mt[t]||"html5"!==e;return{api:n,ui:n&&mt.rangeInput&&("video"!==t||!Q.isIPhone||s)}},pip:!(Q.isIPhone||!R(tt("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||tt("video").disablePictureInPicture)),airplay:R(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(t){if(W(t))return!1;const[e]=t.split("/");let i=t;if(!this.isHTML5||e!==this.type)return!1;Object.keys(pt).includes(i)&&(i+=`; codecs="${pt[t]}"`);try{return Boolean(i&&this.media.canPlayType(i).replace(/no/,""))}catch(t){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const t=document.createElement("input");return t.type="range","range"===t.type})(),touch:"ontouchstart"in document.documentElement,transitions:!1!==K,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},ft=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get:()=>(t=!0,null)});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(t){}return t})();function gt(t,e,i,s=!1,n=!0,r=!1){if(!t||!("addEventListener"in t)||W(e)||!R(i))return;const a=e.split(" ");let o=r;ft&&(o={passive:n,capture:r}),a.forEach(e=>{this&&this.eventListeners&&s&&this.eventListeners.push({element:t,type:e,callback:i,options:o}),t[s?"addEventListener":"removeEventListener"](e,i,o)})}function vt(t,e="",i,s=!0,n=!1){gt.call(this,t,e,i,!0,s,n)}function yt(t,e="",i,s=!0,n=!1){gt.call(this,t,e,i,!1,s,n)}function bt(t,e="",i,s=!0,n=!1){const r=(...a)=>{yt(t,e,r,s,n),i.apply(this,a)};gt.call(this,t,e,r,!0,s,n)}function wt(t,e="",i=!1,s={}){if(!F(t)||W(e))return;const n=new CustomEvent(e,{bubbles:i,detail:{...s,plyr:this}});t.dispatchEvent(n)}function kt(){this&&this.eventListeners&&(this.eventListeners.forEach(t=>{const{element:e,type:i,callback:s,options:n}=t;e.removeEventListener(i,s,n)}),this.eventListeners=[])}function _t(){return new Promise(t=>this.ready?setTimeout(t,0):vt.call(this,this.elements.container,"ready",t)).then(()=>{})}function Ct(t){H(t)&&t.then(null,()=>{})}function Tt(t){return j(t)?t.filter((e,i)=>t.indexOf(e)===i):t}function xt(t,e){return j(t)&&t.length?t.reduce((t,i)=>Math.abs(i-e)<Math.abs(t-e)?i:t):null}function At(t){return!(!window||!window.CSS)&&window.CSS.supports(t)}const St=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((t,[e,i])=>({...t,[e/i]:[e,i]}),{});function Pt(t){return!!(j(t)||O(t)&&t.includes(":"))&&(j(t)?t:t.split(":")).map(Number).every(D)}function Mt(t){if(!j(t)||!t.every(D))return null;const[e,i]=t,s=(t,e)=>0===e?t:s(e,t%e),n=s(e,i);return[e/n,i/n]}function Et(t){const e=t=>Pt(t)?t.split(":").map(Number):null;let i=e(t);if(null===i&&(i=e(this.config.ratio)),null===i&&!W(this.embed)&&j(this.embed.ratio)&&({ratio:i}=this.embed),null===i&&this.isHTML5){const{videoWidth:t,videoHeight:e}=this.media;i=[t,e]}return Mt(i)}function It(t){if(!this.isVideo)return{};const{wrapper:e}=this.elements,i=Et.call(this,t);if(!j(i))return{};const[s,n]=Mt(i),r=100/s*n;if(At(`aspect-ratio: ${s}/${n}`)?e.style.aspectRatio=`${s}/${n}`:e.style.paddingBottom=r+"%",this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const t=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),i=(t-r)/(t/50);this.fullscreen.active?e.style.paddingBottom=null:this.media.style.transform=`translateY(-${i}%)`}else this.isHTML5&&e.classList.add(this.config.classNames.videoFixedRatio);return{padding:r,ratio:i}}function Lt(t,e,i=.05){const s=t/e,n=xt(Object.keys(St),s);return Math.abs(n-s)<=i?St[n]:[t,e]}const Nt={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(t=>{const e=t.getAttribute("type");return!!W(e)||mt.mime.call(this,e)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:Nt.getSources.call(this).map(t=>Number(t.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const t=this;t.options.speed=t.config.speed.options,W(this.config.ratio)||It.call(t),Object.defineProperty(t.media,"quality",{get(){const e=Nt.getSources.call(t).find(e=>e.getAttribute("src")===t.source);return e&&Number(e.getAttribute("size"))},set(e){if(t.quality!==e){if(t.config.quality.forced&&R(t.config.quality.onChange))t.config.quality.onChange(e);else{const i=Nt.getSources.call(t).find(t=>Number(t.getAttribute("size"))===e);if(!i)return;const{currentTime:s,paused:n,preload:r,readyState:a,playbackRate:o}=t.media;t.media.src=i.getAttribute("src"),("none"!==r||a)&&(t.once("loadedmetadata",()=>{t.speed=o,t.currentTime=s,n||Ct(t.play())}),t.media.load())}wt.call(t,t.media,"qualitychange",!1,{quality:e})}}})},cancelRequests(){this.isHTML5&&(it(Nt.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function Dt(t,...e){return W(t)?t:t.toString().replace(/{(\d+)}/g,(t,i)=>e[i].toString())}const Ot=(t="",e="",i="")=>t.replace(new RegExp(e.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),i.toString()),$t=(t="")=>t.toString().replace(/\w\S*/g,t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase());function Rt(t=""){let e=t.toString();return e=function(t=""){let e=t.toString();return e=Ot(e,"-"," "),e=Ot(e,"_"," "),e=$t(e),Ot(e," ","")}(e),e.charAt(0).toLowerCase()+e.slice(1)}function jt(t){const e=document.createElement("div");return e.appendChild(t),e.innerHTML}const Bt={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Ft={get(t="",e={}){if(W(t)||W(e))return"";let i=J(e.i18n,t);if(W(i))return Object.keys(Bt).includes(t)?Bt[t]:"";const s={"{seektime}":e.seekTime,"{title}":e.title};return Object.entries(s).forEach(([t,e])=>{i=Ot(i,t,e)}),i}};class Ut{constructor(e){t(this,"get",t=>{if(!Ut.supported||!this.enabled)return null;const e=window.localStorage.getItem(this.key);if(W(e))return null;const i=JSON.parse(e);return O(t)&&t.length?i[t]:i}),t(this,"set",t=>{if(!Ut.supported||!this.enabled)return;if(!N(t))return;let e=this.get();W(e)&&(e={}),G(e,t);try{window.localStorage.setItem(this.key,JSON.stringify(e))}catch(t){}}),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const t="___test";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(t){return!1}}}function zt(t,e="text"){return new Promise((i,s)=>{try{const s=new XMLHttpRequest;if(!("withCredentials"in s))return;s.addEventListener("load",()=>{if("text"===e)try{i(JSON.parse(s.responseText))}catch(t){i(s.responseText)}else i(s.response)}),s.addEventListener("error",()=>{throw new Error(s.status)}),s.open("GET",t,!0),s.responseType=e,s.send()}catch(t){s(t)}})}function qt(t,e){if(!O(t))return;const i=O(e);let s=!1;const n=()=>null!==document.getElementById(e),r=(t,e)=>{t.innerHTML=e,i&&n()||document.body.insertAdjacentElement("afterbegin",t)};if(!i||!n()){const n=Ut.supported,a=document.createElement("div");if(a.setAttribute("hidden",""),i&&a.setAttribute("id",e),n){const t=window.localStorage.getItem("cache-"+e);if(s=null!==t,s){const e=JSON.parse(t);r(a,e.content)}}zt(t).then(t=>{if(!W(t)){if(n)try{window.localStorage.setItem("cache-"+e,JSON.stringify({content:t}))}catch(t){}r(a,t)}}).catch(()=>{})}}const Ht=t=>Math.trunc(t/60/60%60,10);function Vt(t=0,e=!1,i=!1){if(!D(t))return Vt(void 0,e,i);const s=t=>("0"+t).slice(-2);let n=Ht(t);const r=(a=t,Math.trunc(a/60%60,10));var a;const o=(t=>Math.trunc(t%60,10))(t);return n=e||n>0?n+":":"",`${i&&t>0?"-":""}${n}${s(r)}:${s(o)}`}const Wt={getIconUrl(){const t=new URL(this.config.iconUrl,window.location),e=window.location.host?window.location.host:window.top.location.host,i=t.host!==e||Q.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:i}},findElements(){try{return this.elements.controls=ht.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:ut.call(this,this.config.selectors.buttons.play),pause:ht.call(this,this.config.selectors.buttons.pause),restart:ht.call(this,this.config.selectors.buttons.restart),rewind:ht.call(this,this.config.selectors.buttons.rewind),fastForward:ht.call(this,this.config.selectors.buttons.fastForward),mute:ht.call(this,this.config.selectors.buttons.mute),pip:ht.call(this,this.config.selectors.buttons.pip),airplay:ht.call(this,this.config.selectors.buttons.airplay),settings:ht.call(this,this.config.selectors.buttons.settings),captions:ht.call(this,this.config.selectors.buttons.captions),fullscreen:ht.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=ht.call(this,this.config.selectors.progress),this.elements.inputs={seek:ht.call(this,this.config.selectors.inputs.seek),volume:ht.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:ht.call(this,this.config.selectors.display.buffer),currentTime:ht.call(this,this.config.selectors.display.currentTime),duration:ht.call(this,this.config.selectors.display.duration)},F(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector("."+this.config.classNames.tooltip)),!0}catch(t){return this.debug.warn("It looks like there is a problem with your custom controls HTML",t),this.toggleNativeControls(!0),!1}},createIcon(t,e){const i="http://www.w3.org/2000/svg",s=Wt.getIconUrl.call(this),n=`${s.cors?"":s.url}#${this.config.iconPrefix}`,r=document.createElementNS(i,"svg");X(r,G(e,{"aria-hidden":"true",focusable:"false"}));const a=document.createElementNS(i,"use"),o=`${n}-${t}`;return"href"in a&&a.setAttributeNS("http://www.w3.org/1999/xlink","href",o),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o),r.appendChild(a),r},createLabel(t,e={}){const i=Ft.get(t,this.config);return tt("span",{...e,class:[e.class,this.config.classNames.hidden].filter(Boolean).join(" ")},i)},createBadge(t){if(W(t))return null;const e=tt("span",{class:this.config.classNames.menu.value});return e.appendChild(tt("span",{class:this.config.classNames.menu.badge},t)),e},createButton(t,e){const i=G({},e);let s=Rt(t);const n={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(t=>{Object.keys(i).includes(t)&&(n[t]=i[t],delete i[t])}),"button"!==n.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some(t=>t===this.config.classNames.control)||G(i,{class:`${i.class} ${this.config.classNames.control}`}):i.class=this.config.classNames.control,t){case"play":n.toggle=!0,n.label="play",n.labelPressed="pause",n.icon="play",n.iconPressed="pause";break;case"mute":n.toggle=!0,n.label="mute",n.labelPressed="unmute",n.icon="volume",n.iconPressed="muted";break;case"captions":n.toggle=!0,n.label="enableCaptions",n.labelPressed="disableCaptions",n.icon="captions-off",n.iconPressed="captions-on";break;case"fullscreen":n.toggle=!0,n.label="enterFullscreen",n.labelPressed="exitFullscreen",n.icon="enter-fullscreen",n.iconPressed="exit-fullscreen";break;case"play-large":i.class+=` ${this.config.classNames.control}--overlaid`,s="play",n.label="play",n.icon="play";break;default:W(n.label)&&(n.label=s),W(n.icon)&&(n.icon=t)}const r=tt(n.element);return n.toggle?(r.appendChild(Wt.createIcon.call(this,n.iconPressed,{class:"icon--pressed"})),r.appendChild(Wt.createIcon.call(this,n.icon,{class:"icon--not-pressed"})),r.appendChild(Wt.createLabel.call(this,n.labelPressed,{class:"label--pressed"})),r.appendChild(Wt.createLabel.call(this,n.label,{class:"label--not-pressed"}))):(r.appendChild(Wt.createIcon.call(this,n.icon)),r.appendChild(Wt.createLabel.call(this,n.label))),G(i,rt(this.config.selectors.buttons[s],i)),X(r,i),"play"===s?(j(this.elements.buttons[s])||(this.elements.buttons[s]=[]),this.elements.buttons[s].push(r)):this.elements.buttons[s]=r,r},createRange(t,e){const i=tt("input",G(rt(this.config.selectors.inputs[t]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Ft.get(t,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},e));return this.elements.inputs[t]=i,Wt.updateRangeFill.call(this,i),_.setup(i),i},createProgress(t,e){const i=tt("progress",G(rt(this.config.selectors.display[t]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},e));if("volume"!==t){i.appendChild(tt("span",null,"0"));const e={played:"played",buffer:"buffered"}[t],s=e?Ft.get(e,this.config):"";i.innerText="% "+s.toLowerCase()}return this.elements.display[t]=i,i},createTime(t,e){const i=rt(this.config.selectors.display[t],e),s=tt("div",G(i,{class:`${i.class?i.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":Ft.get(t,this.config)}),"00:00");return this.elements.display[t]=s,s},bindMenuItemShortcuts(t,e){vt.call(this,t,"keydown keyup",i=>{if(!["Space","ArrowUp","ArrowDown","ArrowRight"].includes(i.key))return;if(i.preventDefault(),i.stopPropagation(),"keydown"===i.type)return;const s=ct(t,'[role="menuitemradio"]');if(!s&&["Space","ArrowRight"].includes(i.key))Wt.showMenuPanel.call(this,e,!0);else{let e;"Space"!==i.key&&("ArrowDown"===i.key||s&&"ArrowRight"===i.key?(e=t.nextElementSibling,F(e)||(e=t.parentNode.firstElementChild)):(e=t.previousElementSibling,F(e)||(e=t.parentNode.lastElementChild)),dt.call(this,e,!0))}},!1),vt.call(this,t,"keyup",t=>{"Return"===t.key&&Wt.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:t,list:e,type:i,title:s,badge:n=null,checked:r=!1}){const a=rt(this.config.selectors.inputs[i]),o=tt("button",G(a,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${a.class?a.class:""}`.trim(),"aria-checked":r,value:t})),l=tt("span");l.innerHTML=s,F(n)&&l.appendChild(n),o.appendChild(l),Object.defineProperty(o,"checked",{enumerable:!0,get:()=>"true"===o.getAttribute("aria-checked"),set(t){t&&Array.from(o.parentNode.children).filter(t=>ct(t,'[role="menuitemradio"]')).forEach(t=>t.setAttribute("aria-checked","false")),o.setAttribute("aria-checked",t?"true":"false")}}),this.listeners.bind(o,"click keyup",e=>{if(!z(e)||"Space"===e.key){switch(e.preventDefault(),e.stopPropagation(),o.checked=!0,i){case"language":this.currentTrack=Number(t);break;case"quality":this.quality=t;break;case"speed":this.speed=parseFloat(t)}Wt.showMenuPanel.call(this,"home",z(e))}},i,!1),Wt.bindMenuItemShortcuts.call(this,o,i),e.appendChild(o)},formatTime(t=0,e=!1){return D(t)?Vt(t,Ht(this.duration)>0,e):t},updateTimeDisplay(t=null,e=0,i=!1){F(t)&&D(e)&&(t.innerText=Wt.formatTime(e,i))},updateVolume(){this.supported.ui&&(F(this.elements.inputs.volume)&&Wt.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),F(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange(t,e=0){F(t)&&(t.value=e,Wt.updateRangeFill.call(this,t))},updateProgress(t){if(!this.supported.ui||!U(t))return;let e=0;const i=(t,e)=>{const i=D(e)?e:0,s=F(t)?t:this.elements.display.buffer;if(F(s)){s.value=i;const t=s.getElementsByTagName("span")[0];F(t)&&(t.childNodes[0].nodeValue=i)}};if(t)switch(t.type){case"timeupdate":case"seeking":case"seeked":s=this.currentTime,n=this.duration,e=0===s||0===n||Number.isNaN(s)||Number.isNaN(n)?0:(s/n*100).toFixed(2),"timeupdate"===t.type&&Wt.setRange.call(this,this.elements.inputs.seek,e);break;case"playing":case"progress":i(this.elements.display.buffer,100*this.buffered)}var s,n},updateRangeFill(t){const e=U(t)?t.target:t;if(F(e)&&"range"===e.getAttribute("type")){if(ct(e,this.config.selectors.inputs.seek)){e.setAttribute("aria-valuenow",this.currentTime);const t=Wt.formatTime(this.currentTime),i=Wt.formatTime(this.duration),s=Ft.get("seekLabel",this.config);e.setAttribute("aria-valuetext",s.replace("{currentTime}",t).replace("{duration}",i))}else if(ct(e,this.config.selectors.inputs.volume)){const t=100*e.value;e.setAttribute("aria-valuenow",t),e.setAttribute("aria-valuetext",t.toFixed(1)+"%")}else e.setAttribute("aria-valuenow",e.value);Q.isWebkit&&e.style.setProperty("--value",e.value/e.max*100+"%")}},updateSeekTooltip(t){var e,i;if(!this.config.tooltips.seek||!F(this.elements.inputs.seek)||!F(this.elements.display.seekTooltip)||0===this.duration)return;const s=this.elements.display.seekTooltip,n=this.config.classNames.tooltip+"--visible",r=t=>ot(s,n,t);if(this.touch)return void r(!1);let a=0;const o=this.elements.progress.getBoundingClientRect();if(U(t))a=100/o.width*(t.pageX-o.left);else{if(!lt(s,n))return;a=parseFloat(s.style.left,10)}a<0?a=0:a>100&&(a=100);const l=this.duration/100*a;s.innerText=Wt.formatTime(l);const c=null===(e=this.config.markers)||void 0===e||null===(i=e.points)||void 0===i?void 0:i.find(({time:t})=>t===Math.round(l));c&&s.insertAdjacentHTML("afterbegin",c.label+"<br>"),s.style.left=a+"%",U(t)&&["mouseenter","mouseleave"].includes(t.type)&&r("mouseenter"===t.type)},timeUpdate(t){const e=!F(this.elements.display.duration)&&this.config.invertTime;Wt.updateTimeDisplay.call(this,this.elements.display.currentTime,e?this.duration-this.currentTime:this.currentTime,e),t&&"timeupdate"===t.type&&this.media.seeking||Wt.updateProgress.call(this,t)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return at(this.elements.display.currentTime,!0),void at(this.elements.progress,!0);F(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const t=F(this.elements.display.duration);!t&&this.config.displayDuration&&this.paused&&Wt.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),t&&Wt.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&Wt.setMarkers.call(this),Wt.updateSeekTooltip.call(this)},toggleMenuButton(t,e){at(this.elements.settings.buttons[t],!e)},updateSetting(t,e,i){const s=this.elements.settings.panels[t];let n=null,r=e;if("captions"===t)n=this.currentTrack;else{if(n=W(i)?this[t]:i,W(n)&&(n=this.config[t].default),!W(this.options[t])&&!this.options[t].includes(n))return void this.debug.warn(`Unsupported value of '${n}' for ${t}`);if(!this.config[t].options.includes(n))return void this.debug.warn(`Disabled value of '${n}' for ${t}`)}if(F(r)||(r=s&&s.querySelector('[role="menu"]')),!F(r))return;this.elements.settings.buttons[t].querySelector("."+this.config.classNames.menu.value).innerHTML=Wt.getLabel.call(this,t,n);const a=r&&r.querySelector(`[value="${n}"]`);F(a)&&(a.checked=!0)},getLabel(t,e){switch(t){case"speed":return 1===e?Ft.get("normal",this.config):e+"&times;";case"quality":if(D(e)){const t=Ft.get("qualityLabel."+e,this.config);return t.length?t:e+"p"}return $t(e);case"captions":return Qt.getLabel.call(this);default:return null}},setQualityMenu(t){if(!F(this.elements.settings.panels.quality))return;const e="quality",i=this.elements.settings.panels.quality.querySelector('[role="menu"]');j(t)&&(this.options.quality=Tt(t).filter(t=>this.config.quality.options.includes(t)));const s=!W(this.options.quality)&&this.options.quality.length>1;if(Wt.toggleMenuButton.call(this,e,s),st(i),Wt.checkMenu.call(this),!s)return;const n=t=>{const e=Ft.get("qualityBadge."+t,this.config);return e.length?Wt.createBadge.call(this,e):null};this.options.quality.sort((t,e)=>{const i=this.config.quality.options;return i.indexOf(t)>i.indexOf(e)?1:-1}).forEach(t=>{Wt.createMenuItem.call(this,{value:t,list:i,type:e,title:Wt.getLabel.call(this,"quality",t),badge:n(t)})}),Wt.updateSetting.call(this,e,i)},setCaptionsMenu(){if(!F(this.elements.settings.panels.captions))return;const t="captions",e=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i=Qt.getTracks.call(this),s=Boolean(i.length);if(Wt.toggleMenuButton.call(this,t,s),st(e),Wt.checkMenu.call(this),!s)return;const n=i.map((t,i)=>({value:i,checked:this.captions.toggled&&this.currentTrack===i,title:Qt.getLabel.call(this,t),badge:t.language&&Wt.createBadge.call(this,t.language.toUpperCase()),list:e,type:"language"}));n.unshift({value:-1,checked:!this.captions.toggled,title:Ft.get("disabled",this.config),list:e,type:"language"}),n.forEach(Wt.createMenuItem.bind(this)),Wt.updateSetting.call(this,t,e)},setSpeedMenu(){if(!F(this.elements.settings.panels.speed))return;const t="speed",e=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(t=>t>=this.minimumSpeed&&t<=this.maximumSpeed);const i=!W(this.options.speed)&&this.options.speed.length>1;Wt.toggleMenuButton.call(this,t,i),st(e),Wt.checkMenu.call(this),i&&(this.options.speed.forEach(i=>{Wt.createMenuItem.call(this,{value:i,list:e,type:t,title:Wt.getLabel.call(this,"speed",i)})}),Wt.updateSetting.call(this,t,e))},checkMenu(){const{buttons:t}=this.elements.settings,e=!W(t)&&Object.values(t).some(t=>!t.hidden);at(this.elements.settings.menu,!e)},focusFirstMenuItem(t,e=!1){if(this.elements.settings.popup.hidden)return;let i=t;F(i)||(i=Object.values(this.elements.settings.panels).find(t=>!t.hidden));const s=i.querySelector('[role^="menuitem"]');dt.call(this,s,e)},toggleMenu(t){const{popup:e}=this.elements.settings,i=this.elements.buttons.settings;if(!F(e)||!F(i))return;const{hidden:s}=e;let n=s;if($(t))n=t;else if(z(t)&&"Escape"===t.key)n=!1;else if(U(t)){const s=R(t.composedPath)?t.composedPath()[0]:t.target,r=e.contains(s);if(r||!r&&t.target!==i&&n)return}i.setAttribute("aria-expanded",n),at(e,!n),ot(this.elements.container,this.config.classNames.menu.open,n),n&&z(t)?Wt.focusFirstMenuItem.call(this,null,!0):n||s||dt.call(this,i,z(t))},getMenuSize(t){const e=t.cloneNode(!0);e.style.position="absolute",e.style.opacity=0,e.removeAttribute("hidden"),t.parentNode.appendChild(e);const i=e.scrollWidth,s=e.scrollHeight;return it(e),{width:i,height:s}},showMenuPanel(t="",e=!1){const i=this.elements.container.querySelector(`#plyr-settings-${this.id}-${t}`);if(!F(i))return;const s=i.parentNode,n=Array.from(s.children).find(t=>!t.hidden);if(mt.transitions&&!mt.reducedMotion){s.style.width=n.scrollWidth+"px",s.style.height=n.scrollHeight+"px";const t=Wt.getMenuSize.call(this,i),e=t=>{t.target===s&&["width","height"].includes(t.propertyName)&&(s.style.width="",s.style.height="",yt.call(this,s,K,e))};vt.call(this,s,K,e),s.style.width=t.width+"px",s.style.height=t.height+"px"}at(n,!0),at(i,!1),Wt.focusFirstMenuItem.call(this,i,e)},setDownloadUrl(){const t=this.elements.buttons.download;F(t)&&t.setAttribute("href",this.download)},create(t){const{bindMenuItemShortcuts:e,createButton:i,createProgress:s,createRange:n,createTime:r,setQualityMenu:a,setSpeedMenu:o,showMenuPanel:l}=Wt;this.elements.controls=null,j(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));const c=tt("div",rt(this.config.selectors.controls.wrapper));this.elements.controls=c;const u={class:"plyr__controls__item"};return Tt(j(this.config.controls)?this.config.controls:[]).forEach(a=>{if("restart"===a&&c.appendChild(i.call(this,"restart",u)),"rewind"===a&&c.appendChild(i.call(this,"rewind",u)),"play"===a&&c.appendChild(i.call(this,"play",u)),"fast-forward"===a&&c.appendChild(i.call(this,"fast-forward",u)),"progress"===a){const e=tt("div",{class:u.class+" plyr__progress__container"}),i=tt("div",rt(this.config.selectors.progress));if(i.appendChild(n.call(this,"seek",{id:"plyr-seek-"+t.id})),i.appendChild(s.call(this,"buffer")),this.config.tooltips.seek){const t=tt("span",{class:this.config.classNames.tooltip},"00:00");i.appendChild(t),this.elements.display.seekTooltip=t}this.elements.progress=i,e.appendChild(this.elements.progress),c.appendChild(e)}if("current-time"===a&&c.appendChild(r.call(this,"currentTime",u)),"duration"===a&&c.appendChild(r.call(this,"duration",u)),"mute"===a||"volume"===a){let{volume:e}=this.elements;if(F(e)&&c.contains(e)||(e=tt("div",G({},u,{class:(u.class+" plyr__volume").trim()})),this.elements.volume=e,c.appendChild(e)),"mute"===a&&e.appendChild(i.call(this,"mute")),"volume"===a&&!Q.isIos){const i={max:1,step:.05,value:this.config.volume};e.appendChild(n.call(this,"volume",G(i,{id:"plyr-volume-"+t.id})))}}if("captions"===a&&c.appendChild(i.call(this,"captions",u)),"settings"===a&&!W(this.config.settings)){const s=tt("div",G({},u,{class:(u.class+" plyr__menu").trim(),hidden:""}));s.appendChild(i.call(this,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-"+t.id,"aria-expanded":!1}));const n=tt("div",{class:"plyr__menu__container",id:"plyr-settings-"+t.id,hidden:""}),r=tt("div"),a=tt("div",{id:`plyr-settings-${t.id}-home`}),o=tt("div",{role:"menu"});a.appendChild(o),r.appendChild(a),this.elements.settings.panels.home=a,this.config.settings.forEach(i=>{const s=tt("button",G(rt(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));e.call(this,s,i),vt.call(this,s,"click",()=>{l.call(this,i,!1)});const n=tt("span",null,Ft.get(i,this.config)),a=tt("span",{class:this.config.classNames.menu.value});a.innerHTML=t[i],n.appendChild(a),s.appendChild(n),o.appendChild(s);const c=tt("div",{id:`plyr-settings-${t.id}-${i}`,hidden:""}),u=tt("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});u.appendChild(tt("span",{"aria-hidden":!0},Ft.get(i,this.config))),u.appendChild(tt("span",{class:this.config.classNames.hidden},Ft.get("menuBack",this.config))),vt.call(this,c,"keydown",t=>{"ArrowLeft"===t.key&&(t.preventDefault(),t.stopPropagation(),l.call(this,"home",!0))},!1),vt.call(this,u,"click",()=>{l.call(this,"home",!1)}),c.appendChild(u),c.appendChild(tt("div",{role:"menu"})),r.appendChild(c),this.elements.settings.buttons[i]=s,this.elements.settings.panels[i]=c}),n.appendChild(r),s.appendChild(n),c.appendChild(s),this.elements.settings.popup=n,this.elements.settings.menu=s}if("pip"===a&&mt.pip&&c.appendChild(i.call(this,"pip",u)),"airplay"===a&&mt.airplay&&c.appendChild(i.call(this,"airplay",u)),"download"===a){const t=G({},u,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(t.download="");const{download:e}=this.config.urls;!V(e)&&this.isEmbed&&G(t,{icon:"logo-"+this.provider,label:this.provider}),c.appendChild(i.call(this,"download",t))}"fullscreen"===a&&c.appendChild(i.call(this,"fullscreen",u))}),this.isHTML5&&a.call(this,Nt.getQualityOptions.call(this)),o.call(this),c},inject(){if(this.config.loadSprite){const t=Wt.getIconUrl.call(this);t.cors&&qt(t.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let t=null;this.elements.controls=null;const e={id:this.id,seektime:this.config.seekTime,title:this.config.title};let i,s=!0;if(R(this.config.controls)&&(this.config.controls=this.config.controls.call(this,e)),this.config.controls||(this.config.controls=[]),F(this.config.controls)||O(this.config.controls)?t=this.config.controls:(t=Wt.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:Qt.getLabel.call(this)}),s=!1),s&&O(this.config.controls)&&(t=(t=>{let i=t;return Object.entries(e).forEach(([t,e])=>{i=Ot(i,`{${t}}`,e)}),i})(t)),O(this.config.selectors.controls.container)&&(i=document.querySelector(this.config.selectors.controls.container)),F(i)||(i=this.elements.container),i[F(t)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",t),F(this.elements.controls)||Wt.findElements.call(this),!W(this.elements.buttons)){const t=t=>{const e=this.config.classNames.controlPressed;Object.defineProperty(t,"pressed",{enumerable:!0,get:()=>lt(t,e),set(i=!1){ot(t,e,i)}})};Object.values(this.elements.buttons).filter(Boolean).forEach(e=>{j(e)||B(e)?Array.from(e).filter(Boolean).forEach(t):t(e)})}if(Q.isEdge&&Y(i),this.config.tooltips.controls){const{classNames:t,selectors:e}=this.config,i=`${e.controls.wrapper} ${e.labels} .${t.hidden}`,s=ut.call(this,i);Array.from(s).forEach(t=>{ot(t,this.config.classNames.hidden,!1),ot(t,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch(t){}},setMarkers(){var t,e;if(!this.duration||this.elements.markers)return;const i=null===(t=this.config.markers)||void 0===t||null===(e=t.points)||void 0===e?void 0:e.filter(({time:t})=>t>0&&t<this.duration);if(null==i||!i.length)return;const s=document.createDocumentFragment(),n=document.createDocumentFragment();let r=null;const a=this.config.classNames.tooltip+"--visible",o=t=>ot(r,a,t);i.forEach(t=>{const e=tt("span",{class:this.config.classNames.marker},""),i=t.time/this.duration*100+"%";r&&(e.addEventListener("mouseenter",()=>{t.label||(r.style.left=i,r.innerHTML=t.label,o(!0))}),e.addEventListener("mouseleave",()=>{o(!1)})),e.addEventListener("click",()=>{this.currentTime=t.time}),e.style.left=i,n.appendChild(e)}),s.appendChild(n),this.config.tooltips.seek||(r=tt("span",{class:this.config.classNames.tooltip},""),s.appendChild(r)),this.elements.markers={points:n,tip:r},this.elements.progress.appendChild(s)}};function Kt(t,e=!0){let i=t;if(e){const t=document.createElement("a");t.href=i,i=t.href}try{return new URL(i)}catch(t){return null}}function Yt(t){const e=new URLSearchParams;return N(t)&&Object.entries(t).forEach(([t,i])=>{e.set(t,i)}),e}const Qt={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!mt.textTracks)return void(j(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Wt.setCaptionsMenu.call(this));var t,e;if(F(this.elements.captions)||(this.elements.captions=tt("div",rt(this.config.selectors.captions)),t=this.elements.captions,e=this.elements.wrapper,F(t)&&F(e)&&e.parentNode.insertBefore(t,e.nextSibling)),Q.isIE&&window.URL){const t=this.media.querySelectorAll("track");Array.from(t).forEach(t=>{const e=t.getAttribute("src"),i=Kt(e);null!==i&&i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&zt(e,"blob").then(e=>{t.setAttribute("src",window.URL.createObjectURL(e))}).catch(()=>{it(t)})})}const i=Tt((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(t=>t.split("-")[0]));let s=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===s&&([s]=i);let n=this.storage.get("captions");if($(n)||({active:n}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:n,language:s,languages:i}),this.isHTML5){const t=this.config.captions.update?"addtrack removetrack":"removetrack";vt.call(this,this.media.textTracks,t,Qt.update.bind(this))}setTimeout(Qt.update.bind(this),0)},update(){const t=Qt.getTracks.call(this,!0),{active:e,language:i,meta:s,currentTrackNode:n}=this.captions,r=Boolean(t.find(t=>t.language===i));this.isHTML5&&this.isVideo&&t.filter(t=>!s.get(t)).forEach(t=>{this.debug.log("Track added",t),s.set(t,{default:"showing"===t.mode}),"showing"===t.mode&&(t.mode="hidden"),vt.call(this,t,"cuechange",()=>Qt.updateCues.call(this))}),(r&&this.language!==i||!t.includes(n))&&(Qt.setLanguage.call(this,i),Qt.toggle.call(this,e&&r)),this.elements&&ot(this.elements.container,this.config.classNames.captions.enabled,!W(t)),j(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Wt.setCaptionsMenu.call(this)},toggle(t,e=!0){if(!this.supported.ui)return;const{toggled:i}=this.captions,s=this.config.classNames.captions.active,n=L(t)?!i:t;if(n!==i){if(e||(this.captions.active=n,this.storage.set({captions:n})),!this.language&&n&&!e){const t=Qt.getTracks.call(this),e=Qt.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=e.language,void Qt.set.call(this,t.indexOf(e))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=n),ot(this.elements.container,s,n),this.captions.toggled=n,Wt.updateSetting.call(this,"captions"),wt.call(this,this.media,n?"captionsenabled":"captionsdisabled")}setTimeout(()=>{n&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(t,e=!0){const i=Qt.getTracks.call(this);if(-1!==t)if(D(t))if(t in i){if(this.captions.currentTrack!==t){this.captions.currentTrack=t;const s=i[t],{language:n}=s||{};this.captions.currentTrackNode=s,Wt.updateSetting.call(this,"captions"),e||(this.captions.language=n,this.storage.set({language:n})),this.isVimeo&&this.embed.enableTextTrack(n),wt.call(this,this.media,"languagechange")}Qt.toggle.call(this,!0,e),this.isHTML5&&this.isVideo&&Qt.updateCues.call(this)}else this.debug.warn("Track not found",t);else this.debug.warn("Invalid caption argument",t);else Qt.toggle.call(this,!1,e)},setLanguage(t,e=!0){if(!O(t))return void this.debug.warn("Invalid language argument",t);const i=t.toLowerCase();this.captions.language=i;const s=Qt.getTracks.call(this),n=Qt.findTrack.call(this,[i]);Qt.set.call(this,s.indexOf(n),e)},getTracks(t=!1){return Array.from((this.media||{}).textTracks||[]).filter(e=>!this.isHTML5||t||this.captions.meta.has(e)).filter(t=>["captions","subtitles"].includes(t.kind))},findTrack(t,e=!1){const i=Qt.getTracks.call(this),s=t=>Number((this.captions.meta.get(t)||{}).default),n=Array.from(i).sort((t,e)=>s(e)-s(t));let r;return t.every(t=>(r=n.find(e=>e.language===t),!r)),r||(e?n[0]:void 0)},getCurrentTrack(){return Qt.getTracks.call(this)[this.currentTrack]},getLabel(t){let e=t;return!q(e)&&mt.textTracks&&this.captions.toggled&&(e=Qt.getCurrentTrack.call(this)),q(e)?W(e.label)?W(e.language)?Ft.get("enabled",this.config):t.language.toUpperCase():e.label:Ft.get("disabled",this.config)},updateCues(t){if(!this.supported.ui)return;if(!F(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!L(t)&&!Array.isArray(t))return void this.debug.warn("updateCues: Invalid input",t);let e=t;if(!e){const t=Qt.getCurrentTrack.call(this);e=Array.from((t||{}).activeCues||[]).map(t=>t.getCueAsHTML()).map(jt)}const i=e.map(t=>t.trim()).join("\n");if(i!==this.elements.captions.innerHTML){st(this.elements.captions);const t=tt("span",rt(this.config.selectors.caption));t.innerHTML=i,this.elements.captions.appendChild(t),wt.call(this,this.media,"cuechange")}}},Jt={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.2/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},Gt="picture-in-picture",Zt="inline",Xt={html5:"html5",youtube:"youtube",vimeo:"vimeo"},te="audio",ee="video",ie=()=>{};class se{constructor(t=!1){this.enabled=window.console&&t,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):ie}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):ie}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):ie}}class ne{constructor(e){t(this,"onChange",()=>{if(!this.enabled)return;const t=this.player.elements.buttons.fullscreen;F(t)&&(t.pressed=this.active);const e=this.target===this.player.media?this.target:this.player.elements.container;wt.call(this.player,e,this.active?"enterfullscreen":"exitfullscreen",!0)}),t(this,"toggleFallback",(t=!1)=>{if(t?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=t?"hidden":"",ot(this.target,this.player.config.classNames.fullscreen.fallback,t),Q.isIos){let e=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";e||(e=document.createElement("meta"),e.setAttribute("name","viewport"));const s=O(e.content)&&e.content.includes(i);t?(this.cleanupViewport=!s,s||(e.content+=","+i)):this.cleanupViewport&&(e.content=e.content.split(",").filter(t=>t.trim()!==i).join(","))}this.onChange()}),t(this,"trapFocus",t=>{if(Q.isIos||!this.active||"Tab"!==t.key)return;const e=document.activeElement,i=ut.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[s]=i,n=i[i.length-1];e!==n||t.shiftKey?e===s&&t.shiftKey&&(n.focus(),t.preventDefault()):(s.focus(),t.preventDefault())}),t(this,"update",()=>{if(this.enabled){let t;t=this.forceFallback?"Fallback (forced)":ne.native?"Native":"Fallback",this.player.debug.log(t+" fullscreen enabled")}else this.player.debug.log("Fullscreen not supported and fallback disabled");ot(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}),t(this,"enter",()=>{this.enabled&&(Q.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!ne.native||this.forceFallback?this.toggleFallback(!0):this.prefix?W(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),t(this,"exit",()=>{if(this.enabled)if(Q.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),Ct(this.player.play());else if(!ne.native||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!W(this.prefix)){const t="moz"===this.prefix?"Cancel":"Exit";document[`${this.prefix}${t}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),t(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=e,this.prefix=ne.prefix,this.property=ne.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===e.config.fullscreen.fallback,this.player.elements.fullscreen=e.config.fullscreen.container&&function(t,e){const{prototype:i}=Element;return(i.closest||function(){let t=this;do{if(ct.matches(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}).call(t,e)}(this.player.elements.container,e.config.fullscreen.container),vt.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":this.prefix+"fullscreenchange",()=>{this.onChange()}),vt.call(this.player,this.player.elements.container,"dblclick",t=>{F(this.player.elements.controls)&&this.player.elements.controls.contains(t.target)||this.player.listeners.proxy(t,this.toggle,"fullscreen")}),vt.call(this,this.player.elements.container,"keydown",t=>this.trapFocus(t)),this.update()}static get native(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get usingNative(){return ne.native&&!this.forceFallback}static get prefix(){if(R(document.exitFullscreen))return"";let t="";return["webkit","moz","ms"].some(e=>!(!R(document[e+"ExitFullscreen"])&&!R(document[e+"CancelFullScreen"]))&&(t=e,!0)),t}static get property(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}get enabled(){return(ne.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}get active(){if(!this.enabled)return!1;if(!ne.native||this.forceFallback)return lt(this.target,this.player.config.classNames.fullscreen.fallback);const t=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return t&&t.shadowRoot?t===this.target.getRootNode().host:t===this.target}get target(){return Q.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}function re(t,e=1){return new Promise((i,s)=>{const n=new Image,r=()=>{delete n.onload,delete n.onerror,(n.naturalWidth>=e?i:s)(n)};Object.assign(n,{onload:r,onerror:r,src:t})})}const ae={addStyleHook(){ot(this.elements.container,this.config.selectors.container.replace(".",""),!0),ot(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(t=!1){t&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void ae.toggleNativeControls.call(this,!0);F(this.elements.controls)||(Wt.inject.call(this),this.listeners.controls()),ae.toggleNativeControls.call(this),this.isHTML5&&Qt.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Wt.updateVolume.call(this),Wt.timeUpdate.call(this),Wt.durationUpdate.call(this),ae.checkPlaying.call(this),ot(this.elements.container,this.config.classNames.pip.supported,mt.pip&&this.isHTML5&&this.isVideo),ot(this.elements.container,this.config.classNames.airplay.supported,mt.airplay&&this.isHTML5),ot(this.elements.container,this.config.classNames.isIos,Q.isIos),ot(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{wt.call(this,this.media,"ready")},0),ae.setTitle.call(this),this.poster&&ae.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&Wt.durationUpdate.call(this),this.config.mediaMetadata&&Wt.setMediaMetadata.call(this)},setTitle(){let t=Ft.get("play",this.config);if(O(this.config.title)&&!W(this.config.title)&&(t+=", "+this.config.title),Array.from(this.elements.buttons.play||[]).forEach(e=>{e.setAttribute("aria-label",t)}),this.isEmbed){const t=ht.call(this,"iframe");if(!F(t))return;const e=W(this.config.title)?"video":this.config.title,i=Ft.get("frameTitle",this.config);t.setAttribute("title",i.replace("{title}",e))}},togglePoster(t){ot(this.elements.container,this.config.classNames.posterEnabled,t)},setPoster(t,e=!0){return e&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",t),this.elements.poster.removeAttribute("hidden"),_t.call(this).then(()=>re(t)).catch(e=>{throw t===this.poster&&ae.togglePoster.call(this,!1),e}).then(()=>{if(t!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${t}')`,backgroundSize:""}),ae.togglePoster.call(this,!0),t)))},checkPlaying(t){ot(this.elements.container,this.config.classNames.playing,this.playing),ot(this.elements.container,this.config.classNames.paused,this.paused),ot(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(t=>{Object.assign(t,{pressed:this.playing}),t.setAttribute("aria-label",Ft.get(this.playing?"pause":"play",this.config))}),U(t)&&"timeupdate"===t.type||ae.toggleControls.call(this)},checkLoading(t){this.loading=["stalled","waiting"].includes(t.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{ot(this.elements.container,this.config.classNames.loading,this.loading),ae.toggleControls.call(this)},this.loading?250:0)},toggleControls(t){const{controls:e}=this.elements;if(e&&this.config.hideControls){const i=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(t||this.loading||this.paused||e.pressed||e.hover||i))}},migrateStyles(){Object.values({...this.media.style}).filter(t=>!W(t)&&O(t)&&t.startsWith("--plyr")).forEach(t=>{this.elements.container.style.setProperty(t,this.media.style.getPropertyValue(t)),this.media.style.removeProperty(t)}),W(this.media.style)&&this.media.removeAttribute("style")}};class oe{constructor(e){t(this,"firstTouch",()=>{const{player:t}=this,{elements:e}=t;t.touch=!0,ot(e.container,t.config.classNames.isTouch,!0)}),t(this,"setTabFocus",t=>{const{player:e}=this,{elements:i}=e,{key:s,type:n,timeStamp:r}=t;if(clearTimeout(this.focusTimer),"keydown"===n&&"Tab"!==s)return;"keydown"===n&&(this.lastKeyDown=r);const a=r-this.lastKeyDown<=20;("focus"!==n||a)&&((()=>{const t=e.config.classNames.tabFocus;ot(ut.call(e,"."+t),t,!1)})(),"focusout"!==n&&(this.focusTimer=setTimeout(()=>{const t=document.activeElement;i.container.contains(t)&&ot(document.activeElement,e.config.classNames.tabFocus,!0)},10)))}),t(this,"global",(t=!0)=>{const{player:e}=this;e.config.keyboard.global&&gt.call(e,window,"keydown keyup",this.handleKey,t,!1),gt.call(e,document.body,"click",this.toggleMenu,t),bt.call(e,document.body,"touchstart",this.firstTouch),gt.call(e,document.body,"keydown focus blur focusout",this.setTabFocus,t,!1,!0)}),t(this,"container",()=>{const{player:t}=this,{config:e,elements:i,timers:s}=t;!e.keyboard.global&&e.keyboard.focused&&vt.call(t,i.container,"keydown keyup",this.handleKey,!1),vt.call(t,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",e=>{const{controls:n}=i;n&&"enterfullscreen"===e.type&&(n.pressed=!1,n.hover=!1);let r=0;["touchstart","touchmove","mousemove"].includes(e.type)&&(ae.toggleControls.call(t,!0),r=t.touch?3e3:2e3),clearTimeout(s.controls),s.controls=setTimeout(()=>ae.toggleControls.call(t,!1),r)});const n=()=>{if(!t.isVimeo||t.config.vimeo.premium)return;const e=i.wrapper,{active:s}=t.fullscreen,[n,r]=Et.call(t),a=At(`aspect-ratio: ${n} / ${r}`);if(!s)return void(a?(e.style.width=null,e.style.height=null):(e.style.maxWidth=null,e.style.margin=null));const[o,l]=[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)],c=o/l>n/r;a?(e.style.width=c?"auto":"100%",e.style.height=c?"100%":"auto"):(e.style.maxWidth=c?l/r*n+"px":null,e.style.margin=c?"0 auto":null)},r=()=>{clearTimeout(s.resized),s.resized=setTimeout(n,50)};vt.call(t,i.container,"enterfullscreen exitfullscreen",e=>{const{target:s}=t.fullscreen;s===i.container&&(!t.isEmbed&&W(t.config.ratio)||(n(),("enterfullscreen"===e.type?vt:yt).call(t,window,"resize",r)))})}),t(this,"media",()=>{const{player:t}=this,{elements:e}=t;if(vt.call(t,t.media,"timeupdate seeking seeked",e=>Wt.timeUpdate.call(t,e)),vt.call(t,t.media,"durationchange loadeddata loadedmetadata",e=>Wt.durationUpdate.call(t,e)),vt.call(t,t.media,"ended",()=>{t.isHTML5&&t.isVideo&&t.config.resetOnEnd&&(t.restart(),t.pause())}),vt.call(t,t.media,"progress playing seeking seeked",e=>Wt.updateProgress.call(t,e)),vt.call(t,t.media,"volumechange",e=>Wt.updateVolume.call(t,e)),vt.call(t,t.media,"playing play pause ended emptied timeupdate",e=>ae.checkPlaying.call(t,e)),vt.call(t,t.media,"waiting canplay seeked playing",e=>ae.checkLoading.call(t,e)),t.supported.ui&&t.config.clickToPlay&&!t.isAudio){const i=ht.call(t,"."+t.config.classNames.video);if(!F(i))return;vt.call(t,e.container,"click",s=>{([e.container,i].includes(s.target)||i.contains(s.target))&&(t.touch&&t.config.hideControls||(t.ended?(this.proxy(s,t.restart,"restart"),this.proxy(s,()=>{Ct(t.play())},"play")):this.proxy(s,()=>{Ct(t.togglePlay())},"play")))})}t.supported.ui&&t.config.disableContextMenu&&vt.call(t,e.wrapper,"contextmenu",t=>{t.preventDefault()},!1),vt.call(t,t.media,"volumechange",()=>{t.storage.set({volume:t.volume,muted:t.muted})}),vt.call(t,t.media,"ratechange",()=>{Wt.updateSetting.call(t,"speed"),t.storage.set({speed:t.speed})}),vt.call(t,t.media,"qualitychange",e=>{Wt.updateSetting.call(t,"quality",null,e.detail.quality)}),vt.call(t,t.media,"ready qualitychange",()=>{Wt.setDownloadUrl.call(t)});const i=t.config.events.concat(["keyup","keydown"]).join(" ");vt.call(t,t.media,i,i=>{let{detail:s={}}=i;"error"===i.type&&(s=t.media.error),wt.call(t,e.container,i.type,!0,s)})}),t(this,"proxy",(t,e,i)=>{const{player:s}=this,n=s.config.listeners[i];let r=!0;R(n)&&(r=n.call(s,t)),!1!==r&&R(e)&&e.call(s,t)}),t(this,"bind",(t,e,i,s,n=!0)=>{const{player:r}=this,a=r.config.listeners[s],o=R(a);vt.call(r,t,e,t=>this.proxy(t,i,s),n&&!o)}),t(this,"controls",()=>{const{player:t}=this,{elements:e}=t,i=Q.isIE?"change":"input";if(e.buttons.play&&Array.from(e.buttons.play).forEach(e=>{this.bind(e,"click",()=>{Ct(t.togglePlay())},"play")}),this.bind(e.buttons.restart,"click",t.restart,"restart"),this.bind(e.buttons.rewind,"click",()=>{t.lastSeekTime=Date.now(),t.rewind()},"rewind"),this.bind(e.buttons.fastForward,"click",()=>{t.lastSeekTime=Date.now(),t.forward()},"fastForward"),this.bind(e.buttons.mute,"click",()=>{t.muted=!t.muted},"mute"),this.bind(e.buttons.captions,"click",()=>t.toggleCaptions()),this.bind(e.buttons.download,"click",()=>{wt.call(t,t.media,"download")},"download"),this.bind(e.buttons.fullscreen,"click",()=>{t.fullscreen.toggle()},"fullscreen"),this.bind(e.buttons.pip,"click",()=>{t.pip="toggle"},"pip"),this.bind(e.buttons.airplay,"click",t.airplay,"airplay"),this.bind(e.buttons.settings,"click",e=>{e.stopPropagation(),e.preventDefault(),Wt.toggleMenu.call(t,e)},null,!1),this.bind(e.buttons.settings,"keyup",e=>{["Space","Enter"].includes(e.key)&&("Enter"!==e.key?(e.preventDefault(),e.stopPropagation(),Wt.toggleMenu.call(t,e)):Wt.focusFirstMenuItem.call(t,null,!0))},null,!1),this.bind(e.settings.menu,"keydown",e=>{"Escape"===e.key&&Wt.toggleMenu.call(t,e)}),this.bind(e.inputs.seek,"mousedown mousemove",t=>{const i=e.progress.getBoundingClientRect(),s=100/i.width*(t.pageX-i.left);t.currentTarget.setAttribute("seek-value",s)}),this.bind(e.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",e=>{const i=e.currentTarget,s="play-on-seeked";if(z(e)&&!["ArrowLeft","ArrowRight"].includes(e.key))return;t.lastSeekTime=Date.now();const n=i.hasAttribute(s),r=["mouseup","touchend","keyup"].includes(e.type);n&&r?(i.removeAttribute(s),Ct(t.play())):!r&&t.playing&&(i.setAttribute(s,""),t.pause())}),Q.isIos){const e=ut.call(t,'input[type="range"]');Array.from(e).forEach(t=>this.bind(t,i,t=>Y(t.target)))}this.bind(e.inputs.seek,i,e=>{const i=e.currentTarget;let s=i.getAttribute("seek-value");W(s)&&(s=i.value),i.removeAttribute("seek-value"),t.currentTime=s/i.max*t.duration},"seek"),this.bind(e.progress,"mouseenter mouseleave mousemove",e=>Wt.updateSeekTooltip.call(t,e)),this.bind(e.progress,"mousemove touchmove",e=>{const{previewThumbnails:i}=t;i&&i.loaded&&i.startMove(e)}),this.bind(e.progress,"mouseleave touchend click",()=>{const{previewThumbnails:e}=t;e&&e.loaded&&e.endMove(!1,!0)}),this.bind(e.progress,"mousedown touchstart",e=>{const{previewThumbnails:i}=t;i&&i.loaded&&i.startScrubbing(e)}),this.bind(e.progress,"mouseup touchend",e=>{const{previewThumbnails:i}=t;i&&i.loaded&&i.endScrubbing(e)}),Q.isWebkit&&Array.from(ut.call(t,'input[type="range"]')).forEach(e=>{this.bind(e,"input",e=>Wt.updateRangeFill.call(t,e.target))}),t.config.toggleInvert&&!F(e.display.duration)&&this.bind(e.display.currentTime,"click",()=>{0!==t.currentTime&&(t.config.invertTime=!t.config.invertTime,Wt.timeUpdate.call(t))}),this.bind(e.inputs.volume,i,e=>{t.volume=e.target.value},"volume"),this.bind(e.controls,"mouseenter mouseleave",i=>{e.controls.hover=!t.touch&&"mouseenter"===i.type}),e.fullscreen&&Array.from(e.fullscreen.children).filter(t=>!t.contains(e.container)).forEach(i=>{this.bind(i,"mouseenter mouseleave",i=>{e.controls&&(e.controls.hover=!t.touch&&"mouseenter"===i.type)})}),this.bind(e.controls,"mousedown mouseup touchstart touchend touchcancel",t=>{e.controls.pressed=["mousedown","touchstart"].includes(t.type)}),this.bind(e.controls,"focusin",()=>{const{config:i,timers:s}=t;ot(e.controls,i.classNames.noTransition,!0),ae.toggleControls.call(t,!0),setTimeout(()=>{ot(e.controls,i.classNames.noTransition,!1)},0);const n=this.touch?3e3:4e3;clearTimeout(s.controls),s.controls=setTimeout(()=>ae.toggleControls.call(t,!1),n)}),this.bind(e.inputs.volume,"wheel",e=>{const i=e.webkitDirectionInvertedFromDevice,[s,n]=[e.deltaX,-e.deltaY].map(t=>i?-t:t),r=Math.sign(Math.abs(s)>Math.abs(n)?s:n);t.increaseVolume(r/50);const{volume:a}=t.media;(1===r&&a<1||-1===r&&a>0)&&e.preventDefault()},"volume",!1)}),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(t){const{player:e}=this,{elements:i}=e,{key:s,type:n,altKey:r,ctrlKey:a,metaKey:o,shiftKey:l}=t,c="keydown"===n,u=c&&s===this.lastKey;var h;if(!(r||a||o||l)&&s)if(c){const n=document.activeElement;if(F(n)){const{editable:s}=e.config.selectors,{seek:r}=i.inputs;if(n!==r&&ct(n,s))return;if("Space"===t.key&&ct(n,'button, [role^="menuitem"]'))return}switch(["Space","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(s)&&(t.preventDefault(),t.stopPropagation()),s){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":u||(h=parseInt(s,10),e.currentTime=e.duration/10*h);break;case"Space":case"k":u||Ct(e.togglePlay());break;case"ArrowUp":e.increaseVolume(.1);break;case"ArrowDown":e.decreaseVolume(.1);break;case"m":u||(e.muted=!e.muted);break;case"ArrowRight":e.forward();break;case"ArrowLeft":e.rewind();break;case"f":e.fullscreen.toggle();break;case"c":u||e.toggleCaptions();break;case"l":e.loop=!e.loop}"Escape"===s&&!e.fullscreen.usingNative&&e.fullscreen.active&&e.fullscreen.toggle(),this.lastKey=s}else this.lastKey=null}toggleMenu(t){Wt.toggleMenu.call(this.player,t)}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e||"undefined"!=typeof self&&self;var le=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){t.exports=function(){var t=function(){},e={},i={},s={};function n(t,e){t=t.push?t:[t];var n,r,a,o=[],l=t.length,c=l;for(n=function(t,i){i.length&&o.push(t),--c||e(o)};l--;)r=t[l],(a=i[r])?n(r,a):(s[r]=s[r]||[]).push(n)}function r(t,e){if(t){var n=s[t];if(i[t]=e,n)for(;n.length;)n[0](t,e),n.splice(0,1)}}function a(e,i){e.call&&(e={success:e}),i.length?(e.error||t)(i):(e.success||t)(e)}function o(e,i,s,n){var r,a,l=document,c=s.async,u=(s.numRetries||0)+1,h=s.before||t,d=e.replace(/[\?|#].*$/,""),p=e.replace(/^(css|img)!/,"");n=n||0,/(^css!|\.css$)/.test(d)?((a=l.createElement("link")).rel="stylesheet",a.href=p,(r="hideFocus"in a)&&a.relList&&(r=0,a.rel="preload",a.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(d)?(a=l.createElement("img")).src=p:((a=l.createElement("script")).src=e,a.async=void 0===c||c),a.onload=a.onerror=a.onbeforeload=function(t){var l=t.type[0];if(r)try{a.sheet.cssText.length||(l="e")}catch(t){18!=t.code&&(l="e")}if("e"==l){if((n+=1)<u)return o(e,i,s,n)}else if("preload"==a.rel&&"style"==a.as)return a.rel="stylesheet";i(e,l,t.defaultPrevented)},!1!==h(e,a)&&l.head.appendChild(a)}function l(t,e,i){var s,n,r=(t=t.push?t:[t]).length,a=r,l=[];for(s=function(t,i,s){if("e"==i&&l.push(t),"b"==i){if(!s)return;l.push(t)}--r||e(l)},n=0;n<a;n++)o(t[n],s,i)}function c(t,i,s){var n,o;if(i&&i.trim&&(n=i),o=(n?s:i)||{},n){if(n in e)throw"LoadJS";e[n]=!0}function c(e,i){l(t,(function(t){a(o,t),e&&a({success:e,error:i},t),r(n,t)}),o)}if(o.returnPromise)return new Promise(c);c()}return c.ready=function(t,e){return n(t,(function(t){a(e,t)})),c},c.done=function(t){r(t,[])},c.reset=function(){e={},i={},s={}},c.isDefined=function(t){return t in e},c}()}));function ce(t){return new Promise((e,i)=>{le(t,{success:e,error:i})})}function ue(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,wt.call(this,this.media,t?"play":"pause"))}const he={setup(){const t=this;ot(t.elements.wrapper,t.config.classNames.embed,!0),t.options.speed=t.config.speed.options,It.call(t),N(window.Vimeo)?he.ready.call(t):ce(t.config.urls.vimeo.sdk).then(()=>{he.ready.call(t)}).catch(e=>{t.debug.warn("Vimeo SDK (player.js) failed to load",e)})},ready(){const t=this,e=t.config.vimeo,{premium:i,referrerPolicy:s,...n}=e;let r=t.media.getAttribute("src"),a="";W(r)?(r=t.media.getAttribute(t.config.attributes.embed.id),a=t.media.getAttribute(t.config.attributes.embed.hash)):a=function(t){const e=t.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return e&&5===e.length?e[4]:null}(r);const o=a?{h:a}:{};i&&Object.assign(n,{controls:!1,sidedock:!1});const l=Yt({loop:t.config.loop.active,autoplay:t.autoplay,muted:t.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative,...o,...n}),c=W(u=r)?null:D(Number(u))?u:u.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:u;var u;const h=tt("iframe"),d=Dt(t.config.urls.vimeo.iframe,c,l);if(h.setAttribute("src",d),h.setAttribute("allowfullscreen",""),h.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),W(s)||h.setAttribute("referrerPolicy",s),i||!e.customControls)h.setAttribute("data-poster",t.poster),t.media=nt(h,t.media);else{const e=tt("div",{class:t.config.classNames.embedContainer,"data-poster":t.poster});e.appendChild(h),t.media=nt(e,t.media)}e.customControls||zt(Dt(t.config.urls.vimeo.api,d)).then(e=>{!W(e)&&e.thumbnail_url&&ae.setPoster.call(t,e.thumbnail_url).catch(()=>{})}),t.embed=new window.Vimeo.Player(h,{autopause:t.config.autopause,muted:t.muted}),t.media.paused=!0,t.media.currentTime=0,t.supported.ui&&t.embed.disableTextTrack(),t.media.play=()=>(ue.call(t,!0),t.embed.play()),t.media.pause=()=>(ue.call(t,!1),t.embed.pause()),t.media.stop=()=>{t.pause(),t.currentTime=0};let{currentTime:p}=t.media;Object.defineProperty(t.media,"currentTime",{get:()=>p,set(e){const{embed:i,media:s,paused:n,volume:r}=t,a=n&&!i.hasPlayed;s.seeking=!0,wt.call(t,s,"seeking"),Promise.resolve(a&&i.setVolume(0)).then(()=>i.setCurrentTime(e)).then(()=>a&&i.pause()).then(()=>a&&i.setVolume(r)).catch(()=>{})}});let m=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get:()=>m,set(e){t.embed.setPlaybackRate(e).then(()=>{m=e,wt.call(t,t.media,"ratechange")}).catch(()=>{t.options.speed=[1]})}});let{volume:f}=t.config;Object.defineProperty(t.media,"volume",{get:()=>f,set(e){t.embed.setVolume(e).then(()=>{f=e,wt.call(t,t.media,"volumechange")})}});let{muted:g}=t.config;Object.defineProperty(t.media,"muted",{get:()=>g,set(e){const i=!!$(e)&&e;t.embed.setVolume(i?0:t.config.volume).then(()=>{g=i,wt.call(t,t.media,"volumechange")})}});let v,{loop:y}=t.config;Object.defineProperty(t.media,"loop",{get:()=>y,set(e){const i=$(e)?e:t.config.loop.active;t.embed.setLoop(i).then(()=>{y=i})}}),t.embed.getVideoUrl().then(e=>{v=e,Wt.setDownloadUrl.call(t)}).catch(t=>{this.debug.warn(t)}),Object.defineProperty(t.media,"currentSrc",{get:()=>v}),Object.defineProperty(t.media,"ended",{get:()=>t.currentTime===t.duration}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then(e=>{const[i,s]=e;t.embed.ratio=Lt(i,s),It.call(this)}),t.embed.setAutopause(t.config.autopause).then(e=>{t.config.autopause=e}),t.embed.getVideoTitle().then(e=>{t.config.title=e,ae.setTitle.call(this)}),t.embed.getCurrentTime().then(e=>{p=e,wt.call(t,t.media,"timeupdate")}),t.embed.getDuration().then(e=>{t.media.duration=e,wt.call(t,t.media,"durationchange")}),t.embed.getTextTracks().then(e=>{t.media.textTracks=e,Qt.setup.call(t)}),t.embed.on("cuechange",({cues:e=[]})=>{const i=e.map(t=>function(t){const e=document.createDocumentFragment(),i=document.createElement("div");return e.appendChild(i),i.innerHTML=t,e.firstChild.innerText}(t.text));Qt.updateCues.call(t,i)}),t.embed.on("loaded",()=>{t.embed.getPaused().then(e=>{ue.call(t,!e),e||wt.call(t,t.media,"playing")}),F(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)}),t.embed.on("bufferstart",()=>{wt.call(t,t.media,"waiting")}),t.embed.on("bufferend",()=>{wt.call(t,t.media,"playing")}),t.embed.on("play",()=>{ue.call(t,!0),wt.call(t,t.media,"playing")}),t.embed.on("pause",()=>{ue.call(t,!1)}),t.embed.on("timeupdate",e=>{t.media.seeking=!1,p=e.seconds,wt.call(t,t.media,"timeupdate")}),t.embed.on("progress",e=>{t.media.buffered=e.percent,wt.call(t,t.media,"progress"),1===parseInt(e.percent,10)&&wt.call(t,t.media,"canplaythrough"),t.embed.getDuration().then(e=>{e!==t.media.duration&&(t.media.duration=e,wt.call(t,t.media,"durationchange"))})}),t.embed.on("seeked",()=>{t.media.seeking=!1,wt.call(t,t.media,"seeked")}),t.embed.on("ended",()=>{t.media.paused=!0,wt.call(t,t.media,"ended")}),t.embed.on("error",e=>{t.media.error=e,wt.call(t,t.media,"error")}),e.customControls&&setTimeout(()=>ae.build.call(t),0)}};function de(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,wt.call(this,this.media,t?"play":"pause"))}function pe(t){return t.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}const me={setup(){if(ot(this.elements.wrapper,this.config.classNames.embed,!0),N(window.YT)&&R(window.YT.Player))me.ready.call(this);else{const t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{R(t)&&t(),me.ready.call(this)},ce(this.config.urls.youtube.sdk).catch(t=>{this.debug.warn("YouTube API failed to load",t)})}},getTitle(t){zt(Dt(this.config.urls.youtube.api,t)).then(t=>{if(N(t)){const{title:e,height:i,width:s}=t;this.config.title=e,ae.setTitle.call(this),this.embed.ratio=Lt(s,i)}It.call(this)}).catch(()=>{It.call(this)})},ready(){const t=this,e=t.config.youtube,i=t.media&&t.media.getAttribute("id");if(!W(i)&&i.startsWith("youtube-"))return;let s=t.media.getAttribute("src");W(s)&&(s=t.media.getAttribute(this.config.attributes.embed.id));const n=W(r=s)?null:r.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:r;var r;const a=tt("div",{id:`${t.provider}-${Math.floor(1e4*Math.random())}`,"data-poster":e.customControls?t.poster:void 0});if(t.media=nt(a,t.media),e.customControls){const e=t=>`https://i.ytimg.com/vi/${n}/${t}default.jpg`;re(e("maxres"),121).catch(()=>re(e("sd"),121)).catch(()=>re(e("hq"))).then(e=>ae.setPoster.call(t,e.src)).then(e=>{e.includes("maxres")||(t.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}t.embed=new window.YT.Player(t.media,{videoId:n,host:pe(e),playerVars:G({},{autoplay:t.config.autoplay?1:0,hl:t.config.hl,controls:t.supported.ui&&e.customControls?0:1,disablekb:1,playsinline:t.config.fullscreen.iosNative?0:1,cc_load_policy:t.captions.active?1:0,cc_lang_pref:t.config.captions.language,widget_referrer:window?window.location.href:null},e),events:{onError(e){if(!t.media.error){const i=e.data,s={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[i]||"An unknown error occured";t.media.error={code:i,message:s},wt.call(t,t.media,"error")}},onPlaybackRateChange(e){const i=e.target;t.media.playbackRate=i.getPlaybackRate(),wt.call(t,t.media,"ratechange")},onReady(i){if(R(t.media.play))return;const s=i.target;me.getTitle.call(t,n),t.media.play=()=>{de.call(t,!0),s.playVideo()},t.media.pause=()=>{de.call(t,!1),s.pauseVideo()},t.media.stop=()=>{s.stopVideo()},t.media.duration=s.getDuration(),t.media.paused=!0,t.media.currentTime=0,Object.defineProperty(t.media,"currentTime",{get:()=>Number(s.getCurrentTime()),set(e){t.paused&&!t.embed.hasPlayed&&t.embed.mute(),t.media.seeking=!0,wt.call(t,t.media,"seeking"),s.seekTo(e)}}),Object.defineProperty(t.media,"playbackRate",{get:()=>s.getPlaybackRate(),set(t){s.setPlaybackRate(t)}});let{volume:r}=t.config;Object.defineProperty(t.media,"volume",{get:()=>r,set(e){r=e,s.setVolume(100*r),wt.call(t,t.media,"volumechange")}});let{muted:a}=t.config;Object.defineProperty(t.media,"muted",{get:()=>a,set(e){const i=$(e)?e:a;a=i,s[i?"mute":"unMute"](),s.setVolume(100*r),wt.call(t,t.media,"volumechange")}}),Object.defineProperty(t.media,"currentSrc",{get:()=>s.getVideoUrl()}),Object.defineProperty(t.media,"ended",{get:()=>t.currentTime===t.duration});const o=s.getAvailablePlaybackRates();t.options.speed=o.filter(e=>t.config.speed.options.includes(e)),t.supported.ui&&e.customControls&&t.media.setAttribute("tabindex",-1),wt.call(t,t.media,"timeupdate"),wt.call(t,t.media,"durationchange"),clearInterval(t.timers.buffering),t.timers.buffering=setInterval(()=>{t.media.buffered=s.getVideoLoadedFraction(),(null===t.media.lastBuffered||t.media.lastBuffered<t.media.buffered)&&wt.call(t,t.media,"progress"),t.media.lastBuffered=t.media.buffered,1===t.media.buffered&&(clearInterval(t.timers.buffering),wt.call(t,t.media,"canplaythrough"))},200),e.customControls&&setTimeout(()=>ae.build.call(t),50)},onStateChange(i){const s=i.target;switch(clearInterval(t.timers.playing),t.media.seeking&&[1,2].includes(i.data)&&(t.media.seeking=!1,wt.call(t,t.media,"seeked")),i.data){case-1:wt.call(t,t.media,"timeupdate"),t.media.buffered=s.getVideoLoadedFraction(),wt.call(t,t.media,"progress");break;case 0:de.call(t,!1),t.media.loop?(s.stopVideo(),s.playVideo()):wt.call(t,t.media,"ended");break;case 1:e.customControls&&!t.config.autoplay&&t.media.paused&&!t.embed.hasPlayed?t.media.pause():(de.call(t,!0),wt.call(t,t.media,"playing"),t.timers.playing=setInterval(()=>{wt.call(t,t.media,"timeupdate")},50),t.media.duration!==s.getDuration()&&(t.media.duration=s.getDuration(),wt.call(t,t.media,"durationchange")));break;case 2:t.muted||t.embed.unMute(),de.call(t,!1);break;case 3:wt.call(t,t.media,"waiting")}wt.call(t,t.elements.container,"statechange",!1,{code:i.data})}}})}},fe={setup(){this.media?(ot(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),ot(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&ot(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=tt("div",{class:this.config.classNames.video}),Z(this.media,this.elements.wrapper),this.elements.poster=tt("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?Nt.setup.call(this):this.isYouTube?me.setup.call(this):this.isVimeo&&he.setup.call(this)):this.debug.warn("No media element found!")}};class ge{constructor(e){t(this,"load",()=>{this.enabled&&(N(window.google)&&N(window.google.ima)?this.ready():ce(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),t(this,"ready",()=>{var t;this.enabled||((t=this).manager&&t.manager.destroy(),t.elements.displayContainer&&t.elements.displayContainer.destroy(),t.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),t(this,"setupIMA",()=>{this.elements.container=tt("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,t=>this.onAdsManagerLoaded(t),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,t=>this.onAdError(t),!1),this.requestAds()}),t(this,"requestAds",()=>{const{container:t}=this.player.elements;try{const e=new google.ima.AdsRequest;e.adTagUrl=this.tagUrl,e.linearAdSlotWidth=t.offsetWidth,e.linearAdSlotHeight=t.offsetHeight,e.nonLinearAdSlotWidth=t.offsetWidth,e.nonLinearAdSlotHeight=t.offsetHeight,e.forceNonLinearFullSlot=!1,e.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(e)}catch(t){this.onAdError(t)}}),t(this,"pollCountdown",(t=!1)=>{if(!t)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const t=Vt(Math.max(this.manager.getRemainingTime(),0)),e=`${Ft.get("advertisement",this.player.config)} - ${t}`;this.elements.container.setAttribute("data-badge-text",e)},100)}),t(this,"onAdsManagerLoaded",t=>{if(!this.enabled)return;const e=new google.ima.AdsRenderingSettings;e.restoreCustomPlaybackStateOnAdBreakComplete=!0,e.enablePreloading=!0,this.manager=t.getAdsManager(this.player,e),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,t=>this.onAdError(t)),Object.keys(google.ima.AdEvent.Type).forEach(t=>{this.manager.addEventListener(google.ima.AdEvent.Type[t],t=>this.onAdEvent(t))}),this.trigger("loaded")}),t(this,"addCuePoints",()=>{W(this.cuePoints)||this.cuePoints.forEach(t=>{if(0!==t&&-1!==t&&t<this.player.duration){const e=this.player.elements.progress;if(F(e)){const i=100/this.player.duration*t,s=tt("span",{class:this.player.config.classNames.cues});s.style.left=i.toString()+"%",e.appendChild(s)}}})}),t(this,"onAdEvent",t=>{const{container:e}=this.player.elements,i=t.getAd(),s=t.getAdData();switch((t=>{wt.call(this.player,this.player.media,"ads"+t.replace(/_/g,"").toLowerCase())})(t.type),t.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=e.offsetWidth,i.height=e.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:s.adError&&this.player.debug.warn("Non-fatal ad error: "+s.adError.getMessage())}}),t(this,"onAdError",t=>{this.cancel(),this.player.debug.warn("Ads error",t)}),t(this,"listeners",()=>{const{container:t}=this.player.elements;let e;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{e=this.player.currentTime}),this.player.on("seeked",()=>{const t=this.player.currentTime;W(this.cuePoints)||this.cuePoints.forEach((i,s)=>{e<i&&i<t&&(this.manager.discardAdBreak(),this.cuePoints.splice(s,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL)})}),t(this,"play",()=>{const{container:t}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(t){this.onAdError(t)}}).catch(()=>{})}),t(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,Ct(this.player.media.play())}),t(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),t(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),t(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(t=>{this.on("loaded",t),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),t(this,"trigger",(t,...e)=>{const i=this.events[t];j(i)&&i.forEach(t=>{R(t)&&t.apply(this,e)})}),t(this,"on",(t,e)=>(j(this.events[t])||(this.events[t]=[]),this.events[t].push(e),this)),t(this,"startSafetyTimer",(t,e)=>{this.player.debug.log("Safety timer invoked from: "+e),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},t)}),t(this,"clearSafetyTimer",t=>{L(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: "+t),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((t,e)=>{this.on("loaded",t),this.on("error",e)}),this.load()}get enabled(){const{config:t}=this;return this.player.isHTML5&&this.player.isVideo&&t.enabled&&(!W(t.publisherId)||V(t.tagUrl))}get tagUrl(){const{config:t}=this;return V(t.tagUrl)?t.tagUrl:"https://go.aniview.com/api/adserver6/vast/?"+Yt({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:t.publisherId})}}function ve(t=0,e=0,i=255){return Math.min(Math.max(t,e),i)}const ye=t=>{const e=[];return t.split(/\r\n\r\n|\n\n|\r\r/).forEach(t=>{const i={};t.split(/\r\n|\n|\r/).forEach(t=>{if(D(i.startTime)){if(!W(t.trim())&&W(i.text)){const e=t.trim().split("#xywh=");[i.text]=e,e[1]&&([i.x,i.y,i.w,i.h]=e[1].split(","))}}else{const e=t.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);e&&(i.startTime=60*Number(e[1]||0)*60+60*Number(e[2])+Number(e[3])+Number("0."+e[4]),i.endTime=60*Number(e[6]||0)*60+60*Number(e[7])+Number(e[8])+Number("0."+e[9]))}}),i.text&&e.push(i)}),e},be=(t,e)=>{const i={};return t>e.width/e.height?(i.width=e.width,i.height=1/t*e.width):(i.height=e.height,i.width=t*e.height),i};class we{constructor(e){t(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.loaded=!0)})}),t(this,"getThumbnails",()=>new Promise(t=>{const{src:e}=this.player.config.previewThumbnails;if(W(e))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort((t,e)=>t.height-e.height),this.player.debug.log("Preview thumbnails",this.thumbnails),t()};if(R(e))e(t=>{this.thumbnails=t,i()});else{const t=(O(e)?[e]:e).map(t=>this.getThumbnail(t));Promise.all(t).then(i)}})),t(this,"getThumbnail",t=>new Promise(e=>{zt(t).then(i=>{const s={frames:ye(i),height:null,urlPrefix:""};s.frames[0].text.startsWith("/")||s.frames[0].text.startsWith("http://")||s.frames[0].text.startsWith("https://")||(s.urlPrefix=t.substring(0,t.lastIndexOf("/")+1));const n=new Image;n.onload=()=>{s.height=n.naturalHeight,s.width=n.naturalWidth,this.thumbnails.push(s),e()},n.src=s.urlPrefix+s.frames[0].text})})),t(this,"startMove",t=>{if(this.loaded&&U(t)&&["touchmove","mousemove"].includes(t.type)&&this.player.media.duration){if("touchmove"===t.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var e,i;const s=this.player.elements.progress.getBoundingClientRect(),n=100/s.width*(t.pageX-s.left);this.seekTime=this.player.media.duration*(n/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=t.pageX,this.elements.thumb.time.innerText=Vt(this.seekTime);const r=null===(e=this.player.config.markers)||void 0===e||null===(i=e.points)||void 0===i?void 0:i.find(({time:t})=>t===Math.round(this.seekTime));r&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",r.label+"<br>")}this.showImageAtCurrentTime()}}),t(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),t(this,"startScrubbing",t=>{(L(t.button)||!1===t.button||0===t.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),t(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):bt.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),t(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),t(this,"render",()=>{this.elements.thumb.container=tt("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=tt("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const t=tt("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=tt("span",{},"00:00"),t.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(t),F(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=tt("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),t(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),t(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const t=this.thumbnails[0].frames.findIndex(t=>this.seekTime>=t.startTime&&this.seekTime<=t.endTime),e=t>=0;let i=0;this.mouseDown||this.toggleThumbContainer(e),e&&(this.thumbnails.forEach((e,s)=>{this.loadedImages.includes(e.frames[t].text)&&(i=s)}),t!==this.showingThumb&&(this.showingThumb=t,this.loadImage(i)))}),t(this,"loadImage",(t=0)=>{const e=this.showingThumb,i=this.thumbnails[t],{urlPrefix:s}=i,n=i.frames[e],r=i.frames[e].text,a=s+r;if(this.currentImageElement&&this.currentImageElement.dataset.filename===r)this.showImage(this.currentImageElement,n,t,e,r,!1),this.currentImageElement.dataset.index=e,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const i=new Image;i.src=a,i.dataset.index=e,i.dataset.filename=r,this.showingThumbFilename=r,this.player.debug.log("Loading image: "+a),i.onload=()=>this.showImage(i,n,t,e,r,!0),this.loadingImage=i,this.removeOldImages(i)}}),t(this,"showImage",(t,e,i,s,n,r=!0)=>{this.player.debug.log(`Showing thumb: ${n}. num: ${s}. qual: ${i}. newimg: ${r}`),this.setImageSizeAndOffset(t,e),r&&(this.currentImageContainer.appendChild(t),this.currentImageElement=t,this.loadedImages.includes(n)||this.loadedImages.push(n)),this.preloadNearby(s,!0).then(this.preloadNearby(s,!1)).then(this.getHigherQuality(i,t,e,n))}),t(this,"removeOldImages",t=>{Array.from(this.currentImageContainer.children).forEach(e=>{if("img"!==e.tagName.toLowerCase())return;const i=this.usingSprites?500:1e3;if(e.dataset.index!==t.dataset.index&&!e.dataset.deleting){e.dataset.deleting=!0;const{currentImageContainer:t}=this;setTimeout(()=>{t.removeChild(e),this.player.debug.log("Removing thumb: "+e.dataset.filename)},i)}})}),t(this,"preloadNearby",(t,e=!0)=>new Promise(i=>{setTimeout(()=>{const s=this.thumbnails[0].frames[t].text;if(this.showingThumbFilename===s){let n;n=e?this.thumbnails[0].frames.slice(t):this.thumbnails[0].frames.slice(0,t).reverse();let r=!1;n.forEach(t=>{const e=t.text;if(e!==s&&!this.loadedImages.includes(e)){r=!0,this.player.debug.log("Preloading thumb filename: "+e);const{urlPrefix:t}=this.thumbnails[0],s=t+e,n=new Image;n.src=s,n.onload=()=>{this.player.debug.log("Preloaded thumb filename: "+e),this.loadedImages.includes(e)||this.loadedImages.push(e),i()}}}),r||i()}},300)})),t(this,"getHigherQuality",(t,e,i,s)=>{if(t<this.thumbnails.length-1){let n=e.naturalHeight;this.usingSprites&&(n=i.h),n<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===s&&(this.player.debug.log("Showing higher quality thumb for: "+s),this.loadImage(t+1))},300)}}),t(this,"toggleThumbContainer",(t=!1,e=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,t),!t&&e&&(this.showingThumb=null,this.showingThumbFilename=null)}),t(this,"toggleScrubbingContainer",(t=!1)=>{const e=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(e,t),t||(this.showingThumb=null,this.showingThumbFilename=null)}),t(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),t(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:t}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(t.clientHeight>20&&t.clientWidth<20){const e=Math.floor(t.clientHeight*this.thumbAspectRatio);t.style.width=e+"px"}else if(t.clientHeight<20&&t.clientWidth>20){const e=Math.floor(t.clientWidth/this.thumbAspectRatio);t.style.height=e+"px"}}else{const e=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);t.style.height=this.thumbContainerHeight+"px",t.style.width=e+"px"}this.setThumbContainerPos()}),t(this,"setThumbContainerPos",()=>{const t=this.player.elements.progress.getBoundingClientRect(),e=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,s=e.left-t.left+10,n=e.right-t.left-i.clientWidth-10,r=this.mousePosX-t.left-i.clientWidth/2,a=ve(r,s,n);i.style.left=a+"px",i.style.setProperty("--preview-arrow-offset",r-a+"px")}),t(this,"setScrubbingContainerSize",()=>{const{width:t,height:e}=be(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=t+"px",this.elements.scrubbing.container.style.height=e+"px"}),t(this,"setImageSizeAndOffset",(t,e)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/e.h;t.style.height=t.naturalHeight*i+"px",t.style.width=t.naturalWidth*i+"px",t.style.left=`-${e.x*i}px`,t.style.top=`-${e.y*i}px`}),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:t}=be(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return t}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(t){this.mouseDown?this.currentScrubbingImageElement=t:this.currentThumbnailImageElement=t}}const ke={insertElements(t,e){O(e)?et(t,this.media,{src:e}):j(e)&&e.forEach(e=>{et(t,this.media,e)})},change(t){J(t,"sources.length")?(Nt.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],it(this.media),this.media=null,F(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:e,type:i}=t,[{provider:s=Xt.html5,src:n}]=e,r="html5"===s?i:"div",a="html5"===s?{}:{src:n};Object.assign(this,{provider:s,type:i,supported:mt.check(i,s,this.config.playsinline),media:tt(r,a)}),this.elements.container.appendChild(this.media),$(t.autoplay)&&(this.config.autoplay=t.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),W(t.poster)||(this.poster=t.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),ae.addStyleHook.call(this),this.isHTML5&&ke.insertElements.call(this,"source",e),this.config.title=t.title,fe.setup.call(this),this.isHTML5&&Object.keys(t).includes("tracks")&&ke.insertElements.call(this,"track",t.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ae.build.call(this),this.isHTML5&&this.media.load(),W(t.previewThumbnails)||(Object.assign(this.config.previewThumbnails,t.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new we(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class _e{constructor(e,i){if(t(this,"play",()=>R(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>Ct(this.media.play())),this.media.play()):null),t(this,"pause",()=>this.playing&&R(this.media.pause)?this.media.pause():null),t(this,"togglePlay",t=>($(t)?t:!this.playing)?this.play():this.pause()),t(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):R(this.media.stop)&&this.media.stop()}),t(this,"restart",()=>{this.currentTime=0}),t(this,"rewind",t=>{this.currentTime-=D(t)?t:this.config.seekTime}),t(this,"forward",t=>{this.currentTime+=D(t)?t:this.config.seekTime}),t(this,"increaseVolume",t=>{const e=this.media.muted?0:this.volume;this.volume=e+(D(t)?t:0)}),t(this,"decreaseVolume",t=>{this.increaseVolume(-t)}),t(this,"airplay",()=>{mt.airplay&&this.media.webkitShowPlaybackTargetPicker()}),t(this,"toggleControls",t=>{if(this.supported.ui&&!this.isAudio){const e=lt(this.elements.container,this.config.classNames.hideControls),i=void 0===t?void 0:!t,s=ot(this.elements.container,this.config.classNames.hideControls,i);if(s&&j(this.config.controls)&&this.config.controls.includes("settings")&&!W(this.config.settings)&&Wt.toggleMenu.call(this,!1),s!==e){const t=s?"controlshidden":"controlsshown";wt.call(this,this.media,t)}return!s}return!1}),t(this,"on",(t,e)=>{vt.call(this,this.elements.container,t,e)}),t(this,"once",(t,e)=>{bt.call(this,this.elements.container,t,e)}),t(this,"off",(t,e)=>{yt(this.elements.container,t,e)}),t(this,"destroy",(t,e=!1)=>{if(!this.ready)return;const i=()=>{document.body.style.overflow="",this.embed=null,e?(Object.keys(this.elements).length&&(it(this.elements.buttons.play),it(this.elements.captions),it(this.elements.controls),it(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),R(t)&&t()):(kt.call(this),Nt.cancelRequests.call(this),nt(this.elements.original,this.elements.container),wt.call(this,this.elements.original,"destroyed",!0),R(t)&&t.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(ae.toggleNativeControls.call(this,!0),i()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&R(this.embed.destroy)&&this.embed.destroy(),i()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(i),setTimeout(i,200))}),t(this,"supports",t=>mt.mime.call(this,t)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=mt.touch,this.media=e,O(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||B(this.media)||j(this.media))&&(this.media=this.media[0]),this.config=G({},Jt,_e.defaults,i||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch(t){return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new se(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",mt),L(this.media)||!F(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!mt.check().api)return void this.debug.error("Setup failed: no support");const s=this.media.cloneNode(!0);s.autoplay=!1,this.elements.original=s;const n=this.media.tagName.toLowerCase();let r=null,a=null;switch(n){case"div":if(r=this.media.querySelector("iframe"),F(r)){if(a=Kt(r.getAttribute("src")),this.provider=function(t){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(t)?Xt.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(t)?Xt.vimeo:null}(a.toString()),this.elements.container=this.media,this.media=r,this.elements.container.className="",a.search.length){const t=["1","true"];t.includes(a.searchParams.get("autoplay"))&&(this.config.autoplay=!0),t.includes(a.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=t.includes(a.searchParams.get("playsinline")),this.config.youtube.hl=a.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(W(this.provider)||!Object.values(Xt).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=ee;break;case"video":case"audio":this.type=n,this.provider=Xt.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=mt.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new oe(this),this.storage=new Ut(this),this.media.plyr=this,F(this.elements.container)||(this.elements.container=tt("div",{tabindex:0}),Z(this.media,this.elements.container)),ae.migrateStyles.call(this),ae.addStyleHook.call(this),fe.setup.call(this),this.config.debug&&vt.call(this,this.elements.container,this.config.events.join(" "),t=>{this.debug.log("event: "+t.type)}),this.fullscreen=new ne(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ae.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new ge(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>Ct(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new we(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===Xt.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===Xt.youtube}get isVimeo(){return this.provider===Xt.vimeo}get isVideo(){return this.type===ee}get isAudio(){return this.type===te}get playing(){return Boolean(this.ready&&!this.paused&&!this.ended)}get paused(){return Boolean(this.media.paused)}get stopped(){return Boolean(this.paused&&0===this.currentTime)}get ended(){return Boolean(this.media.ended)}set currentTime(t){if(!this.duration)return;const e=D(t)&&t>0;this.media.currentTime=e?Math.min(t,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:t}=this.media;return D(t)?t:t&&t.length&&this.duration>0?t.end(0)/this.duration:0}get seeking(){return Boolean(this.media.seeking)}get duration(){const t=parseFloat(this.config.duration),e=(this.media||{}).duration,i=D(e)&&e!==1/0?e:0;return t||i}set volume(t){let e=t;O(e)&&(e=Number(e)),D(e)||(e=this.storage.get("volume")),D(e)||({volume:e}=this.config),e>1&&(e=1),e<0&&(e=0),this.config.volume=e,this.media.volume=e,!W(t)&&this.muted&&e>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(t){let e=t;$(e)||(e=this.storage.get("muted")),$(e)||(e=this.config.muted),this.config.muted=e,this.media.muted=e}get muted(){return Boolean(this.media.muted)}get hasAudio(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}set speed(t){let e=null;D(t)&&(e=t),D(e)||(e=this.storage.get("speed")),D(e)||(e=this.config.speed.selected);const{minimumSpeed:i,maximumSpeed:s}=this;e=ve(e,i,s),this.config.speed.selected=e,setTimeout(()=>{this.media&&(this.media.playbackRate=e)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(t){const e=this.config.quality,i=this.options.quality;if(!i.length)return;let s=[!W(t)&&Number(t),this.storage.get("quality"),e.selected,e.default].find(D),n=!0;if(!i.includes(s)){const t=xt(i,s);this.debug.warn(`Unsupported quality option: ${s}, using ${t} instead`),s=t,n=!1}e.selected=s,this.media.quality=s,n&&this.storage.set({quality:s})}get quality(){return this.media.quality}set loop(t){const e=$(t)?t:this.config.loop.active;this.config.loop.active=e,this.media.loop=e}get loop(){return Boolean(this.media.loop)}set source(t){ke.change.call(this,t)}get source(){return this.media.currentSrc}get download(){const{download:t}=this.config.urls;return V(t)?t:this.source}set download(t){V(t)&&(this.config.urls.download=t,Wt.setDownloadUrl.call(this))}set poster(t){this.isVideo?ae.setPoster.call(this,t,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const t=Mt(Et.call(this));return j(t)?t.join(":"):t}set ratio(t){this.isVideo?O(t)&&Pt(t)?(this.config.ratio=Mt(t),It.call(this)):this.debug.error(`Invalid aspect ratio specified (${t})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(t){this.config.autoplay=$(t)?t:this.config.autoplay}get autoplay(){return Boolean(this.config.autoplay)}toggleCaptions(t){Qt.toggle.call(this,t,!1)}set currentTrack(t){Qt.set.call(this,t,!1),Qt.setup.call(this)}get currentTrack(){const{toggled:t,currentTrack:e}=this.captions;return t?e:-1}set language(t){Qt.setLanguage.call(this,t,!1)}get language(){return(Qt.getCurrentTrack.call(this)||{}).language}set pip(t){if(!mt.pip)return;const e=$(t)?t:!this.pip;R(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(e?Gt:Zt),R(this.media.requestPictureInPicture)&&(!this.pip&&e?this.media.requestPictureInPicture():this.pip&&!e&&document.exitPictureInPicture())}get pip(){return mt.pip?W(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Gt:null}setPreviewThumbnails(t){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,t),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new we(this))}static supported(t,e,i){return mt.check(t,e,i)}static loadSprite(t,e){return qt(t,e)}static setup(t,e={}){let i=null;return O(t)?i=Array.from(document.querySelectorAll(t)):B(t)?i=Array.from(t):j(t)&&(i=t.filter(F)),W(i)?null:i.map(t=>new _e(t,e))}}var Ce;return _e.defaults=(Ce=Jt,JSON.parse(JSON.stringify(Ce))),_e}))}).call(this,i("c8ba"))},5001:function(t,e,i){},"53b5":function(t,e,i){},5615:function(t,e,i){var s=i("be56");function n(t){var e=t.length;return e?t[s(0,e-1)]:void 0}t.exports=n},5774:function(t,e,i){"use strict";i("8c32")},"577e":function(t,e){function i(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}i.prototype.set=function(t,e,i,s){const n=t*this.size+e;this.data[n]=i,s&&(this.reservedBit[n]=!0)},i.prototype.get=function(t,e){return this.data[t*this.size+e]},i.prototype.xor=function(t,e,i){this.data[t*this.size+e]^=i},i.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=i},"58b4":function(t,e,i){"use strict";t.exports=function(t){for(var e=[],i=t.length,s=0;s<i;s++){var n=t.charCodeAt(s);if(n>=55296&&n<=56319&&i>s+1){var r=t.charCodeAt(s+1);r>=56320&&r<=57343&&(n=1024*(n-55296)+r-56320+65536,s+=1)}n<128?e.push(n):n<2048?(e.push(n>>6|192),e.push(63&n|128)):n<55296||n>=57344&&n<65536?(e.push(n>>12|224),e.push(n>>6&63|128),e.push(63&n|128)):n>=65536&&n<=1114111?(e.push(n>>18|240),e.push(n>>12&63|128),e.push(n>>6&63|128),e.push(63&n|128)):e.push(239,191,189)}return new Uint8Array(e).buffer}},"5e45":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{class:t.color,style:t.buttonStyle},[null!==t.iconClass?i("svg-icon",{style:{marginRight:t.iconButton?"0px":"8px"},attrs:{"icon-class":t.iconClass}}):t._e(),t._t("default")],2)},n=[],r={name:"ButtonTwoTone",props:{iconClass:{type:String,default:null},iconButton:{type:Boolean,default:!1},horizontalPadding:{type:Number,default:16},color:{type:String,default:"blue"},backgroundColor:{type:String,default:""},textColor:{type:String,default:""},shape:{type:String,default:"square"}},computed:{buttonStyle(){let t={borderRadius:"round"===this.shape?"50%":"8px",padding:`8px ${this.horizontalPadding}px`,width:"round"===this.shape?"38px":"auto"};return""!==this.backgroundColor&&(t.backgroundColor=this.backgroundColor),""!==this.textColor&&(t.color=this.textColor),t}}},a=r,o=(i("04cb"),i("2877")),l=Object(o["a"])(a,s,n,!1,null,"34c86e99",null);e["a"]=l.exports},6511:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"home"},[!1!==t.settings.showPlaylistsByAppleMusic?i("div",{staticClass:"index-row first-row"},[i("div",{staticClass:"title"},[t._v(" by Apple Music ")]),i("CoverRow",{attrs:{type:"playlist",items:t.byAppleMusic,"sub-text":"appleMusic","image-size":1024}})],1):t._e(),i("div",{staticClass:"index-row"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("home.recommendPlaylist"))+" "),i("router-link",{attrs:{to:"/explore?category=推荐歌单"}},[t._v(t._s(t.$t("home.seeMore")))])],1),i("CoverRow",{attrs:{type:"playlist",items:t.recommendPlaylist.items,"sub-text":"copywriter"}})],1),i("div",{staticClass:"index-row"},[i("div",{staticClass:"title"},[t._v(" For You ")]),i("div",{staticClass:"for-you-row"},[i("DailyTracksCard",{ref:"DailyTracksCard"}),i("FMCard")],1)]),i("div",{staticClass:"index-row"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("home.recommendArtist")))]),i("CoverRow",{attrs:{type:"artist","column-number":6,items:t.recommendArtists.items}})],1),i("div",{staticClass:"index-row"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("home.newAlbum"))+" "),i("router-link",{attrs:{to:"/new-album"}},[t._v(t._s(t.$t("home.seeMore")))])],1),i("CoverRow",{attrs:{type:"album",items:t.newReleasesAlbum.items,"sub-text":"artist"}})],1),i("div",{staticClass:"index-row"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("home.charts"))+" "),i("router-link",{attrs:{to:"/explore?category=排行榜"}},[t._v(t._s(t.$t("home.seeMore")))])],1),i("CoverRow",{attrs:{type:"playlist",items:t.topList.items,"sub-text":"updateFrequency","image-size":1024}})],1)])},n=[],r=(i("caad"),i("1e9a")),a=i("512b"),o=i("e498"),l=i("d87d"),c=i("2826"),u=i("323e"),h=i.n(u),d=i("2f62"),p=i("2726"),m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fm",style:{background:t.background},attrs:{"data-theme":"dark"}},[i("img",{staticStyle:{display:"none"},attrs:{src:t.nextTrackCover,loading:"lazy"}}),i("img",{staticClass:"cover",attrs:{src:t._f("resizeImage")(t.track.album&&t.track.album.picUrl,512),loading:"lazy"},on:{click:t.goToAlbum}}),i("div",{staticClass:"right-part"},[i("div",{staticClass:"info"},[i("div",{staticClass:"title"},[t._v(t._s(t.track.name))]),i("div",{staticClass:"artist"},[i("ArtistsInLine",{attrs:{artists:t.artists}})],1)]),i("div",{staticClass:"controls"},[i("div",{staticClass:"buttons"},[i("button-icon",{attrs:{title:"不喜欢"},nativeOn:{click:function(e){return t.moveToFMTrash.apply(null,arguments)}}},[i("svg-icon",{attrs:{id:"thumbs-down","icon-class":"thumbs-down"}})],1),i("button-icon",{staticClass:"play",attrs:{title:t.$t(t.isPlaying?"player.pause":"player.play")},nativeOn:{click:function(e){return t.play.apply(null,arguments)}}},[i("svg-icon",{attrs:{"icon-class":t.isPlaying?"pause":"play"}})],1),i("button-icon",{attrs:{title:t.$t("player.next")},nativeOn:{click:function(e){return t.next.apply(null,arguments)}}},[i("svg-icon",{attrs:{"icon-class":"next"}})],1)],1),i("div",{staticClass:"card-name"},[i("svg-icon",{attrs:{"icon-class":"fm"}}),t._v("私人FM")],1)])])])},f=[],g=i("2185"),v=i("186d"),y=i("bbeb"),b=i("6929"),w=i.n(b),k={name:"FMCard",components:{ButtonIcon:g["a"],ArtistsInLine:v["a"]},data(){return{background:""}},computed:{...Object(d["d"])(["player"]),track(){return this.player.personalFMTrack},isPlaying(){return this.player.playing&&this.player.isPersonalFM},artists(){return this.track.artists||this.track.ar||[]},nextTrackCover(){var t,e;return(null===(t=this.player._personalFMNextTrack)||void 0===t||null===(e=t.album)||void 0===e?void 0:e.picUrl.replace("http://","https://"))+"?param=512y512"}},watch:{track(){this.getColor()}},created(){this.getColor(),window.ok=this.getColor},methods:{play(){this.player.playPersonalFM()},next(){this.player.playNextFMTrack()},goToAlbum(){0!==this.track.album.id&&this.$router.push({path:"/album/"+this.track.album.id})},moveToFMTrash(){this.player.moveToFMTrash()},getColor(){var t,e;if(null===(t=this.player.personalFMTrack)||void 0===t||null===(e=t.album)||void 0===e||!e.picUrl)return;const i=this.player.personalFMTrack.album.picUrl.replace("http://","https://")+"?param=512y512";y["from"](i,{colorCount:1}).getPalette().then(t=>{const e=w.a.rgb(t.Vibrant._rgb).darken(.1).rgb().string(),i=w.a.rgb(t.Vibrant._rgb).lighten(.28).rotate(-30).rgb().string();this.background=`linear-gradient(to top left, ${e}, ${i})`})}}},_=k,C=(i("101d"),i("2877")),T=Object(C["a"])(_,m,f,!1,null,"03d10cd7",null),x=T.exports,A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"daily-recommend-card",on:{click:t.goToDailyTracks}},[i("img",{attrs:{src:t.coverUrl,loading:"lazy"}}),t._m(0),i("button",{staticClass:"play-button",on:{click:function(e){return e.stopPropagation(),t.playDailyTracks.apply(null,arguments)}}},[i("svg-icon",{attrs:{"icon-class":"play"}})],1)])},S=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"title-box"},[i("div",{staticClass:"title"},[i("span",[t._v("每")]),i("span",[t._v("日")]),i("span",[t._v("推")]),i("span",[t._v("荐")])])])])}],P=i("fe07"),M=i("5f87"),E=i("7d3a"),I=i.n(E);const L=["https://p2.music.126.net/0-Ybpa8FrDfRgKYCTJD8Xg==/109951164796696795.jpg","https://p2.music.126.net/QxJA2mr4hhb9DZyucIOIQw==/109951165422200291.jpg","https://p1.music.126.net/AhYP9TET8l-VSGOpWAKZXw==/109951165134386387.jpg"];var N={name:"DailyTracksCard",data(){return{useAnimation:!1}},computed:{...Object(d["d"])(["dailyTracks"]),coverUrl(){var t;return((null===(t=this.dailyTracks[0])||void 0===t?void 0:t.al.picUrl)||I()(L))+"?param=1024y1024"}},created(){0===this.dailyTracks.length&&this.loadDailyTracks()},methods:{...Object(d["b"])(["showToast"]),...Object(d["c"])(["updateDailyTracks"]),loadDailyTracks(){Object(M["c"])()&&Object(r["d"])().then(t=>{this.updateDailyTracks(t.data.dailySongs)}).catch(()=>{})},goToDailyTracks(){this.$router.push({name:"dailySongs"})},playDailyTracks(){if(!Object(M["c"])())return void this.showToast(P["a"].t("toast.needToLogin"));let t=this.dailyTracks.map(t=>t.id);this.$store.state.player.replacePlaylist(t,"/daily/songs","url",this.dailyTracks[0].id)}}},D=N,O=(i("db6e"),Object(C["a"])(D,A,S,!1,null,"5032d146",null)),$=O.exports,R={name:"Home",components:{CoverRow:p["a"],FMCard:x,DailyTracksCard:$},data(){return{show:!1,recommendPlaylist:{items:[]},newReleasesAlbum:{items:[]},topList:{items:[],ids:[19723756,180106,60198,3812895,60131]},recommendArtists:{items:[],indexs:[]}}},computed:{...Object(d["d"])(["settings"]),byAppleMusic(){return l["a"]}},activated(){this.loadData(),this.$parent.$refs.scrollbar.restorePosition()},methods:{loadData(){var t,e;setTimeout(()=>{this.show||h.a.start()},1e3),Object(c["b"])(10,!1).then(t=>{this.recommendPlaylist.items=t,h.a.done(),this.show=!0}),Object(o["d"])({area:null!==(t=this.settings.musicLanguage)&&void 0!==t?t:"ALL",limit:10}).then(t=>{this.newReleasesAlbum.items=t.albums});const i={all:null,zh:1,ea:2,jp:4,kr:3};Object(a["f"])(i[null!==(e=this.settings.musicLanguage)&&void 0!==e?e:"all"]).then(t=>{let e=[];while(e.length<6){let t=~~(100*Math.random());e.includes(t)||e.push(t)}this.recommendArtists.indexs=e,this.recommendArtists.items=t.list.artists.filter((t,i)=>e.includes(i))}),Object(r["l"])().then(t=>{this.topList.items=t.list.filter(t=>this.topList.ids.includes(t.id))}),this.$refs.DailyTracksCard.loadDailyTracks()}}},j=R,B=(i("9a6a"),Object(C["a"])(j,s,n,!1,null,"c54ed028",null));e["default"]=B.exports},"66be":function(t,e,i){"use strict";i("24b3")},"66db":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"artist-page"},[i("div",{staticClass:"artist-info"},[i("div",{staticClass:"head"},[i("img",{attrs:{src:t._f("resizeImage")(t.artist.img1v1Url,1024),loading:"lazy"}})]),i("div",[i("div",{staticClass:"name"},[t._v(t._s(t.artist.name))]),i("div",{staticClass:"artist"},[t._v(t._s(t.$t("artist.artist")))]),i("div",{staticClass:"statistics"},[i("a",{on:{click:function(e){return t.scrollTo("popularTracks")}}},[t._v(t._s(t.artist.musicSize)+" "+t._s(t.$t("common.songs")))]),t._v(" · "),i("a",{on:{click:function(e){return t.scrollTo("seeMore","start")}}},[t._v(t._s(t.artist.albumSize)+" "+t._s(t.$t("artist.withAlbums")))]),t._v(" · "),i("a",{on:{click:function(e){return t.scrollTo("mvs")}}},[t._v(t._s(t.artist.mvSize)+" "+t._s(t.$t("artist.videos")))])]),i("div",{staticClass:"description",on:{click:t.toggleFullDescription}},[t._v(" "+t._s(t.artist.briefDesc)+" ")]),i("div",{staticClass:"buttons"},[i("ButtonTwoTone",{attrs:{"icon-class":"play"},nativeOn:{click:function(e){return t.playPopularSongs()}}},[t._v(" "+t._s(t.$t("common.play"))+" ")]),i("ButtonTwoTone",{attrs:{color:"grey"},nativeOn:{click:function(e){return t.followArtist.apply(null,arguments)}}},[t.artist.followed?i("span",[t._v(t._s(t.$t("artist.following")))]):i("span",[t._v(t._s(t.$t("artist.follow")))])]),i("ButtonTwoTone",{attrs:{"icon-class":"more","icon-button":!0,"horizontal-padding":0,color:"grey"},nativeOn:{click:function(e){return t.openMenu.apply(null,arguments)}}})],1)])]),void 0!==t.latestRelease?i("div",{staticClass:"latest-release"},[i("div",{staticClass:"section-title"},[t._v(t._s(t.$t("artist.latestRelease")))]),i("div",{staticClass:"release"},[i("div",{staticClass:"container"},[i("Cover",{attrs:{id:t.latestRelease.id,"img-url":t._f("resizeImage")(t.latestRelease.picUrl),type:"album","fixed-size":128,"play-button-size":30}}),i("div",{staticClass:"info"},[i("div",{staticClass:"name"},[i("router-link",{attrs:{to:"/album/"+t.latestRelease.id}},[t._v(t._s(t.latestRelease.name))])],1),i("div",{staticClass:"date"},[t._v(" "+t._s(t._f("formatDate")(t.latestRelease.publishTime))+" ")]),i("div",{staticClass:"type"},[t._v(" "+t._s(t._f("formatAlbumType")(t.latestRelease.type,t.latestRelease))+" · "+t._s(t.latestRelease.size)+" "+t._s(t.$t("common.songs"))+" ")])])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.latestMV.id,expression:"latestMV.id"}],staticClass:"container latest-mv"},[i("div",{staticClass:"cover",on:{mouseover:function(e){t.mvHover=!0},mouseleave:function(e){t.mvHover=!1},click:function(e){return t.goToMv(t.latestMV.id)}}},[i("img",{attrs:{src:t.latestMV.coverUrl,loading:"lazy"}}),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.mvHover,expression:"mvHover"}],staticClass:"shadow",style:{background:"url("+t.latestMV.coverUrl+")"}})])],1),i("div",{staticClass:"info"},[i("div",{staticClass:"name"},[i("router-link",{attrs:{to:"/mv/"+t.latestMV.id}},[t._v(t._s(t.latestMV.name))])],1),i("div",{staticClass:"date"},[t._v(" "+t._s(t._f("formatDate")(t.latestMV.publishTime))+" ")]),i("div",{staticClass:"type"},[t._v(t._s(t.$t("artist.latestMV")))])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.latestMV.id,expression:"!latestMV.id"}]})])]):t._e(),i("div",{staticClass:"popular-tracks",attrs:{id:"popularTracks"}},[i("div",{staticClass:"section-title"},[t._v(t._s(t.$t("artist.popularSongs")))]),i("TrackList",{attrs:{tracks:t.popularTracks.slice(0,t.showMorePopTracks?24:12),type:"tracklist"}}),i("div",{staticClass:"show-more",attrs:{id:"seeMore"}},[i("button",{on:{click:function(e){t.showMorePopTracks=!t.showMorePopTracks}}},[i("span",{directives:[{name:"show",rawName:"v-show",value:!t.showMorePopTracks,expression:"!showMorePopTracks"}]},[t._v(t._s(t.$t("artist.showMore")))]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.showMorePopTracks,expression:"showMorePopTracks"}]},[t._v(t._s(t.$t("artist.showLess")))])])])],1),0!==t.albums.length?i("div",{staticClass:"albums",attrs:{id:"albums"}},[i("div",{staticClass:"section-title"},[t._v(t._s(t.$t("artist.albums")))]),i("CoverRow",{attrs:{type:"album",items:t.albums,"sub-text":"releaseYear","show-play-button":!0}})],1):t._e(),0!==t.mvs.length?i("div",{staticClass:"mvs",attrs:{id:"mvs"}},[i("div",{staticClass:"section-title"},[t._v("MVs "),i("router-link",{directives:[{name:"show",rawName:"v-show",value:t.hasMoreMV,expression:"hasMoreMV"}],attrs:{to:"/artist/"+t.artist.id+"/mv"}},[t._v(t._s(t.$t("home.seeMore")))])],1),i("MvRow",{attrs:{mvs:t.mvs,subtitle:"publishTime"}})],1):t._e(),0!==t.eps.length?i("div",{staticClass:"eps"},[i("div",{staticClass:"section-title"},[t._v(t._s(t.$t("artist.EPsSingles")))]),i("CoverRow",{attrs:{type:"album",items:t.eps,"sub-text":"albumType+releaseYear","show-play-button":!0}})],1):t._e(),0!==t.similarArtists.length?i("div",{staticClass:"similar-artists"},[i("div",{staticClass:"section-title"},[t._v(t._s(t.$t("artist.similarArtists")))]),i("CoverRow",{attrs:{type:"artist","column-number":6,gap:"36px 28px",items:t.similarArtists.slice(0,12)}})],1):t._e(),i("Modal",{attrs:{show:t.showFullDescription,close:t.toggleFullDescription,"show-footer":!1,"click-outside-hide":!0,title:t.$t("artist.artistDesc")}},[i("p",{staticClass:"description-fulltext"},[t._v(" "+t._s(t.artist.briefDesc)+" ")])]),i("ContextMenu",{ref:"artistMenu"},[i("div",{staticClass:"item",on:{click:function(e){return t.copyUrl(t.artist.id)}}},[t._v(t._s(t.$t("contextMenu.copyUrl")))]),i("div",{staticClass:"item",on:{click:function(e){return t.openInBrowser(t.artist.id)}}},[t._v(t._s(t.$t("contextMenu.openInBrowser")))])])],1)},n=[],r=(i("caad"),i("2f62")),a=i("512b"),o=i("fe07"),l=i("5f87"),c=i("323e"),u=i.n(c),h=i("5e45"),d=i("6825"),p=i("a1a1"),m=i("2726"),f=i("3020"),g=i("d4e3"),v=i("714b"),y={name:"Artist",components:{Cover:f["a"],ButtonTwoTone:h["a"],TrackList:p["a"],CoverRow:m["a"],MvRow:g["a"],Modal:v["a"],ContextMenu:d["a"]},beforeRouteUpdate(t,e,i){this.artist.img1v1Url="https://p1.music.126.net/VnZiScyynLG7atLIZ2YPkw==/18686200114669622.jpg",this.loadData(t.params.id,i)},data(){return{show:!1,artist:{img1v1Url:"https://p1.music.126.net/VnZiScyynLG7atLIZ2YPkw==/18686200114669622.jpg"},popularTracks:[],albumsData:[],latestRelease:{picUrl:"",publishTime:0,id:0,name:"",type:"",size:""},showMorePopTracks:!1,showFullDescription:!1,mvs:[],hasMoreMV:!1,similarArtists:[],mvHover:!1}},computed:{...Object(r["d"])(["player"]),albums(){return this.albumsData.filter(t=>"专辑"===t.type)},eps(){return this.albumsData.filter(t=>["EP/Single","EP","Single"].includes(t.type))},latestMV(){const t=this.mvs[0]||{};return{id:t.id||t.vid,name:t.name||t.title,coverUrl:(t.imgurl16v9||t.cover||t.coverUrl)+"?param=464y260",publishTime:t.publishTime}}},activated(){var t,e;(null===(t=this.artist)||void 0===t||null===(e=t.id)||void 0===e?void 0:e.toString())!==this.$route.params.id?this.loadData(this.$route.params.id):this.$parent.$refs.scrollbar.restorePosition()},methods:{...Object(r["c"])(["appendTrackToPlayerList"]),...Object(r["b"])(["playFirstTrackOnList","playTrackOnListByID","showToast"]),loadData(t,e){setTimeout(()=>{this.show||u.a.start()},1e3),this.show=!1,this.$parent.$refs.main.scrollTo({top:0}),Object(a["c"])(t).then(t=>{this.artist=t.artist,this.popularTracks=t.hotSongs,void 0!==e&&e(),u.a.done(),this.show=!0}),Object(a["d"])({id:t,limit:200}).then(t=>{this.albumsData=t.hotAlbums,this.latestRelease=t.hotAlbums[0]}),Object(a["a"])({id:t}).then(t=>{this.mvs=t.mvs,this.hasMoreMV=t.hasMore}),Object(a["e"])(t).then(t=>{this.similarArtists=t.artists})},goToAlbum(t){this.$router.push({name:"album",params:{id:t}})},goToMv(t){this.$router.push({path:"/mv/"+t})},playPopularSongs(t="first"){let e=this.popularTracks.map(t=>t.id);this.$store.state.player.replacePlaylist(e,this.artist.id,"artist",t)},followArtist(){Object(l["c"])()?Object(a["b"])({id:this.artist.id,t:this.artist.followed?0:1}).then(t=>{200===t.code&&(this.artist.followed=!this.artist.followed)}):this.showToast(o["a"].t("toast.needToLogin"))},scrollTo(t,e="center"){document.getElementById(t).scrollIntoView({behavior:"smooth",block:e})},toggleFullDescription(){this.showFullDescription=!this.showFullDescription,this.showFullDescription?this.$store.commit("enableScrolling",!1):this.$store.commit("enableScrolling",!0)},openMenu(t){this.$refs.artistMenu.openMenu(t)},copyUrl(t){let e=this.showToast;this.$copyText("https://music.163.com/#/artist?id="+t).then((function(){e(o["a"].t("toast.copied"))})).catch(t=>{e(`${o["a"].t("toast.copyFailed")}${t}`)})},openInBrowser(t){const e="https://music.163.com/#/artist?id="+t;window.open(e)}}},b=y,w=(i("954f"),i("2877")),k=Object(w["a"])(b,s,n,!1,null,"2650e055",null);e["default"]=k.exports},"67dd":function(t,e){t.exports=function(){return"function"===typeof Promise&&Promise.prototype&&Promise.prototype.then}},"699e":function(t,e){const i=new Uint8Array(512),s=new Uint8Array(256);(function(){let t=1;for(let e=0;e<255;e++)i[e]=t,s[t]=e,t<<=1,256&t&&(t^=285);for(let e=255;e<512;e++)i[e]=i[e-255]})(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return s[t]},e.exp=function(t){return i[t]},e.mul=function(t,e){return 0===t||0===e?0:i[s[t]+s[e]]}},"6c84":function(t,e,i){},"78a7":function(t,e,i){},"78d2":function(t,e,i){},7903:function(t,e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const i={N1:3,N2:3,N3:40,N4:10};function s(t,i,s){switch(t){case e.Patterns.PATTERN000:return(i+s)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(i+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return i*s%2+i*s%3===0;case e.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case e.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){const e=t.size;let s=0,n=0,r=0,a=null,o=null;for(let l=0;l<e;l++){n=r=0,a=o=null;for(let c=0;c<e;c++){let e=t.get(l,c);e===a?n++:(n>=5&&(s+=i.N1+(n-5)),a=e,n=1),e=t.get(c,l),e===o?r++:(r>=5&&(s+=i.N1+(r-5)),o=e,r=1)}n>=5&&(s+=i.N1+(n-5)),r>=5&&(s+=i.N1+(r-5))}return s},e.getPenaltyN2=function(t){const e=t.size;let s=0;for(let i=0;i<e-1;i++)for(let n=0;n<e-1;n++){const e=t.get(i,n)+t.get(i,n+1)+t.get(i+1,n)+t.get(i+1,n+1);4!==e&&0!==e||s++}return s*i.N2},e.getPenaltyN3=function(t){const e=t.size;let s=0,n=0,r=0;for(let i=0;i<e;i++){n=r=0;for(let a=0;a<e;a++)n=n<<1&2047|t.get(i,a),a>=10&&(1488===n||93===n)&&s++,r=r<<1&2047|t.get(a,i),a>=10&&(1488===r||93===r)&&s++}return s*i.N3},e.getPenaltyN4=function(t){let e=0;const s=t.data.length;for(let i=0;i<s;i++)e+=t.data[i];const n=Math.abs(Math.ceil(100*e/s/5)-10);return n*i.N4},e.applyMask=function(t,e){const i=e.size;for(let n=0;n<i;n++)for(let r=0;r<i;r++)e.isReserved(r,n)||e.xor(r,n,s(t,r,n))},e.getBestMask=function(t,i){const s=Object.keys(e.Patterns).length;let n=0,r=1/0;for(let a=0;a<s;a++){i(a),e.applyMask(a,t);const s=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(a,t),s<r&&(r=s,n=a)}return n}},"7a43":function(t,e){function i(t){if("string"!==typeof t)throw new Error("Param is not a string");const i=t.toLowerCase();switch(i){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&"undefined"!==typeof t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,s){if(e.isValid(t))return t;try{return i(t)}catch(n){return s}}},"7a68":function(t,e,i){"use strict";i("3360")},"7ba0":function(t,e){function i(){this.buffer=[],this.length=0}i.prototype={get:function(t){const e=Math.floor(t/8);return 1===(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(let i=0;i<e;i++)this.putBit(1===(t>>>e-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=i},"7bf0":function(t,e){let i;const s=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return s[t]},e.getBCHDigit=function(t){let e=0;while(0!==t)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!==typeof t)throw new Error('"toSJISFunc" is not a valid function.');i=t},e.isKanjiModeEnabled=function(){return"undefined"!==typeof i},e.toSJIS=function(t){return i(t)}},"7d3a":function(t,e,i){var s=i("5615"),n=i("f7ca"),r=i("6747");function a(t){var e=r(t)?s:n;return e(t)}t.exports=a},"7d53":function(t,e,i){"use strict";i("9e41")},"7df4":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"search"},[i("h1",[i("span",[t._v(t._s(t.$t("search.searchFor"))+" "+t._s(t.typeNameTable[t.type]))]),t._v(' "'+t._s(t.keywords)+'" ')]),"artists"===t.type?i("div",[i("CoverRow",{attrs:{type:"artist",items:t.result,"column-number":6}})],1):t._e(),"albums"===t.type?i("div",[i("CoverRow",{attrs:{type:"album",items:t.result,"sub-text":"artist","sub-text-font-size":"14px"}})],1):t._e(),"tracks"===t.type?i("div",[i("TrackList",{attrs:{tracks:t.result,type:"playlist","dbclick-track-func":"playAList"}})],1):t._e(),"musicVideos"===t.type?i("div",[i("MvRow",{attrs:{mvs:t.result}})],1):t._e(),"playlists"===t.type?i("div",[i("CoverRow",{attrs:{type:"playlist",items:t.result,"sub-text":"title"}})],1):t._e(),i("div",{staticClass:"load-more"},[i("ButtonTwoTone",{directives:[{name:"show",rawName:"v-show",value:t.hasMore,expression:"hasMore"}],attrs:{color:"grey"},nativeOn:{click:function(e){return t.fetchData.apply(null,arguments)}}},[t._v(t._s(t.$t("explore.loadMore")))])],1)])},n=[],r=i("fefb"),a=i("dad3"),o=i("fe07");var l=function(){return l=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var n in e=arguments[i],e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},l.apply(this,arguments)};Object.create;Object.create;function c(t){return t.toLowerCase()}var u=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],h=/[^A-Z0-9]+/gi;function d(t,e){void 0===e&&(e={});var i=e.splitRegexp,s=void 0===i?u:i,n=e.stripRegexp,r=void 0===n?h:n,a=e.transform,o=void 0===a?c:a,l=e.delimiter,d=void 0===l?" ":l,m=p(p(t,s,"$1\0$2"),r,"\0"),f=0,g=m.length;while("\0"===m.charAt(f))f++;while("\0"===m.charAt(g-1))g--;return m.slice(f,g).split("\0").map(o).join(d)}function p(t,e,i){return e instanceof RegExp?t.replace(e,i):e.reduce((function(t,e){return t.replace(e,i)}),t)}function m(t,e){var i=t.charAt(0),s=t.substr(1).toLowerCase();return e>0&&i>="0"&&i<="9"?"_"+i+s:""+i.toUpperCase()+s}function f(t,e){return void 0===e&&(e={}),d(t,l({delimiter:"",transform:m},e))}function g(t,e){return 0===e?t.toLowerCase():m(t,e)}function v(t,e){return void 0===e&&(e={}),f(t,l({transform:g},e))}var y=i("323e"),b=i.n(y),w=i("a1a1"),k=i("d4e3"),_=i("2726"),C=i("5e45"),T={name:"Search",components:{TrackList:w["a"],MvRow:k["a"],CoverRow:_["a"],ButtonTwoTone:C["a"]},data(){return{show:!1,result:[],hasMore:!0}},computed:{keywords(){return this.$route.params.keywords},type(){return v(this.$route.params.type)},typeNameTable(){return{musicVideos:o["a"].t("search.mv"),tracks:o["a"].t("search.song"),albums:o["a"].t("search.album"),artists:o["a"].t("search.artist"),playlists:o["a"].t("search.playlist")}}},created(){this.fetchData()},methods:{fetchData(){const t={musicVideos:1004,tracks:1,albums:10,artists:100,playlists:1e3};return Object(a["c"])({keywords:this.keywords,type:t[this.type],offset:this.result.length}).then(t=>{var e;switch(t=t.result,this.hasMore=null===(e=t.hasMore)||void 0===e||e,this.type){case"musicVideos":this.result.push(...t.mvs),t.mvCount<=this.result.length&&(this.hasMore=!1);break;case"artists":this.result.push(...t.artists);break;case"albums":this.result.push(...t.albums),t.albumCount<=this.result.length&&(this.hasMore=!1);break;case"tracks":this.result.push(...t.songs),this.getTracksDetail();break;case"playlists":this.result.push(...t.playlists);break}b.a.done(),this.show=!0})},getTracksDetail(){const t=this.result.map(t=>t.id);0!==t.length&&Object(r["c"])(t.join(",")).then(t=>{this.result=t.songs})}}},x=T,A=(i("20c0"),i("2877")),S=Object(A["a"])(x,s,n,!1,null,"30094568",null);e["default"]=S.exports},"808a":function(t,e,i){"use strict";i("ebd0")},"8a21":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"settings-page",on:{click:t.clickOutside}},[i("div",{staticClass:"container"},[t.showUserInfo?i("div",{staticClass:"user"},[i("div",{staticClass:"left"},[i("img",{staticClass:"avatar",attrs:{src:t.data.user.avatarUrl,loading:"lazy"}}),i("div",{staticClass:"info"},[i("div",{staticClass:"nickname"},[t._v(t._s(t.data.user.nickname))]),i("div",{staticClass:"extra-info"},[0!==t.data.user.vipType?i("span",{staticClass:"vip"},[i("img",{staticClass:"cvip",attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAAA8CAYAAAC6j+5hAAAQK0lEQVR4AXzNh5WDMAwA0Dv3Su+wIfuxC3MwgCMUOz3xe1/N7e/X0lovhJCVUroR8r9DfVBKAuQAM8QYQ4815wlHQqQsIh6kFEA+USpRCP4H92yMfmCCtScL7rVzd967Fz5kmcf6zHmeJdDf66LIowJzWd5zUlUlqmsU6wo1TVI/adsmutZd1z7p+6Q7HePY7WCbpmGd53kBF87L4yiTMAaiM+u9N2NTIpB1CZEHuZAGHLFS8T9UXdJqzeHRw5VX3Z8YAIAPwf5Ii8k6Hsfx0nBxgEQwcWQIDKGPEZolAhIRGLg8hCaJUEuEVwhFIN8QMkOgfXsCApNESBLj+yNCEYjEg0iRicB7mdP05T7n+eulcbzv+2IMAHyAF/HI5J2pwBGBpIA4iCZqGwF5yKSJ4AJpIm1EoCfytJWAwKqN8MZRmYEIpI0IJCuJtUD/VoGIQ6aL01Yi8OuBu+95nlzo2bIsR8bggPxikn6ZwGuXiEhS2+iJQBKJEEJpIm1Epksr2ggiEanIRGDRRhCJuY1Znjaxm9R3CCRTIxHZtTHJI0MkbUQqMq+2bfllDMAHTbwax0HlZYGBymRWaaOIDIFQy/SkjaBtlFlFpgjs2whlE0nEQddGEonN24hAaWaSSQOjic5EwhXNpJH+JrrJw5yWbQQRiEQE0kJLREobEcmcIhGB8i7KpCIUkQhEome0MLJ5G7PAto2Q55TvaGHTxlqivItdG0PksszOGW/m4D/8sGFOQ55KzE0ko4UqE4nayHypIq6eVARGC5V+UmuBKjLkBe2kCv2kaiMRWM+qg0RQgZ7LMgm2pseHRR0247ITmY8cBPazqu+iytRGqlBE5neRpIX9rML/zCqJRJWZGwkqEJAY6QL7WSWRKDJppH9f+r8mLvJ7SASuVEQmiWRqIdBEMq7U30+qkie1eRdFHDKZVY6bflIVJEL9LqYWAgJJmthMqkITSZfnIpHoua53Mm1dv7vIk9RGoZeISEAc06qNdLSFJKhAeEGmS5VUoSGwnlZklm+jkJv4vrtUmVJ5H2li9zaCCtRGIhKZiNy2+WQweachEZDYzik0bcxXKvRtVImAxPrASXPqQvsDp34j2ybWIj8mEAdVG0kOHG0jTEATaSNprKcu8vxPVyoJWSIp72N55HCx1lcqqZNKBkh0uFJJlRm8kXntr9TyfYQkkfRG6vuYr1Tex6KJJDKrIwehNNJYPM+HelZDHO8jLSSdW1rOAci5bYnCeSprmLHtubbte8fXtm3btm3btm3bxq/9TqfeqtpZ0+fszrs5VbUqU+Pkq9W9GzsCjAUnAmJ1Nus2mZpwKy29FOfGHLhrzz7duU8+SNQN553NuREdHF++E0O/k0GGvp9zIz5v1q9vv+befewhd+9Vl7s9t9vaDfX3CjA+qSpOzMblRoEIkC7DAFmAyG7kniogwo1rrriCe+T6a9zsj9/PPZGvX3rO1VZX+zBF8jn5WvCF2GhyDDD1vEgK/D7qq4ZBUngNwwto1kfvuUtPOdEN9PVwucGhFW5kmJCUIADJYTW5gxNX/IuWX2Jx99wdt6r//LVnn6EW/2uvuUbwiX//6kuupamRa0bOkciLZpAIp4Hv51IjDMuoX956za0/PqrmRg6nDJBBAiLlREgrN/7DbszlsWP328fNSf7HI2ir84RDJJCDT/rOyy4OuhGh1Q7S5kguN+ywwpKotc8O29MJFQLE/NwIIbxmeMIh0ro3eOR2nLgxGyXwJ2+5MfgPI8TW1VTjgAPJ50whdusN1wNMbd5odiSfUI0gi+tIgrnBxCi14UheyQEnQhkPIh1wfKDxJ9Wy0lKEUrOuOycXYnlobAqxP73xiutqb6cuDp1SCwNpciSfVIsNEmF2aKBPYHITAADJkR5Ia2Oc2nAicYbZiax11lpDAHJP1RRiH7z2KgHHDQAopRwpANMDCV16yknkyGrfjb4TPZi1cCTgadP/eDcef8B+2j9jDrH1tbU8ppLPmULsLltuFjemsoJEWDWD9GGmARGn2bkGByi0JrmRQHLxDyeKGKBoyYUXQmkR1IwP3sk5bYPodNbf3eXK5UUpFZWoM0dxa+h3/vbOG26wr0eFmUKO9N1oduRnzz3ltlh/Hdff2xWpO/p4Xflc8Of22n4bv4vDAEV6jgTAUE/VB/rqfXeZnsyN553jujva1U4OQqrXS0Vz3BRin7j5BoADSCn0LSC5DWd1JDo4Jogd7S1S7Od1cro624Iw77v6coDk3KhCrK+PHOkfbPDoO1Fz5GrLLWs6he213dYo/rkVR06cDrOhzhZi991xe3VEZQeZjiPFiRhVcStuyw3WTfpZ6QAlFv8C04coUnOk1orzYErHJvhE9tx2a2W9EY88+dd3cdZZa83g3/nzvbfcvMODfk81FZCAaD3s9PV0+U7Ma44P9HUH2nmvx9SNeQccypGASNJqRlF9bY0hnJ4NgDzhiHMjT/5RK5pC7PN33hbBKMGIKo3QSpONIEjJizzhgKQtFyxDuGZEbqSQKhDhyPCoCk4UbTg+FjzYSE7k5jitccTuqQIgmuON9fWmEHvYnrv5k400cqQ33TCHVlHBofW9xx/i5jhcySA5R8aXGzxnvOTk4xP/CXEQb8RBbSWl7soFFnKfrriySD6Wz8W6EUX/uiNrmk7Giy4wnxlkaWlBIOFEE0gcdjo7WqdB7OpsNxx2rvDdGIIYqU5AMsT4/Ch66tbkBsAG4yPiRjqlCsQS983Kq7lZa4z4ks8BproBgML/+nPPCr54r91/j7zIZkdi6p9GaAVMcZ+UHpIX5WNL+bH3DtvEnlIRXhFSIYAUEcD8HIlB8fuPP5Kc5Lu6ABESmOI+hgjJ12K34qCmhgb3zcvPB1+E4w/cvwCQJWaQvBWXZkNg7qFBdcIB4aBDIP+plBsifdlYTlSJIaukhPOj5EUJpbEgP1tpZUAEUHUrbr3REdMLsfSiCxvni/bQynuqaYG87NSTqOSoCUJsaJDQ6hf/BJDyo0hOVMmHgtJSbQ8nAHKVWIAkU4h959EHzYNi68Sfd1TTaprPNdTvQ4T4pKqDFGlb4yK+FvfWw/cXFFrhyCsXWDAQWnnFUQVqDrEp5EiBia24VMZYG06O8SEHEBmmp7qcMur9Rs+FDFImD6HDjlcv4lEONLGHnfbSMnZjTgO93dqYyhRirY40zhd5M67YEKVDpdaMHFbhSDgRyuQ3xmn1X1lvlD0Tw6xRxOuNavnRXoryI38rTnT7JRcKNED0B8fBEGsHaXIkrzYWNZyKE7nUYKAAqIVVP0f6YoD+jSpTQ6Cns523xRPvNwo0rh2H+/vdzA/fjcLocxJOARBFv+zvBEJsUXMk398o0vLVSW54sE8g+opx5LRwio/hSMDzICq5EarKVsgLHJx4xF8Zt12Ju+eKS/H7xH0CkmHKWOxvgERYNYGkPdWwI2UH5+4rLnEfPvloNHJ7XU770gyXyYaMqaISY4CHxtxP5ZOqyIdJoZUmHH7JAfGi8QPXXBkuarffBj1VBaAOE2H1/OOPnvb71h8bQVM8D+YN56khttjrjbRoHAbJq43+1F/ZACCIITcqOZLcCKluBMixVVc2jrG2ITcq9xsppB6z397q75Mw2tzYQNvi5hAb2MGxO9IOEvcb4y7jVAMiL1R5j8iN+e04htjYWA+Q8SEVjuT7G4/fdL15sNzb1eE7Ug2r3R0dcriJ/T0Isdp1uA2Qt+3iG1UFOjKYIwFOcyQ7kdwYLP4prNYDJOVIAklhFTBl1cP0guEAdN05Z+a2xQd6elylHBrKyyLAndHnxuXaQCjv+iHWv0kFybWC/8eRVpCAiEcrSEA0bsWFW3GcH6FM+A5H/P3GUw49iJ5A+jrugH3V+42tzU3GEAuQhS0c+/cbs9kgSADE0jEgJk3+qTEuwIIhlUIrhVUA1K7G+beMJVTeeyVOl+nrxvPPATwGiRCbYo4UiObQGroax4NjiJ0IoBxa40H6SoLIN6qy0ZN648H7UgWIRSt5IQNv4IAQW+yFY1yHM4NkiOEDTtz0H1Lc6OfIuHfh8E+peIT4fqPAvPfKy1KDKDtCjQ31gJh4v7GtpRkhtphbcXRJ1Q5SoOExfr1Rg8nlRh2UBxPKBJzofUxupOm/nECLnTP/ev9tt99O26sA8cgwRRtOjJmXqSALSH8rLgzSfr8RUpxIboTqFZBKbiSgAAiY6h4OCn85zUoYDIMKT/sXnm8e1IxBN7ICIVbgFRhaAbEgR1JeFMXu4XAHh5vjihuhBpcBRN2RajhVt+L47v/E6qvKpMRUVkBzIj15yw1Ro3yt8Ds3Bt7cqL21JSnEem4sNQ2KPTdaHQl4BDAUVuHC+HCKvAg1Nf0PpPYOHPwuVfFujN8aF9VGT2KTqUl3+WknuYevv9q9/cgDuY6/7KN+9eIz7qV77owWuk50O22+qetsa7W+Jw5JvfMvNaoxR9pDK94Lxx5aATHgxsAhh2GyMv9t7WxS2wiiINw7ZxOyT/w3YPBtdBGDL+R76C66hrWVIO8FCgq+rtYgsvimtS/qve7XM6US7MwBgDkSvbF5gAPtN6Y39wYbsaT+WubFuZiMUkFeHN6Ms2sqpFOlYKMC47j1FEdizu8bGwrI3apKartx257PowQ7lYjY4HAI8MMdaXAwznEcRWQU59SJWnF+FBQQUWOzdCrgAjJuTALKkauYsQZDAIgouEvFgNwEpCNLyOLl1I48tmgG+uL8+43GX/8PjuTtRkioEkipWuWo7gz+25/eSAGXOaruROFOhBvDq422copDAZ8bE/PlOEqkjxDDieNG4WKG0L+b943ThCriQu51Y44aW6cau4hCgsKNtSY3akWAA/qjCQg3srQmN6q0vnz8yy2vHnmZhf7xRePbeXFaeU1FN2YxZ72RrKPG5EQK6Hh/VFmVA11IwbJKMfmlMXeo7JGroTg2N94jL29vb4+jHqPE+rIjR3Rj/UY55feNdKNhIv5s1jGc+3vjMvjPmAXFe2qjpVPBjchTDVlxcGMex/2ZnRlttd6Y3fhVjNGPDt4t8b6xW4WAKYIzlVQ48u4IznBmDBmqaYOTs1QpplwJAdMmR3he3NSRTiqpBgSsVSJ+v7+//y7G6EdRYj4cypVXllXvi3Ckwe8b2Rc99T86EvyHshr6I3qkC5i+b8TNfyir6Ita3YUU83ElpAt63bbtUIymH6L75WcJeGUMpztxUVJ53AiZOLsF1JpSjbWClGrMGE4mNzIwPvRFzFKdUFLhRo7hcE3FvngtPosh+uF0mT2UcN/p0zjsVPlmnASEI3luBBDwnt7o0Ik5ML6RcN4fPfxvvVOlgKvXOPJV1VMcjnc53banQzGcfoDumSXiV3FBOb3tRogoPA+HAQ47yylEnE9yBFONU7qxYDkNbpSgdCNEnLpRKyY4YaZ66Y2NeqKjHhnpo0kJ9VGCHuv3qTi7oL7Jsb6oFX0x/5kKd6vBifYbTrzVHwV6Yq3crXKXylEcd6la8VYcR3GY3mgV59fXp1Nx7HNiHzGKkfgLQfHe2MpsYnIAAAAASUVORK5CYII=",loading:"lazy"}}),i("span",{staticClass:"text"},[t._v("黑胶VIP")])]):i("span",{staticClass:"text"},[t._v(t._s(t.data.user.signature))])])])]),i("div",{staticClass:"right"},[i("button",{on:{click:t.logout}},[i("svg-icon",{attrs:{"icon-class":"logout"}}),t._v(" "+t._s(t.$t("settings.logout"))+" ")],1)])]):t._e(),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.language"))+" ")])]),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.lang,expression:"lang"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.lang=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"en"}},[t._v("🇬🇧 English")]),i("option",{attrs:{value:"tr"}},[t._v("🇹🇷 Türkçe")]),i("option",{attrs:{value:"zh-CN"}},[t._v("🇨🇳 简体中文")]),i("option",{attrs:{value:"zh-TW"}},[t._v("繁體中文")])])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.appearance.text"))+" ")])]),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.appearance,expression:"appearance"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.appearance=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"auto"}},[t._v(t._s(t.$t("settings.appearance.auto")))]),i("option",{attrs:{value:"light"}},[t._v("🌞 "+t._s(t.$t("settings.appearance.light")))]),i("option",{attrs:{value:"dark"}},[t._v("🌚 "+t._s(t.$t("settings.appearance.dark")))])])])]),i("div",{staticClass:"item"},[t._m(0),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.musicLanguage,expression:"musicLanguage"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.musicLanguage=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"all"}},[t._v("无偏好")]),i("option",{attrs:{value:"zh"}},[t._v("华语")]),i("option",{attrs:{value:"ea"}},[t._v("欧美")]),i("option",{attrs:{value:"jp"}},[t._v("日语")]),i("option",{attrs:{value:"kr"}},[t._v("韩语")])])])]),i("h3",[t._v("音质")]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.musicQuality.text"))+" ")])]),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.musicQuality,expression:"musicQuality"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.musicQuality=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"128000"}},[t._v(" "+t._s(t.$t("settings.musicQuality.low"))+" - 128Kbps ")]),i("option",{attrs:{value:"192000"}},[t._v(" "+t._s(t.$t("settings.musicQuality.medium"))+" - 192Kbps ")]),i("option",{attrs:{value:"320000"}},[t._v(" "+t._s(t.$t("settings.musicQuality.high"))+" - 320Kbps ")]),i("option",{attrs:{value:"flac"}},[t._v(" "+t._s(t.$t("settings.musicQuality.lossless"))+" - FLAC ")]),i("option",{attrs:{value:"999000"}},[t._v("Hi-Res")])])])]),t.isElectron?i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.deviceSelector"))+" ")])]),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.outputDevice,expression:"outputDevice"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.outputDevice=e.target.multiple?i:i[0]}}},t._l(t.allOutputDevices,(function(e){return i("option",{key:e.deviceId,domProps:{value:e.deviceId,selected:e.deviceId==t.outputDevice}},[t._v(" "+t._s(t.$t(e.label))+" ")])})),0)])]):t._e(),t.isElectron?i("h3",[t._v("缓存")]):t._e(),t.isElectron?i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.automaticallyCacheSongs"))+" ")])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.automaticallyCacheSongs,expression:"automaticallyCacheSongs"}],attrs:{id:"automatically-cache-songs",type:"checkbox",name:"automatically-cache-songs"},domProps:{checked:Array.isArray(t.automaticallyCacheSongs)?t._i(t.automaticallyCacheSongs,null)>-1:t.automaticallyCacheSongs},on:{change:function(e){var i=t.automaticallyCacheSongs,s=e.target,n=!!s.checked;if(Array.isArray(i)){var r=null,a=t._i(i,r);s.checked?a<0&&(t.automaticallyCacheSongs=i.concat([r])):a>-1&&(t.automaticallyCacheSongs=i.slice(0,a).concat(i.slice(a+1)))}else t.automaticallyCacheSongs=n}}}),i("label",{attrs:{for:"automatically-cache-songs"}})])])]):t._e(),t.isElectron?i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.cacheLimit.text"))+" ")])]),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.cacheLimit,expression:"cacheLimit"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.cacheLimit=e.target.multiple?i:i[0]}}},[i("option",{domProps:{value:!1}},[t._v(" "+t._s(t.$t("settings.cacheLimit.none"))+" ")]),i("option",{domProps:{value:512}},[t._v(" 500MB ")]),i("option",{domProps:{value:1024}},[t._v(" 1GB ")]),i("option",{domProps:{value:2048}},[t._v(" 2GB ")]),i("option",{domProps:{value:4096}},[t._v(" 4GB ")]),i("option",{domProps:{value:8192}},[t._v(" 8GB ")])])])]):t._e(),t.isElectron?i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.cacheCount",{song:t.tracksCache.length,size:t.tracksCache.size})))])]),i("div",{staticClass:"right"},[i("button",{on:{click:function(e){return t.clearCache()}}},[t._v(" "+t._s(t.$t("settings.clearSongsCache"))+" ")])])]):t._e(),i("h3",[t._v("歌词")]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("settings.showLyricsTranslation")))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.showLyricsTranslation,expression:"showLyricsTranslation"}],attrs:{id:"show-lyrics-translation",type:"checkbox",name:"show-lyrics-translation"},domProps:{checked:Array.isArray(t.showLyricsTranslation)?t._i(t.showLyricsTranslation,null)>-1:t.showLyricsTranslation},on:{change:function(e){var i=t.showLyricsTranslation,s=e.target,n=!!s.checked;if(Array.isArray(i)){var r=null,a=t._i(i,r);s.checked?a<0&&(t.showLyricsTranslation=i.concat([r])):a>-1&&(t.showLyricsTranslation=i.slice(0,a).concat(i.slice(a+1)))}else t.showLyricsTranslation=n}}}),i("label",{attrs:{for:"show-lyrics-translation"}})])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("settings.lyricsBackground.text")))])]),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.lyricsBackground,expression:"lyricsBackground"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.lyricsBackground=e.target.multiple?i:i[0]}}},[i("option",{domProps:{value:!1}},[t._v(" "+t._s(t.$t("settings.lyricsBackground.off"))+" ")]),i("option",{domProps:{value:!0}},[t._v(" "+t._s(t.$t("settings.lyricsBackground.on"))+" ")]),i("option",{attrs:{value:"blur"}},[t._v(" 模糊封面 ")]),i("option",{attrs:{value:"dynamic"}},[t._v(" "+t._s(t.$t("settings.lyricsBackground.dynamic"))+" ")])])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.showLyricsTime"))+" ")])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.showLyricsTime,expression:"showLyricsTime"}],attrs:{id:"show-lyrics-time",type:"checkbox",name:"show-lyrics-time"},domProps:{checked:Array.isArray(t.showLyricsTime)?t._i(t.showLyricsTime,null)>-1:t.showLyricsTime},on:{change:function(e){var i=t.showLyricsTime,s=e.target,n=!!s.checked;if(Array.isArray(i)){var r=null,a=t._i(i,r);s.checked?a<0&&(t.showLyricsTime=i.concat([r])):a>-1&&(t.showLyricsTime=i.slice(0,a).concat(i.slice(a+1)))}else t.showLyricsTime=n}}}),i("label",{attrs:{for:"show-lyrics-time"}})])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.lyricFontSize.text"))+" ")])]),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.lyricFontSize,expression:"lyricFontSize"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.lyricFontSize=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"16"}},[t._v(" "+t._s(t.$t("settings.lyricFontSize.small"))+" - 16px ")]),i("option",{attrs:{value:"22"}},[t._v(" "+t._s(t.$t("settings.lyricFontSize.medium"))+" - 22px ")]),i("option",{attrs:{value:"28"}},[t._v(" "+t._s(t.$t("settings.lyricFontSize.large"))+" - 28px ")]),i("option",{attrs:{value:"36"}},[t._v(" "+t._s(t.$t("settings.lyricFontSize.xlarge"))+" - 36px ")])])])]),t.isElectron?i("section",{staticClass:"unm-configuration"},[i("h3",[t._v("UnblockNeteaseMusic")]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("settings.unm.enable"))+" "),i("a",{attrs:{href:"https://github.com/UnblockNeteaseMusic/server",target:"blank"}},[t._v("UnblockNeteaseMusic")])])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.enableUnblockNeteaseMusic,expression:"enableUnblockNeteaseMusic"}],attrs:{id:"enable-unblock-netease-music",type:"checkbox",name:"enable-unblock-netease-music"},domProps:{checked:Array.isArray(t.enableUnblockNeteaseMusic)?t._i(t.enableUnblockNeteaseMusic,null)>-1:t.enableUnblockNeteaseMusic},on:{change:function(e){var i=t.enableUnblockNeteaseMusic,s=e.target,n=!!s.checked;if(Array.isArray(i)){var r=null,a=t._i(i,r);s.checked?a<0&&(t.enableUnblockNeteaseMusic=i.concat([r])):a>-1&&(t.enableUnblockNeteaseMusic=i.slice(0,a).concat(i.slice(a+1)))}else t.enableUnblockNeteaseMusic=n}}}),i("label",{attrs:{for:"enable-unblock-netease-music"}})])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.unm.audioSource.title"))+" ")]),t._m(1)]),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.unmSource,expression:"unmSource"}],staticClass:"text-input margin-right-0",attrs:{placeholder:"例 bilibili, kuwo"},domProps:{value:t.unmSource},on:{input:function(e){e.target.composing||(t.unmSource=e.target.value)}}})])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.unm.enableFlac.title"))+" ")]),i("div",{staticClass:"description"},[t._v(" "+t._s(t.$t("settings.unm.enableFlac.desc"))+" ")])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.unmEnableFlac,expression:"unmEnableFlac"}],attrs:{id:"unm-enable-flac",type:"checkbox"},domProps:{checked:Array.isArray(t.unmEnableFlac)?t._i(t.unmEnableFlac,null)>-1:t.unmEnableFlac},on:{change:function(e){var i=t.unmEnableFlac,s=e.target,n=!!s.checked;if(Array.isArray(i)){var r=null,a=t._i(i,r);s.checked?a<0&&(t.unmEnableFlac=i.concat([r])):a>-1&&(t.unmEnableFlac=i.slice(0,a).concat(i.slice(a+1)))}else t.unmEnableFlac=n}}}),i("label",{attrs:{for:"unm-enable-flac"}})])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.unm.searchMode.title"))+" ")])]),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.unmSearchMode,expression:"unmSearchMode"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.unmSearchMode=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"fast-first"}},[t._v(" "+t._s(t.$t("settings.unm.searchMode.fast"))+" ")]),i("option",{attrs:{value:"order-first"}},[t._v(" "+t._s(t.$t("settings.unm.searchMode.order"))+" ")])])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("settings.unm.cookie.joox")))]),i("div",{staticClass:"description"},[i("a",{attrs:{href:"https://github.com/UnblockNeteaseMusic/server-rust/tree/main/engines#joox-cookie-設定說明",target:"_blank"}},[t._v(t._s(t.$t("settings.unm.cookie.desc1"))+" ")]),t._v(" "+t._s(t.$t("settings.unm.cookie.desc2"))+" ")])]),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.unmJooxCookie,expression:"unmJooxCookie"}],staticClass:"text-input margin-right-0",attrs:{placeholder:"wmid=..; session_key=.."},domProps:{value:t.unmJooxCookie},on:{input:function(e){e.target.composing||(t.unmJooxCookie=e.target.value)}}})])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.unm.cookie.qq"))+" ")]),i("div",{staticClass:"description"},[i("a",{attrs:{href:"https://github.com/UnblockNeteaseMusic/server-rust/tree/main/engines#qq-cookie-設定說明",target:"_blank"}},[t._v(t._s(t.$t("settings.unm.cookie.desc1"))+" ")]),t._v(" "+t._s(t.$t("settings.unm.cookie.desc2"))+" ")])]),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.unmQQCookie,expression:"unmQQCookie"}],staticClass:"text-input margin-right-0",attrs:{placeholder:"uin=..; qm_keyst=..;"},domProps:{value:t.unmQQCookie},on:{input:function(e){e.target.composing||(t.unmQQCookie=e.target.value)}}})])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.unm.ytdl"))+" ")]),i("div",{staticClass:"description"},[i("a",{attrs:{href:"https://github.com/UnblockNeteaseMusic/server-rust/tree/main/engines#ytdlexe-設定說明",target:"_blank"}},[t._v(t._s(t.$t("settings.unm.cookie.desc1"))+" ")]),t._v(" "+t._s(t.$t("settings.unm.cookie.desc2"))+" ")])]),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.unmYtDlExe,expression:"unmYtDlExe"}],staticClass:"text-input margin-right-0",attrs:{placeholder:"ex. youtube-dl"},domProps:{value:t.unmYtDlExe},on:{input:function(e){e.target.composing||(t.unmYtDlExe=e.target.value)}}})])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.unm.proxy.title"))+" ")]),i("div",{staticClass:"description"},[t._v(" "+t._s(t.$t("settings.unm.proxy.desc1"))),i("br"),t._v(" "+t._s(t.$t("settings.unm.proxy.desc2"))+" ")])]),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.unmProxyUri,expression:"unmProxyUri"}],staticClass:"text-input margin-right-0",attrs:{placeholder:"ex. https://192.168.11.45"},domProps:{value:t.unmProxyUri},on:{input:function(e){e.target.composing||(t.unmProxyUri=e.target.value)}}})])])]):t._e(),i("h3",[t._v("第三方")]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.isLastfmConnected?"已连接到 Last.fm ("+t.lastfm.name+")":"连接 Last.fm "))])]),i("div",{staticClass:"right"},[t.isLastfmConnected?i("button",{on:{click:function(e){return t.lastfmDisconnect()}}},[t._v("断开连接 ")]):i("button",{on:{click:function(e){return t.lastfmConnect()}}},[t._v(" 授权连接 ")])])]),t.isElectron?i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.enableDiscordRichPresence")))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.enableDiscordRichPresence,expression:"enableDiscordRichPresence"}],attrs:{id:"enable-discord-rich-presence",type:"checkbox",name:"enable-discord-rich-presence"},domProps:{checked:Array.isArray(t.enableDiscordRichPresence)?t._i(t.enableDiscordRichPresence,null)>-1:t.enableDiscordRichPresence},on:{change:function(e){var i=t.enableDiscordRichPresence,s=e.target,n=!!s.checked;if(Array.isArray(i)){var r=null,a=t._i(i,r);s.checked?a<0&&(t.enableDiscordRichPresence=i.concat([r])):a>-1&&(t.enableDiscordRichPresence=i.slice(0,a).concat(i.slice(a+1)))}else t.enableDiscordRichPresence=n}}}),i("label",{attrs:{for:"enable-discord-rich-presence"}})])])]):t._e(),i("h3",[t._v("其他")]),t.isElectron&&!t.isMac?i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.closeAppOption.text"))+" ")])]),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.closeAppOption,expression:"closeAppOption"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.closeAppOption=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"ask"}},[t._v(" "+t._s(t.$t("settings.closeAppOption.ask"))+" ")]),i("option",{attrs:{value:"exit"}},[t._v(" "+t._s(t.$t("settings.closeAppOption.exit"))+" ")]),i("option",{attrs:{value:"minimizeToTray"}},[t._v(" "+t._s(t.$t("settings.closeAppOption.minimizeToTray"))+" ")])])])]):t._e(),t.isElectron&&t.isLinux?i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.enableCustomTitlebar"))+" ")])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.enableCustomTitlebar,expression:"enableCustomTitlebar"}],attrs:{id:"enable-custom-titlebar",type:"checkbox",name:"enable-custom-titlebar"},domProps:{checked:Array.isArray(t.enableCustomTitlebar)?t._i(t.enableCustomTitlebar,null)>-1:t.enableCustomTitlebar},on:{change:function(e){var i=t.enableCustomTitlebar,s=e.target,n=!!s.checked;if(Array.isArray(i)){var r=null,a=t._i(i,r);s.checked?a<0&&(t.enableCustomTitlebar=i.concat([r])):a>-1&&(t.enableCustomTitlebar=i.slice(0,a).concat(i.slice(a+1)))}else t.enableCustomTitlebar=n}}}),i("label",{attrs:{for:"enable-custom-titlebar"}})])])]):t._e(),t.isElectron?i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.showLibraryDefault")))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.showLibraryDefault,expression:"showLibraryDefault"}],attrs:{id:"show-library-default",type:"checkbox",name:"show-library-default"},domProps:{checked:Array.isArray(t.showLibraryDefault)?t._i(t.showLibraryDefault,null)>-1:t.showLibraryDefault},on:{change:function(e){var i=t.showLibraryDefault,s=e.target,n=!!s.checked;if(Array.isArray(i)){var r=null,a=t._i(i,r);s.checked?a<0&&(t.showLibraryDefault=i.concat([r])):a>-1&&(t.showLibraryDefault=i.slice(0,a).concat(i.slice(a+1)))}else t.showLibraryDefault=n}}}),i("label",{attrs:{for:"show-library-default"}})])])]):t._e(),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.showPlaylistsByAppleMusic")))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.showPlaylistsByAppleMusic,expression:"showPlaylistsByAppleMusic"}],attrs:{id:"show-playlists-by-apple-music",type:"checkbox",name:"show-playlists-by-apple-music"},domProps:{checked:Array.isArray(t.showPlaylistsByAppleMusic)?t._i(t.showPlaylistsByAppleMusic,null)>-1:t.showPlaylistsByAppleMusic},on:{change:function(e){var i=t.showPlaylistsByAppleMusic,s=e.target,n=!!s.checked;if(Array.isArray(i)){var r=null,a=t._i(i,r);s.checked?a<0&&(t.showPlaylistsByAppleMusic=i.concat([r])):a>-1&&(t.showPlaylistsByAppleMusic=i.slice(0,a).concat(i.slice(a+1)))}else t.showPlaylistsByAppleMusic=n}}}),i("label",{attrs:{for:"show-playlists-by-apple-music"}})])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("settings.subTitleDefault")))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.subTitleDefault,expression:"subTitleDefault"}],attrs:{id:"sub-title-default",type:"checkbox",name:"sub-title-default"},domProps:{checked:Array.isArray(t.subTitleDefault)?t._i(t.subTitleDefault,null)>-1:t.subTitleDefault},on:{change:function(e){var i=t.subTitleDefault,s=e.target,n=!!s.checked;if(Array.isArray(i)){var r=null,a=t._i(i,r);s.checked?a<0&&(t.subTitleDefault=i.concat([r])):a>-1&&(t.subTitleDefault=i.slice(0,a).concat(i.slice(a+1)))}else t.subTitleDefault=n}}}),i("label",{attrs:{for:"sub-title-default"}})])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("settings.enableReversedMode")))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.enableReversedMode,expression:"enableReversedMode"}],attrs:{id:"enable-reversed-mode",type:"checkbox",name:"enable-reversed-mode"},domProps:{checked:Array.isArray(t.enableReversedMode)?t._i(t.enableReversedMode,null)>-1:t.enableReversedMode},on:{change:function(e){var i=t.enableReversedMode,s=e.target,n=!!s.checked;if(Array.isArray(i)){var r=null,a=t._i(i,r);s.checked?a<0&&(t.enableReversedMode=i.concat([r])):a>-1&&(t.enableReversedMode=i.slice(0,a).concat(i.slice(a+1)))}else t.enableReversedMode=n}}}),i("label",{attrs:{for:"enable-reversed-mode"}})])])]),i("div",{staticClass:"item"},[t._m(2),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.nyancatStyle,expression:"nyancatStyle"}],attrs:{id:"nyancat-style",type:"checkbox",name:"nyancat-style"},domProps:{checked:Array.isArray(t.nyancatStyle)?t._i(t.nyancatStyle,null)>-1:t.nyancatStyle},on:{change:function(e){var i=t.nyancatStyle,s=e.target,n=!!s.checked;if(Array.isArray(i)){var r=null,a=t._i(i,r);s.checked?a<0&&(t.nyancatStyle=i.concat([r])):a>-1&&(t.nyancatStyle=i.slice(0,a).concat(i.slice(a+1)))}else t.nyancatStyle=n}}}),i("label",{attrs:{for:"nyancat-style"}})])])]),t.isElectron?i("div",[i("h3",[t._v("代理")]),i("div",{staticClass:"item"},[t._m(3),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.proxyProtocol,expression:"proxyProtocol"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.proxyProtocol=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"noProxy"}},[t._v(" 关闭代理 ")]),i("option",{attrs:{value:"HTTP"}},[t._v(" HTTP 代理 ")]),i("option",{attrs:{value:"HTTPS"}},[t._v(" HTTPS 代理 ")])])])]),i("div",{class:{disabled:"noProxy"===t.proxyProtocol},attrs:{id:"proxy-form"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.proxyServer,expression:"proxyServer"}],staticClass:"text-input",attrs:{placeholder:"服务器地址",disabled:"noProxy"===t.proxyProtocol},domProps:{value:t.proxyServer},on:{input:function(e){e.target.composing||(t.proxyServer=e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.proxyPort,expression:"proxyPort"}],staticClass:"text-input",attrs:{placeholder:"端口",type:"number",min:"1",max:"65535",disabled:"noProxy"===t.proxyProtocol},domProps:{value:t.proxyPort},on:{input:function(e){e.target.composing||(t.proxyPort=e.target.value)}}}),i("button",{on:{click:t.sendProxyConfig}},[t._v("更新代理")])])]):t._e(),t.isElectron?i("div",[i("h3",[t._v("快捷键")]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.enableGlobalShortcut")))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.enableGlobalShortcut,expression:"enableGlobalShortcut"}],attrs:{id:"enable-enable-global-shortcut",type:"checkbox",name:"enable-enable-global-shortcut"},domProps:{checked:Array.isArray(t.enableGlobalShortcut)?t._i(t.enableGlobalShortcut,null)>-1:t.enableGlobalShortcut},on:{change:function(e){var i=t.enableGlobalShortcut,s=e.target,n=!!s.checked;if(Array.isArray(i)){var r=null,a=t._i(i,r);s.checked?a<0&&(t.enableGlobalShortcut=i.concat([r])):a>-1&&(t.enableGlobalShortcut=i.slice(0,a).concat(i.slice(a+1)))}else t.enableGlobalShortcut=n}}}),i("label",{attrs:{for:"enable-enable-global-shortcut"}})])])]),i("div",{class:{"global-disabled":!t.enableGlobalShortcut},attrs:{id:"shortcut-table",tabindex:"0"},on:{keydown:t.handleShortcutKeydown}},[t._m(4),t._l(t.settings.shortcuts,(function(e){return i("div",{key:e.id,staticClass:"row"},[i("div",{staticClass:"col"},[t._v(t._s(e.name))]),i("div",{staticClass:"col"},[i("div",{staticClass:"keyboard-input",class:{active:t.shortcutInput.id===e.id&&"shortcut"===t.shortcutInput.type},on:{click:function(i){return i.stopPropagation(),t.readyToRecordShortcut(e.id,"shortcut")}}},[t._v(" "+t._s(t.shortcutInput.id===e.id&&"shortcut"===t.shortcutInput.type&&""!==t.recordedShortcutComputed?t.formatShortcut(t.recordedShortcutComputed):t.formatShortcut(e.shortcut))+" ")])]),i("div",{staticClass:"col"},[i("div",{staticClass:"keyboard-input",class:{active:t.shortcutInput.id===e.id&&"globalShortcut"===t.shortcutInput.type&&t.enableGlobalShortcut},on:{click:function(i){return i.stopPropagation(),t.readyToRecordShortcut(e.id,"globalShortcut")}}},[t._v(t._s(t.shortcutInput.id===e.id&&"globalShortcut"===t.shortcutInput.type&&""!==t.recordedShortcutComputed?t.formatShortcut(t.recordedShortcutComputed):t.formatShortcut(e.globalShortcut)))])])])})),i("button",{staticClass:"restore-default-shortcut",on:{click:t.restoreDefaultShortcuts}},[t._v("恢复默认快捷键")])],2)]):t._e(),i("div",{staticClass:"footer"},[t._m(5),i("p",{staticClass:"version"},[t._v("v"+t._s(t.version))]),t.isElectron?t._e():i("a",{attrs:{href:"https://vercel.com/?utm_source=ohmusic&utm_campaign=oss"}},[i("img",{attrs:{height:"36",src:"https://www.datocms-assets.com/31049/1618983297-powered-by-vercel.svg"}})])])])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" 音乐语种偏好 ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"description"},[t._v(" 音源的具体代号 "),i("a",{attrs:{href:"https://github.com/UnblockNeteaseMusic/server-rust/blob/main/README.md#支援的所有引擎",target:"_blank"}},[t._v(" 可以点此到 UNM 的说明页面查询。 ")]),i("br"),t._v(" 多个音源请用 "),i("code",[t._v(",")]),t._v(" 逗号分隔。"),i("br"),t._v(" 留空则使用 UNM 内置的默认值。 ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left"},[i("div",{staticClass:"title",staticStyle:{transform:"scaleX(-1)"}},[t._v("🐈️ 🏳️‍🌈")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" 代理协议 ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row row-head"},[i("div",{staticClass:"col"},[t._v("功能")]),i("div",{staticClass:"col"},[t._v("快捷键")]),i("div",{staticClass:"col"},[t._v("全局快捷键")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"author"},[t._v("MADE BY "),i("a",{attrs:{href:"http://github.com/qier222",target:"_blank"}},[t._v("QIER222")])])}],r=i("dae2"),a=r["a"],o=(i("eeec"),i("2877")),l=Object(o["a"])(a,s,n,!1,null,"13c8e6c5",null);e["default"]=l.exports},"8a32":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[i("div",[i("div",{staticClass:"title"},[t._v(t._s(t.$t("login.usernameLogin")))]),i("div",{staticClass:"section"},[i("div",{staticClass:"search-box"},[i("div",{staticClass:"container"},[i("svg-icon",{attrs:{"icon-class":"search"}}),i("div",{staticClass:"input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{placeholder:t.$t("login.searchHolder")},domProps:{value:t.keyword},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.throttleSearch.apply(null,arguments)},input:function(e){e.target.composing||(t.keyword=e.target.value)}}})])],1)])]),i("div",{staticClass:"sestion"},[i("div",{directives:[{name:"show",rawName:"v-show",value:void 0===t.activeUser.nickname,expression:"activeUser.nickname === undefined"}],staticClass:"name"},[t._v(" "+t._s(t.$t("login.enterTip"))+" ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.activeUser.nickname,expression:"activeUser.nickname !== undefined"}],staticClass:"name"},[t._v(" "+t._s(t.$t("login.choose"))+" ")]),i("div",{staticClass:"user-list"},t._l(t.result,(function(e){return i("div",{key:e.id,staticClass:"user",class:{active:e.nickname===t.activeUser.nickname},on:{click:function(i){t.activeUser=e}}},[i("img",{staticClass:"head",attrs:{src:t._f("resizeImage")(e.avatarUrl),loading:"lazy"}}),i("div",{staticClass:"nickname"},[t._v(" "+t._s(e.nickname)+" ")])])})),0)]),i("ButtonTwoTone",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.activeUser.nickname,expression:"activeUser.nickname !== undefined"}],nativeOn:{click:function(e){return t.confirm.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("login.confirm"))+" ")])],1)])},n=[],r=i("2f62"),a=i("323e"),o=i.n(a),l=i("dad3"),c=i("c24f"),u=i("cf45"),h=i("5e45"),d={name:"LoginUsername",components:{ButtonTwoTone:h["a"]},data(){return{keyword:"",result:[],activeUser:{}}},created(){o.a.done()},methods:{...Object(r["c"])(["updateData"]),search(){this.keyword&&Object(l["c"])({keywords:this.keyword,limit:9,type:1002}).then(t=>{this.result=t.result.userprofiles,this.activeUser=this.result[0]})},confirm(){this.updateData({key:"user",value:this.activeUser}),this.updateData({key:"loginMode",value:"username"}),Object(c["k"])({uid:this.activeUser.userId,limit:1}).then(t=>{this.updateData({key:"likedSongPlaylistID",value:t.playlist[0].id}),this.$router.push({path:"/library"})})},throttleSearch:Object(u["i"])((function(){this.search()}),500)}},p=d,m=(i("35aa"),i("2877")),f=Object(m["a"])(p,s,n,!1,null,"1432965f",null);e["default"]=f.exports},"8ac5":function(t,e,i){},"8b00":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"playlist"},[void 0!==t.specialPlaylistInfo||t.isLikeSongsPage?t._e():i("div",{staticClass:"playlist-info"},[i("Cover",{attrs:{id:t.playlist.id,"img-url":t._f("resizeImage")(t.playlist.coverImgUrl,1024),"show-play-button":!0,"always-show-shadow":!0,"click-cover-to-play":!0,"fixed-size":288,type:"playlist","cover-hover":!1,"play-button-size":18},nativeOn:{contextmenu:function(e){return t.openMenu.apply(null,arguments)}}}),i("div",{staticClass:"info"},[i("div",{staticClass:"title",on:{contextmenu:function(e){return t.openMenu.apply(null,arguments)}}},[10===t.playlist.privacy?i("span",{staticClass:"lock-icon"},[i("svg-icon",{attrs:{"icon-class":"lock"}})],1):t._e(),t._v(t._s(t.playlist.name))]),i("div",{staticClass:"artist"},[t._v(" Playlist by "),[5277771961,5277965913,5277969451,5277778542,5278068783].includes(t.playlist.id)?i("span",{staticStyle:{"font-weight":"600"}},[t._v("Apple Music")]):i("a",{attrs:{href:"https://music.163.com/#/user/home?id="+t.playlist.creator.userId,target:"blank"}},[t._v(t._s(t.playlist.creator.nickname))])]),i("div",{staticClass:"date-and-count"},[t._v(" "+t._s(t.$t("playlist.updatedAt"))+" "+t._s(t._f("formatDate")(t.playlist.updateTime))+" · "+t._s(t.playlist.trackCount)+" "+t._s(t.$t("common.songs"))+" ")]),i("div",{staticClass:"description",on:{click:t.toggleFullDescription}},[t._v(" "+t._s(t.playlist.description)+" ")]),i("div",{staticClass:"buttons"},[i("ButtonTwoTone",{attrs:{"icon-class":"play"},nativeOn:{click:function(e){return t.playPlaylistByID()}}},[t._v(" "+t._s(t.$t("common.play"))+" ")]),t.playlist.creator.userId!==t.data.user.userId?i("ButtonTwoTone",{attrs:{"icon-class":t.playlist.subscribed?"heart-solid":"heart","icon-button":!0,"horizontal-padding":0,color:t.playlist.subscribed?"blue":"grey","text-color":t.playlist.subscribed?"#335eea":"","background-color":t.playlist.subscribed?"var(--color-secondary-bg)":""},nativeOn:{click:function(e){return t.likePlaylist.apply(null,arguments)}}}):t._e(),i("ButtonTwoTone",{attrs:{"icon-class":"more","icon-button":!0,"horizontal-padding":0,color:"grey"},nativeOn:{click:function(e){return t.openMenu.apply(null,arguments)}}})],1)]),t.displaySearchInPlaylist?i("div",{staticClass:"search-box"},[i("div",{staticClass:"container",class:{active:t.inputFocus}},[i("svg-icon",{attrs:{"icon-class":"search"}}),i("div",{staticClass:"input"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputSearchKeyWords,expression:"inputSearchKeyWords",modifiers:{trim:!0}},{name:"focus",rawName:"v-focus"}],attrs:{placeholder:t.inputFocus?"":t.$t("playlist.search")},domProps:{value:t.inputSearchKeyWords},on:{input:[function(e){e.target.composing||(t.inputSearchKeyWords=e.target.value.trim())},function(e){return t.inputDebounce()}],focus:function(e){t.inputFocus=!0},blur:[function(e){t.inputFocus=!1},function(e){return t.$forceUpdate()}]}})])],1)]):t._e()],1),void 0!==t.specialPlaylistInfo?i("div",{staticClass:"special-playlist"},[i("div",{staticClass:"title",class:t.specialPlaylistInfo.gradient,on:{contextmenu:function(e){return t.openMenu.apply(null,arguments)}}},[t._v(" "+t._s(t.specialPlaylistInfo.name)+" ")]),i("div",{staticClass:"subtitle"},[t._v(t._s(t.playlist.englishTitle)+" · "+t._s(t.playlist.updateFrequency)+" ")]),i("div",{staticClass:"buttons"},[i("ButtonTwoTone",{staticClass:"play-button",attrs:{"icon-class":"play",color:"grey"},nativeOn:{click:function(e){return t.playPlaylistByID()}}},[t._v(" "+t._s(t.$t("common.play"))+" ")]),t.playlist.creator.userId!==t.data.user.userId?i("ButtonTwoTone",{attrs:{"icon-class":t.playlist.subscribed?"heart-solid":"heart","icon-button":!0,"horizontal-padding":0,color:t.playlist.subscribed?"blue":"grey","text-color":t.playlist.subscribed?"#335eea":"","background-color":t.playlist.subscribed?"var(--color-secondary-bg)":""},nativeOn:{click:function(e){return t.likePlaylist.apply(null,arguments)}}}):t._e(),i("ButtonTwoTone",{attrs:{"icon-class":"more","icon-button":!0,"horizontal-padding":0,color:"grey"},nativeOn:{click:function(e){return t.openMenu.apply(null,arguments)}}})],1)]):t._e(),t.isLikeSongsPage?i("div",{staticClass:"user-info"},[i("h1",[i("img",{staticClass:"avatar",attrs:{src:t._f("resizeImage")(t.data.user.avatarUrl),loading:"lazy"}}),t._v(" "+t._s(t.data.user.nickname)+t._s(t.$t("library.sLikedSongs"))+" ")]),i("div",{staticClass:"search-box-likepage",on:{click:function(e){return t.searchInPlaylist()}}},[i("div",{staticClass:"container",class:{active:t.inputFocus}},[i("svg-icon",{attrs:{"icon-class":"search"}}),i("div",{staticClass:"input",style:{width:t.searchInputWidth}},[t.displaySearchInPlaylist?i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputSearchKeyWords,expression:"inputSearchKeyWords",modifiers:{trim:!0}},{name:"focus",rawName:"v-focus"}],attrs:{placeholder:t.inputFocus?"":t.$t("playlist.search")},domProps:{value:t.inputSearchKeyWords},on:{input:[function(e){e.target.composing||(t.inputSearchKeyWords=e.target.value.trim())},function(e){return t.inputDebounce()}],focus:function(e){t.inputFocus=!0},blur:[function(e){t.inputFocus=!1},function(e){return t.$forceUpdate()}]}}):t._e()])],1)])]):t._e(),i("TrackList",{attrs:{id:t.playlist.id,tracks:t.filteredTracks,type:"playlist","extra-context-menu-item":t.isUserOwnPlaylist?["removeTrackFromPlaylist"]:[]}}),i("div",{staticClass:"load-more"},[i("ButtonTwoTone",{directives:[{name:"show",rawName:"v-show",value:t.hasMore,expression:"hasMore"}],attrs:{color:"grey",loading:t.loadingMore},nativeOn:{click:function(e){return t.loadMore(100)}}},[t._v(t._s(t.$t("explore.loadMore")))])],1),i("Modal",{attrs:{show:t.showFullDescription,close:t.toggleFullDescription,"show-footer":!1,"click-outside-hide":!0,title:"歌单介绍"}},[t._v(t._s(t.playlist.description))]),i("ContextMenu",{ref:"playlistMenu"},[i("div",{staticClass:"item",on:{click:function(e){return t.likePlaylist(!0)}}},[t._v(t._s(t.playlist.subscribed?t.$t("contextMenu.removeFromLibrary"):t.$t("contextMenu.saveToLibrary")))]),i("div",{staticClass:"item",on:{click:function(e){return t.searchInPlaylist()}}},[t._v(t._s(t.$t("contextMenu.searchInPlaylist")))]),t.playlist.creator.userId===t.data.user.userId?i("div",{staticClass:"item",on:{click:t.editPlaylist}},[t._v("编辑歌单信息")]):t._e(),t.playlist.creator.userId===t.data.user.userId?i("div",{staticClass:"item",on:{click:t.deletePlaylist}},[t._v("删除歌单")]):t._e()])],1)},n=[],r=(i("caad"),i("2f62")),a=i("323e"),o=i.n(a),l=i("1e9a"),c=i("fefb"),u=i("5f87"),h=i("fe07"),d=i("5e45"),p=i("6825"),m=i("a1a1"),f=i("3020"),g=i("714b");const v={2829816518:{name:"欧美私人订制",gradient:"gradient-pink-purple-blue"},2890490211:{name:"助眠鸟鸣声",gradient:"gradient-green"},5089855855:{name:"夜的胡思乱想",gradient:"gradient-moonstone-blue"},2888212971:{name:"全球百大DJ",gradient:"gradient-orange-red"},2829733864:{name:"睡眠伴侣",gradient:"gradient-midnight-blue"},2829844572:{name:"洗澡时听的歌",gradient:"gradient-yellow"},2920647537:{name:"还是会想你",gradient:"gradient-dark-blue-midnight-blue"},2890501416:{name:"助眠白噪声",gradient:"gradient-sky-blue"},5217150082:{name:"摇滚唱片行",gradient:"gradient-yellow-red"},2829961453:{name:"古风音乐大赏",gradient:"gradient-fog"},4923261701:{name:"Trance",gradient:"gradient-light-red-light-blue "},5212729721:{name:"欧美点唱机",gradient:"gradient-indigo-pink-yellow"},3103434282:{name:"甜蜜少女心",gradient:"gradient-pink"},2829896389:{name:"日系私人订制",gradient:"gradient-yellow-pink"},2829779628:{name:"运动随身听",gradient:"gradient-orange-red"},2860654884:{name:"独立女声精选",gradient:"gradient-sharp-blue"},898150:{name:"浪漫婚礼专用",gradient:"gradient-pink"},2638104052:{name:"牛奶泡泡浴",gradient:"gradient-fog"},5317236517:{name:"后朋克精选",gradient:"gradient-pink-purple-blue"},2821115454:{name:"一周原创发现",gradient:"gradient-blue-purple"},2829883282:{name:"华语私人雷达",gradient:"gradient-yellow-red"},3136952023:{name:"私人雷达",gradient:"gradient-radar"}};var y={name:"Playlist",components:{Cover:f["a"],ButtonTwoTone:d["a"],TrackList:m["a"],Modal:g["a"],ContextMenu:p["a"]},directives:{focus:{inserted:function(t){t.focus()}}},data(){return{show:!1,playlist:{id:0,coverImgUrl:"",creator:{userId:""},trackIds:[]},showFullDescription:!1,tracks:[],loadingMore:!1,hasMore:!1,lastLoadedTrackIndex:9,displaySearchInPlaylist:!1,searchKeyWords:"",inputSearchKeyWords:"",inputFocus:!1,debounceTimeout:null,searchInputWidth:"0px"}},computed:{...Object(r["d"])(["player","data"]),isLikeSongsPage(){return"likedSongs"===this.$route.name},specialPlaylistInfo(){return v[this.playlist.id]},isUserOwnPlaylist(){return this.playlist.creator.userId===this.data.user.userId&&this.playlist.id!==this.data.likedSongPlaylistID},filteredTracks(){return this.tracks.filter(t=>t.name&&t.name.toLowerCase().includes(this.searchKeyWords.toLowerCase())||t.al.name&&t.al.name.toLowerCase().includes(this.searchKeyWords.toLowerCase())||t.ar.find(t=>t.name&&t.name.toLowerCase().includes(this.searchKeyWords.toLowerCase())))}},created(){"likedSongs"===this.$route.name?this.loadData(this.data.likedSongPlaylistID):this.loadData(this.$route.params.id),setTimeout(()=>{this.show||o.a.start()},1e3)},methods:{...Object(r["c"])(["appendTrackToPlayerList"]),...Object(r["b"])(["playFirstTrackOnList","playTrackOnListByID","showToast"]),playPlaylistByID(t="first"){let e=this.playlist.trackIds.map(t=>t.id);this.$store.state.player.replacePlaylist(e,this.playlist.id,"playlist",t)},likePlaylist(t=!1){Object(u["c"])()?Object(l["j"])({id:this.playlist.id,t:this.playlist.subscribed?2:1}).then(e=>{200===e.code&&(this.playlist.subscribed=!this.playlist.subscribed,!0===t&&this.showToast(this.playlist.subscribed?"已保存到音乐库":"已从音乐库删除")),Object(l["f"])(this.id,!0).then(t=>{this.playlist=t.playlist})}):this.showToast(h["a"].t("toast.needToLogin"))},loadData(t,e){this.id=t,Object(l["f"])(this.id,!0).then(t=>(this.playlist=t.playlist,this.tracks=t.playlist.tracks,o.a.done(),void 0!==e&&e(),this.show=!0,this.lastLoadedTrackIndex=t.playlist.tracks.length-1,t)).then(()=>{this.playlist.trackCount>this.tracks.length&&(this.loadingMore=!0,this.loadMore())})},loadMore(t=100){let e=this.playlist.trackIds.filter((e,i)=>{if(i>this.lastLoadedTrackIndex&&i<=this.lastLoadedTrackIndex+t)return e});e=e.map(t=>t.id),Object(c["c"])(e.join(",")).then(t=>{this.tracks.push(...t.songs),this.lastLoadedTrackIndex+=e.length,this.loadingMore=!1,this.lastLoadedTrackIndex+1===this.playlist.trackIds.length?this.hasMore=!1:this.hasMore=!0})},openMenu(t){this.$refs.playlistMenu.openMenu(t)},deletePlaylist(){if(!Object(u["c"])())return void this.showToast(h["a"].t("toast.needToLogin"));let t=confirm(`确定要删除歌单 ${this.playlist.name}？`);!0===t&&Object(l["e"])(this.playlist.id).then(t=>{200===t.code?(console.log("已删除歌单 "+this.playlist.name),this.$router.go(-1)):console.log("发生错误")})},editPlaylist(){console.log("此功能开发中")},searchInPlaylist(){this.displaySearchInPlaylist=!this.displaySearchInPlaylist||this.isLikeSongsPage,0==this.displaySearchInPlaylist?(this.searchKeyWords="",this.inputSearchKeyWords=""):(this.searchInputWidth="172px",this.loadMore(500))},removeTrack(t){Object(u["c"])()?this.tracks=this.tracks.filter(e=>e.id!==t):this.showToast(h["a"].t("toast.needToLogin"))},inputDebounce(){this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.searchKeyWords=this.inputSearchKeyWords},600)},toggleFullDescription(){this.showFullDescription=!this.showFullDescription,this.showFullDescription?this.$store.commit("enableScrolling",!1):this.$store.commit("enableScrolling",!0)}}},b=y,w=(i("00ff"),i("2877")),k=Object(w["a"])(b,s,n,!1,null,"43894b94",null);e["default"]=k.exports},"8c32":function(t,e,i){},"8d23":function(t,e,i){const s=i("2732");function n(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}n.prototype.initialize=function(t){this.degree=t,this.genPoly=s.generateECPolynomial(this.degree)},n.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const i=s.mod(e,this.genPoly),n=this.degree-i.length;if(n>0){const t=new Uint8Array(this.degree);return t.set(i,n),t}return i},t.exports=n},"91d0":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"explore-page"},[i("h1",[t._v(t._s(t.$t("explore.explore")))]),i("div",{staticClass:"buttons"},[t._l(t.settings.enabledPlaylistCategories,(function(e){return i("div",{key:e,staticClass:"button",class:{active:e===t.activeCategory&&!t.showCatOptions},on:{click:function(i){return t.goToCategory(e)}}},[t._v(" "+t._s(e)+" ")])})),i("div",{staticClass:"button more",class:{active:t.showCatOptions},on:{click:function(e){t.showCatOptions=!t.showCatOptions}}},[i("svg-icon",{attrs:{"icon-class":"more"}})],1)],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showCatOptions,expression:"showCatOptions"}],staticClass:"panel"},t._l(t.allBigCats,(function(e){return i("div",{key:e,staticClass:"big-cat"},[i("div",{staticClass:"name"},[t._v(t._s(e))]),i("div",{staticClass:"cats"},t._l(t.getCatsByBigCat(e),(function(e){return i("div",{key:e.name,staticClass:"cat",class:{active:t.settings.enabledPlaylistCategories.includes(e.name)},on:{click:function(i){return t.toggleCat(e.name)}}},[i("span",[t._v(t._s(e.name))])])})),0)])})),0),i("div",{staticClass:"playlists"},[i("CoverRow",{attrs:{type:"playlist",items:t.playlists,"sub-text":t.subText,"show-play-button":!0,"show-play-count":"排行榜"!==t.activeCategory,"image-size":"排行榜"!==t.activeCategory?512:1024}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!1===["推荐歌单","排行榜"].includes(t.activeCategory),expression:"['推荐歌单', '排行榜'].includes(activeCategory) === false"}],staticClass:"load-more"},[i("ButtonTwoTone",{directives:[{name:"show",rawName:"v-show",value:t.showLoadMoreButton&&t.hasMore,expression:"showLoadMoreButton && hasMore"}],attrs:{color:"grey",loading:t.loadingMore},nativeOn:{click:function(e){return t.getPlaylist.apply(null,arguments)}}},[t._v(t._s(t.$t("explore.loadMore")))])],1)])},n=[],r=i("2f62"),a=i("323e"),o=i.n(a),l=i("1e9a"),c=i("d87d"),u=i("2826"),h=i("5e45"),d=i("2726"),p=i("0032"),m={name:"Explore",components:{CoverRow:d["a"],ButtonTwoTone:h["a"],SvgIcon:p["a"]},beforeRouteUpdate(t,e,i){this.showLoadMoreButton=!1,this.hasMore=!0,this.playlists=[],this.offset=1,this.activeCategory=t.query.category,this.getPlaylist(),i()},data(){return{show:!1,playlists:[],activeCategory:"全部",loadingMore:!1,showLoadMoreButton:!1,hasMore:!0,allBigCats:["语种","风格","场景","情感","主题"],showCatOptions:!1}},computed:{...Object(r["d"])(["settings"]),subText(){return"排行榜"===this.activeCategory?"updateFrequency":"推荐歌单"===this.activeCategory?"copywriter":"none"}},activated(){this.loadData(),this.$parent.$refs.scrollbar.restorePosition()},methods:{...Object(r["c"])(["togglePlaylistCategory"]),loadData(){setTimeout(()=>{this.show||o.a.start()},1e3),this.activeCategory=void 0===this.$route.query.category?"全部":this.$route.query.category,this.getPlaylist()},goToCategory(t){this.showCatOptions=!1,this.$router.push({name:"explore",query:{category:t}})},updatePlaylist(t){this.playlists.push(...t),this.loadingMore=!1,this.showLoadMoreButton=!0,o.a.done(),this.show=!0},getPlaylist(){return this.loadingMore=!0,"推荐歌单"===this.activeCategory?this.getRecommendPlayList():"精品歌单"===this.activeCategory?this.getHighQualityPlaylist():"排行榜"===this.activeCategory?this.getTopLists():this.getTopPlayList()},getRecommendPlayList(){Object(u["b"])(100,!0).then(t=>{this.playlists=[],this.updatePlaylist(t)})},getHighQualityPlaylist(){let t=this.playlists,e=0!==t.length?t[t.length-1].updateTime:0;Object(l["g"])({limit:50,before:e}).then(t=>{this.updatePlaylist(t.playlists),this.hasMore=t.more})},getTopLists(){Object(l["l"])().then(t=>{this.playlists=[],this.updatePlaylist(t.list)})},getTopPlayList(){Object(l["k"])({cat:this.activeCategory,offset:this.playlists.length}).then(t=>{this.updatePlaylist(t.playlists),this.hasMore=t.more})},getCatsByBigCat(t){return c["b"].filter(e=>e.bigCat===t)},toggleCat(t){this.togglePlaylistCategory(t)}}},f=m,g=(i("66be"),i("2877")),v=Object(g["a"])(f,s,n,!1,null,"4523da1c",null);e["default"]=v.exports},"924f":function(t,e,i){const s=i("7bf0").getSymbolSize,n=7;e.getPositions=function(t){const e=s(t);return[[0,0],[e-n,0],[0,e-n]]}},9369:function(t,e,i){"use strict";i("78d2")},"954f":function(t,e,i){"use strict";i("f2f1")},9582:function(t,e,i){const s=i("7bf0"),n=1335,r=21522,a=s.getBCHDigit(n);e.getEncodedBits=function(t,e){const i=t.bit<<3|e;let o=i<<10;while(s.getBCHDigit(o)-a>=0)o^=n<<s.getBCHDigit(o)-a;return(i<<10|o)^r}},"98ec":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"next-tracks"},[i("h1",[t._v(t._s(t.$t("next.nowPlaying")))]),i("TrackList",{attrs:{tracks:[t.currentTrack],type:"playlist","dbclick-track-func":"none"}}),i("h1",{directives:[{name:"show",rawName:"v-show",value:t.playNextList.length>0,expression:"playNextList.length > 0"}]},[t._v("插队播放 "),i("button",{on:{click:function(e){return t.player.clearPlayNextList()}}},[t._v("清除队列")])]),i("TrackList",{directives:[{name:"show",rawName:"v-show",value:t.playNextList.length>0,expression:"playNextList.length > 0"}],attrs:{tracks:t.playNextTracks,type:"playlist","highlight-playing-track":!1,"dbclick-track-func":"playTrackOnListByID","item-key":"id+index","extra-context-menu-item":["removeTrackFromQueue"]}}),i("h1",[t._v(t._s(t.$t("next.nextUp")))]),i("TrackList",{attrs:{tracks:t.filteredTracks,type:"playlist","highlight-playing-track":!1,"dbclick-track-func":"playTrackOnListByID"}})],1)},n=[],r=(i("caad"),i("2f62")),a=i("fefb"),o=i("a1a1"),l={name:"Next",components:{TrackList:o["a"]},data(){return{tracks:[]}},computed:{...Object(r["d"])(["player"]),currentTrack(){return this.player.currentTrack},playerShuffle(){return this.player.shuffle},filteredTracks(){let t=this.player.list.slice(this.player.current+1,this.player.current+100);return this.tracks.filter(e=>t.includes(e.id))},playNextList(){return this.player.playNextList},playNextTracks(){return this.playNextList.map(t=>this.tracks.find(e=>e.id===t))}},watch:{currentTrack(){this.loadTracks()},playerShuffle(){this.loadTracks()},playNextList(){this.loadTracks()}},activated(){this.loadTracks(),this.$parent.$refs.scrollbar.restorePosition()},methods:{...Object(r["b"])(["playTrackOnListByID"]),loadTracks(){let t=this.player.list.slice(this.player.current+1,this.player.current+100);t.push(...this.playNextList);let e=this.tracks.map(t=>t.id);t.length>0&&Object(a["c"])(t.join(",")).then(t=>{let i=t.songs.filter(t=>!e.includes(t.id));this.tracks.push(...i)})}}},c=l,u=(i("f351"),i("2877")),h=Object(u["a"])(c,s,n,!1,null,"4ccd4a24",null);e["default"]=h.exports},"9a6a":function(t,e,i){"use strict";i("2fb2")},"9b4e":function(t,e,i){},"9d94":function(t,e,i){const s=i("bbf0"),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(t){this.mode=s.ALPHANUMERIC,this.data=t}r.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let i=45*n.indexOf(this.data[e]);i+=n.indexOf(this.data[e+1]),t.put(i,11)}this.data.length%2&&t.put(n.indexOf(this.data[e]),6)},t.exports=r},"9e41":function(t,e,i){},"9ecd":function(t,e,i){},a0b9:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[i("div",{staticClass:"login-container"},[t._m(0),i("div",{staticClass:"title"},[t._v(t._s(t.$t("login.loginText")))]),i("div",{staticClass:"section-2"},[i("div",{directives:[{name:"show",rawName:"v-show",value:"phone"===t.mode,expression:"mode === 'phone'"}],staticClass:"input-box"},[i("div",{staticClass:"container",class:{active:"phone"===t.inputFocus}},[i("svg-icon",{attrs:{"icon-class":"mobile"}}),i("div",{staticClass:"inputs"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.countryCode,expression:"countryCode"}],attrs:{id:"countryCode",placeholder:"phone"===t.inputFocus?"":t.$t("login.countryCode")},domProps:{value:t.countryCode},on:{focus:function(e){t.inputFocus="phone"},blur:function(e){t.inputFocus=""},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.countryCode=e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNumber,expression:"phoneNumber"}],attrs:{id:"phoneNumber",placeholder:"phone"===t.inputFocus?"":t.$t("login.phone")},domProps:{value:t.phoneNumber},on:{focus:function(e){t.inputFocus="phone"},blur:function(e){t.inputFocus=""},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.phoneNumber=e.target.value)}}})])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:"email"===t.mode,expression:"mode === 'email'"}],staticClass:"input-box"},[i("div",{staticClass:"container",class:{active:"email"===t.inputFocus}},[i("svg-icon",{attrs:{"icon-class":"mail"}}),i("div",{staticClass:"inputs"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"email",type:"email",placeholder:"email"===t.inputFocus?"":t.$t("login.email")},domProps:{value:t.email},on:{focus:function(e){t.inputFocus="email"},blur:function(e){t.inputFocus=""},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.email=e.target.value)}}})])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:"qrCode"!==t.mode,expression:"mode !== 'qrCode'"}],staticClass:"input-box"},[i("div",{staticClass:"container",class:{active:"password"===t.inputFocus}},[i("svg-icon",{attrs:{"icon-class":"lock"}}),i("div",{staticClass:"inputs"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",type:"password",placeholder:"password"===t.inputFocus?"":t.$t("login.password")},domProps:{value:t.password},on:{focus:function(e){t.inputFocus="password"},blur:function(e){t.inputFocus=""},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.password=e.target.value)}}})])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:"qrCode"==t.mode,expression:"mode == 'qrCode'"}]},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.qrCodeSvg,expression:"qrCodeSvg"}],staticClass:"qr-code-container"},[i("img",{attrs:{src:t.qrCodeSvg,loading:"lazy"}})]),i("div",{staticClass:"qr-code-info"},[t._v(" "+t._s(t.qrCodeInformation)+" ")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:"qrCode"!==t.mode,expression:"mode !== 'qrCode'"}],staticClass:"confirm"},[i("button",{directives:[{name:"show",rawName:"v-show",value:!t.isLogging,expression:"!isLogging"}],on:{click:t.login}},[t._v(" "+t._s(t.$t("login.login"))+" ")]),i("button",{directives:[{name:"show",rawName:"v-show",value:t.isLogging,expression:"isLogging"}],staticClass:"loading",attrs:{disabled:""}},[i("span"),i("span"),i("span")])]),i("div",{staticClass:"other-login"},[i("a",{directives:[{name:"show",rawName:"v-show",value:"email"!==t.mode,expression:"mode !== 'email'"}],on:{click:function(e){return t.changeMode("email")}}},[t._v(t._s(t.$t("login.loginWithEmail")))]),i("span",{directives:[{name:"show",rawName:"v-show",value:"qrCode"===t.mode,expression:"mode === 'qrCode'"}]},[t._v("|")]),i("a",{directives:[{name:"show",rawName:"v-show",value:"phone"!==t.mode,expression:"mode !== 'phone'"}],on:{click:function(e){return t.changeMode("phone")}}},[t._v(t._s(t.$t("login.loginWithPhone")))]),i("span",{directives:[{name:"show",rawName:"v-show",value:"qrCode"!==t.mode,expression:"mode !== 'qrCode'"}]},[t._v("|")]),i("a",{directives:[{name:"show",rawName:"v-show",value:"qrCode"!==t.mode,expression:"mode !== 'qrCode'"}],on:{click:function(e){return t.changeMode("qrCode")}}},[t._v(" 二维码登录 ")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:"qrCode"!==t.mode,expression:"mode !== 'qrCode'"}],staticClass:"notice"})])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section-1"},[i("img",{attrs:{src:"/img/logos/netease-music.png"}})])}],r=(i("caad"),i("d055")),a=i.n(r),o=i("72fe"),l=i.n(o),c=i("323e"),u=i.n(c),h=i("2f62"),d=i("5f87"),p=i("3786"),m={name:"Login",data(){return{isLogging:!1,mode:"qrCode",countryCode:"+86",phoneNumber:"",email:"",password:"",smsCode:"",inputFocus:"",qrCodeKey:"",qrCodeSvg:"",qrCodeCheckInterval:null,qrCodeInformation:"打开网易云音乐APP扫码登录"}},computed:{},created(){["phone","email","qrCode"].includes(this.$route.query.mode)&&(this.mode=this.$route.query.mode),this.getQrCodeKey()},beforeDestroy(){clearInterval(this.qrCodeCheckInterval)},methods:{...Object(h["c"])(["updateData"]),validatePhone(){return""!==this.countryCode&&""!==this.phone&&""!==this.password||(console.log("国家区号或手机号不正确"),this.isLogging=!1,!1)},validateEmail(){const t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return!(""===this.email||""===this.password||!t.test(this.email))||(console.log("邮箱不正确"),!1)},login(){if("phone"===this.mode){if(this.isLogging=this.validatePhone(),!this.isLogging)return;Object(p["d"])({countrycode:this.countryCode.replace("+","").replace(/\s/g,""),phone:this.phoneNumber.replace(/\s/g,""),password:"fakePassword",md5_password:l()(this.password).toString()}).then(this.handleLoginResponse).catch(t=>{this.isLogging=!1,console.log(t),console.log("发生错误，请检查你的账号密码是否正确\n"+t)})}else{if(this.isLogging=this.validateEmail(),!this.isLogging)return;Object(p["c"])({email:this.email.replace(/\s/g,""),password:"fakePassword",md5_password:l()(this.password).toString()}).then(this.handleLoginResponse).catch(t=>{this.isLogging=!1,console.log(t),console.log("发生错误，请检查你的账号密码是否正确\n"+t)})}},handleLoginResponse(t){var e,i;t?200===t.code?(Object(d["e"])(t.cookie),this.updateData({key:"loginMode",value:"account"}),this.$store.dispatch("fetchUserProfile").then(()=>{this.$store.dispatch("fetchLikedPlaylist").then(()=>{this.$router.push({path:"/library"})})})):(this.isLogging=!1,console.log(null!==(e=null!==(i=t.msg)&&void 0!==i?i:t.message)&&void 0!==e?e:"账号或密码错误，请检查"),console.log("error")):this.isLogging=!1},getQrCodeKey(){return Object(p["b"])().then(t=>{200===t.code&&(this.qrCodeKey=t.data.unikey,a.a.toString("https://music.163.com/login?codekey="+this.qrCodeKey,{width:192,margin:0,color:{dark:"#335eea",light:"#00000000"},type:"svg"}).then(t=>{this.qrCodeSvg="data:image/svg+xml;utf8,"+encodeURIComponent(t)}).catch(t=>{console.error(t)}).finally(()=>{u.a.done()})),this.checkQrCodeLogin()})},checkQrCodeLogin(){this.qrCodeCheckInterval=setInterval(()=>{""!==this.qrCodeKey&&Object(p["a"])(this.qrCodeKey).then(t=>{800===t.code?(this.getQrCodeKey(),this.qrCodeInformation="二维码已失效，请重新扫码"):802===t.code?this.qrCodeInformation="扫描成功，请在手机上确认登录":801===t.code?this.qrCodeInformation="打开网易云音乐APP扫码登录":803===t.code&&(clearInterval(this.qrCodeCheckInterval),this.qrCodeInformation="登录成功，请稍等...",t.code=200,t.cookie=t.cookie.replace("HTTPOnly",""),this.handleLoginResponse(t))})},1e3)},changeMode(t){this.mode=t,"qrCode"===t?this.checkQrCodeLogin():clearInterval(this.qrCodeCheckInterval)}}},f=m,g=(i("d109"),i("2877")),v=Object(g["a"])(f,s,n,!1,null,"bcbd0e90",null);e["default"]=v.exports},a1a1:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"track-list"},[i("ContextMenu",{ref:"menu"},[i("div",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"!==t.type,expression:"type !== 'cloudDisk'"}],staticClass:"item-info"},[i("img",{attrs:{src:t._f("resizeImage")(t.rightClickedTrackComputed.al.picUrl,224),loading:"lazy"}}),i("div",{staticClass:"info"},[i("div",{staticClass:"title"},[t._v(t._s(t.rightClickedTrackComputed.name))]),i("div",{staticClass:"subtitle"},[t._v(t._s(t.rightClickedTrackComputed.ar[0].name))])])]),i("hr",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"!==t.type,expression:"type !== 'cloudDisk'"}]}),i("div",{staticClass:"item",on:{click:t.play}},[t._v(t._s(t.$t("contextMenu.play")))]),i("div",{staticClass:"item",on:{click:t.addToQueue}},[t._v(t._s(t.$t("contextMenu.addToQueue")))]),t.extraContextMenuItem.includes("removeTrackFromQueue")?i("div",{staticClass:"item",on:{click:t.removeTrackFromQueue}},[t._v("从队列删除")]):t._e(),i("hr",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"!==t.type,expression:"type !== 'cloudDisk'"}]}),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isRightClickedTrackLiked&&"cloudDisk"!==t.type,expression:"!isRightClickedTrackLiked && type !== 'cloudDisk'"}],staticClass:"item",on:{click:t.like}},[t._v(" "+t._s(t.$t("contextMenu.saveToMyLikedSongs"))+" ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isRightClickedTrackLiked&&"cloudDisk"!==t.type,expression:"isRightClickedTrackLiked && type !== 'cloudDisk'"}],staticClass:"item",on:{click:t.like}},[t._v(" "+t._s(t.$t("contextMenu.removeFromMyLikedSongs"))+" ")]),t.extraContextMenuItem.includes("removeTrackFromPlaylist")?i("div",{staticClass:"item",on:{click:t.removeTrackFromPlaylist}},[t._v("从歌单中删除")]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"!==t.type,expression:"type !== 'cloudDisk'"}],staticClass:"item",on:{click:t.addTrackToPlaylist}},[t._v(t._s(t.$t("contextMenu.addToPlaylist")))]),i("div",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"!==t.type,expression:"type !== 'cloudDisk'"}],staticClass:"item",on:{click:t.copyLink}},[t._v(t._s(t.$t("contextMenu.copyUrl")))]),t.extraContextMenuItem.includes("removeTrackFromCloudDisk")?i("div",{staticClass:"item",on:{click:t.removeTrackFromCloudDisk}},[t._v("从云盘中删除")]):t._e()]),i("div",{style:t.listStyles},t._l(t.tracks,(function(e,s){return i("TrackListItem",{key:"id"===t.itemKey?e.id:""+e.id+s,attrs:{"track-prop":e,"highlight-playing-track":t.highlightPlayingTrack},nativeOn:{dblclick:function(i){return t.playThisList(e.id||e.songId)},contextmenu:function(i){return t.openMenu(i,e,s)}}})})),1)],1)},n=[],r=(i("caad"),i("2f62")),a=i("1e9a"),o=i("c24f"),l=i("5f87"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"track",class:t.trackClass,style:t.trackStyle,attrs:{title:t.showUnavailableSongInGreyStyle?t.track.reason:""},on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[t.isAlbum?t._e():i("img",{class:{hover:t.focus},attrs:{src:t.imgUrl,loading:"lazy"},on:{click:t.goToAlbum}}),t.showOrderNumber?i("div",{staticClass:"no"},[i("button",{directives:[{name:"show",rawName:"v-show",value:t.focus&&t.playable&&!t.isPlaying,expression:"focus && playable && !isPlaying"}],on:{click:t.playTrack}},[i("svg-icon",{staticStyle:{height:"14px",width:"14px"},attrs:{"icon-class":"play"}})],1),i("span",{directives:[{name:"show",rawName:"v-show",value:(!t.focus||!t.playable)&&!t.isPlaying,expression:"(!focus || !playable) && !isPlaying"}]},[t._v(t._s(t.track.no))]),i("button",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying,expression:"isPlaying"}]},[i("svg-icon",{staticStyle:{height:"16px",width:"16px"},attrs:{"icon-class":"volume"}})],1)]):t._e(),i("div",{staticClass:"title-and-artist"},[i("div",{staticClass:"container"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.track.name)+" "),t.isSubTitle?i("span",{staticClass:"sub-title",attrs:{title:t.subTitle}},[t._v(" ("+t._s(t.subTitle)+") ")]):t._e(),t.isAlbum?i("span",{staticClass:"featured"},[i("ArtistsInLine",{attrs:{artists:t.track.ar,exclude:t.$parent.albumObject.artist.name,prefix:"-"}})],1):t._e(),t.isAlbum&&1318912===t.track.mark?i("span",{staticClass:"explicit-symbol"},[i("ExplicitSymbol")],1):t._e()]),t.isAlbum?t._e():i("div",{staticClass:"artist"},[1318912===t.track.mark?i("span",{staticClass:"explicit-symbol before-artist"},[i("ExplicitSymbol",{attrs:{size:15}})],1):t._e(),i("ArtistsInLine",{attrs:{artists:t.artists}})],1)]),i("div")]),t.showAlbumName?i("div",{staticClass:"album"},[t.album&&t.album.id?i("router-link",{attrs:{to:"/album/"+t.album.id}},[t._v(t._s(t.album.name))]):t._e(),i("div")],1):t._e(),t.showLikeButton?i("div",{staticClass:"actions"},[i("button",{on:{click:t.likeThisSong}},[i("svg-icon",{style:{visibility:t.focus&&!t.isLiked?"visible":"hidden"},attrs:{"icon-class":"heart"}}),i("svg-icon",{directives:[{name:"show",rawName:"v-show",value:t.isLiked,expression:"isLiked"}],attrs:{"icon-class":"heart-solid"}})],1)]):t._e(),t.showTrackTime?i("div",{staticClass:"time"},[t._v(" "+t._s(t._f("formatTime")(t.track.dt))+" ")]):t._e(),t.track.playCount?i("div",{staticClass:"count"},[t._v(" "+t._s(t.track.playCount))]):t._e()])},u=[],h=i("186d"),d=i("0c94"),p=i("2ef0"),m={name:"TrackListItem",components:{ArtistsInLine:h["a"],ExplicitSymbol:d["a"]},props:{trackProp:Object,highlightPlayingTrack:{type:Boolean,default:!0}},data(){return{hover:!1,trackStyle:{}}},computed:{...Object(r["d"])(["settings"]),track(){return"cloudDisk"===this.type?this.trackProp.simpleSong:this.trackProp},playable(){var t,e,i;return(null===(t=this.track)||void 0===t||null===(e=t.privilege)||void 0===e?void 0:e.pl)>0||(null===(i=this.track)||void 0===i?void 0:i.playable)},imgUrl(){var t,e,i,s,n,r;let a=null!==(t=null!==(e=null===(i=this.track)||void 0===i||null===(s=i.al)||void 0===s?void 0:s.picUrl)&&void 0!==e?e:null===(n=this.track)||void 0===n||null===(r=n.album)||void 0===r?void 0:r.picUrl)&&void 0!==t?t:"https://p2.music.126.net/UeTuwE7pvjBpypWLudqukA==/3132508627578625.jpg";return a+"?param=224y224"},artists(){const{ar:t,artists:e}=this.track;return Object(p["isNil"])(t)?Object(p["isNil"])(e)?[]:e:t},album(){var t,e;return this.track.album||this.track.al||(null===(t=this.track)||void 0===t||null===(e=t.simpleSong)||void 0===e?void 0:e.al)},subTitle(){var t,e;let i=void 0;var s,n;return(null===(t=this.track)||void 0===t||null===(e=t.tns)||void 0===e?void 0:e.length)>0&&this.track.name!==this.track.tns[0]&&(i=this.track.tns[0]),this.$store.state.settings.subTitleDefault?(null===(s=this.track)||void 0===s||null===(n=s.alia)||void 0===n?void 0:n.length)>0?this.track.alia[0]:i:void 0===i?this.track.alia[0]:i},type(){return this.$parent.type},isAlbum(){return"album"===this.type},isSubTitle(){var t,e,i;return(null===(t=this.track)||void 0===t||null===(e=t.tns)||void 0===e?void 0:e.length)>0&&this.track.name!==this.track.tns[0]||(null===(i=this.track.alia)||void 0===i?void 0:i.length)>0},isPlaylist(){return"playlist"===this.type},isLiked(){var t;return this.$parent.liked.songs.includes(null===(t=this.track)||void 0===t?void 0:t.id)},isPlaying(){var t;return this.$store.state.player.currentTrack.id===(null===(t=this.track)||void 0===t?void 0:t.id)},trackClass(){let t=[this.type];return!this.playable&&this.showUnavailableSongInGreyStyle&&t.push("disable"),this.isPlaying&&this.highlightPlayingTrack&&t.push("playing"),this.focus&&t.push("focus"),t},isMenuOpened(){return this.$parent.rightClickedTrack.id===this.track.id},focus(){return this.hover&&0===this.$parent.rightClickedTrack.id||this.isMenuOpened},showUnavailableSongInGreyStyle(){return!Object({NODE_ENV:"production",VUE_APP_NETEASE_API_URL:"https://autumnfish.cn/",BASE_URL:"/"}).IS_ELECTRON||!this.$store.state.settings.enableUnblockNeteaseMusic},showLikeButton(){return"tracklist"!==this.type&&"cloudDisk"!==this.type},showOrderNumber(){return"album"===this.type},showAlbumName(){return"album"!==this.type&&"tracklist"!==this.type},showTrackTime(){return"tracklist"!==this.type}},methods:{goToAlbum(){0!==this.track.al.id&&this.$router.push({path:"/album/"+this.track.al.id})},playTrack(){this.$parent.playThisList(this.track.id)},likeThisSong(){this.$parent.likeATrack(this.track.id)}}},f=m,g=(i("7a68"),i("2877")),v=Object(g["a"])(f,c,u,!1,null,"24ccaa64",null),y=v.exports,b=i("6825"),w=i("fe07"),k={name:"TrackList",components:{TrackListItem:y,ContextMenu:b["a"]},props:{tracks:{type:Array,default:()=>[]},type:{type:String,default:"tracklist"},id:{type:Number,default:0},dbclickTrackFunc:{type:String,default:"default"},albumObject:{type:Object,default:()=>({artist:{name:""}})},extraContextMenuItem:{type:Array,default:()=>[]},columnNumber:{type:Number,default:4},highlightPlayingTrack:{type:Boolean,default:!0},itemKey:{type:String,default:"id"}},data(){return{rightClickedTrack:{id:0,name:"",ar:[{name:""}],al:{picUrl:""}},rightClickedTrackIndex:-1,listStyles:{}}},computed:{...Object(r["d"])(["liked","player"]),isRightClickedTrackLiked(){var t;return this.liked.songs.includes(null===(t=this.rightClickedTrack)||void 0===t?void 0:t.id)},rightClickedTrackComputed(){return"cloudDisk"===this.type?{id:0,name:"",ar:[{name:""}],al:{picUrl:""}}:this.rightClickedTrack}},created(){"tracklist"===this.type&&(this.listStyles={display:"grid",gap:"4px",gridTemplateColumns:`repeat(${this.columnNumber}, 1fr)`})},methods:{...Object(r["c"])(["updateModal"]),...Object(r["b"])(["nextTrack","showToast","likeATrack"]),openMenu(t,e,i=-1){this.rightClickedTrack=e,this.rightClickedTrackIndex=i,this.$refs.menu.openMenu(t)},closeMenu(){this.rightClickedTrack={id:0,name:"",ar:[{name:""}],al:{picUrl:""}},this.rightClickedTrackIndex=-1},playThisList(t){if("default"===this.dbclickTrackFunc)this.playThisListDefault(t);else if("none"===this.dbclickTrackFunc);else if("playTrackOnListByID"===this.dbclickTrackFunc)this.player.playTrackOnListByID(t);else if("playPlaylistByID"===this.dbclickTrackFunc)this.player.playPlaylistByID(this.id,t);else if("playAList"===this.dbclickTrackFunc){let e=this.tracks.map(t=>t.id||t.songId);this.player.replacePlaylist(e,this.id,"artist",t)}else if("dailyTracks"===this.dbclickTrackFunc){let e=this.tracks.map(t=>t.id);this.player.replacePlaylist(e,"/daily/songs","url",t)}else if("playCloudDisk"===this.dbclickTrackFunc){let e=this.tracks.map(t=>t.id||t.songId);this.player.replacePlaylist(e,this.id,"cloudDisk",t)}},playThisListDefault(t){if("playlist"===this.type)this.player.playPlaylistByID(this.id,t);else if("album"===this.type)this.player.playAlbumByID(this.id,t);else if("tracklist"===this.type){let e=this.tracks.map(t=>t.id);this.player.replacePlaylist(e,this.id,"artist",t)}},play(){this.player.addTrackToPlayNext(this.rightClickedTrack.id,!0)},addToQueue(){this.player.addTrackToPlayNext(this.rightClickedTrack.id)},like(){this.likeATrack(this.rightClickedTrack.id)},addTrackToPlaylist(){Object(l["c"])()?(this.updateModal({modalName:"addTrackToPlaylistModal",key:"show",value:!0}),this.updateModal({modalName:"addTrackToPlaylistModal",key:"selectedTrackID",value:this.rightClickedTrack.id})):this.showToast(w["a"].t("toast.needToLogin"))},removeTrackFromPlaylist(){if(Object(l["c"])()){if(confirm(`确定要从歌单删除 ${this.rightClickedTrack.name}？`)){let t=this.rightClickedTrack.id;Object(a["a"])({op:"del",pid:this.id,tracks:t}).then(e=>{this.showToast(200===e.body.code?w["a"].t("toast.removedFromPlaylist"):e.body.message),this.$parent.removeTrack(t)})}}else this.showToast(w["a"].t("toast.needToLogin"))},copyLink(){this.$copyText("https://music.163.com/song?id="+this.rightClickedTrack.id).then(()=>{this.showToast(w["a"].t("toast.copied"))}).catch(t=>{this.showToast(`${w["a"].t("toast.copyFailed")}${t}`)})},removeTrackFromQueue(){this.$store.state.player.removeTrackFromQueue(this.rightClickedTrackIndex)},removeTrackFromCloudDisk(){if(confirm(`确定要从云盘删除 ${this.rightClickedTrack.songName}？`)){let t=this.rightClickedTrack.songId;Object(o["b"])(t).then(e=>{this.showToast(200===e.code?"已将此歌曲从云盘删除":e.message);let i=this.liked.cloudDisk.filter(e=>e.songId!==t);this.$store.commit("updateLikedXXX",{name:"cloudDisk",data:i})})}}}},_=k,C=Object(g["a"])(_,s,n,!1,null,"b54ce90e",null);e["a"]=C.exports},a6f7:function(t,e,i){"use strict";i("38b7")},aa63:function(t,e,i){const s=i("7bf0"),n=i("7a43"),r=i("7ba0"),a=i("577e"),o=i("d6c0"),l=i("924f"),c=i("7903"),u=i("34fc"),h=i("8d23"),d=i("c8aa"),p=i("9582"),m=i("bbf0"),f=i("befa");function g(t,e){const i=t.size,s=l.getPositions(e);for(let n=0;n<s.length;n++){const e=s[n][0],r=s[n][1];for(let s=-1;s<=7;s++)if(!(e+s<=-1||i<=e+s))for(let n=-1;n<=7;n++)r+n<=-1||i<=r+n||(s>=0&&s<=6&&(0===n||6===n)||n>=0&&n<=6&&(0===s||6===s)||s>=2&&s<=4&&n>=2&&n<=4?t.set(e+s,r+n,!0,!0):t.set(e+s,r+n,!1,!0))}}function v(t){const e=t.size;for(let i=8;i<e-8;i++){const e=i%2===0;t.set(i,6,e,!0),t.set(6,i,e,!0)}}function y(t,e){const i=o.getPositions(e);for(let s=0;s<i.length;s++){const e=i[s][0],n=i[s][1];for(let i=-2;i<=2;i++)for(let s=-2;s<=2;s++)-2===i||2===i||-2===s||2===s||0===i&&0===s?t.set(e+i,n+s,!0,!0):t.set(e+i,n+s,!1,!0)}}function b(t,e){const i=t.size,s=d.getEncodedBits(e);let n,r,a;for(let o=0;o<18;o++)n=Math.floor(o/3),r=o%3+i-8-3,a=1===(s>>o&1),t.set(n,r,a,!0),t.set(r,n,a,!0)}function w(t,e,i){const s=t.size,n=p.getEncodedBits(e,i);let r,a;for(r=0;r<15;r++)a=1===(n>>r&1),r<6?t.set(r,8,a,!0):r<8?t.set(r+1,8,a,!0):t.set(s-15+r,8,a,!0),r<8?t.set(8,s-r-1,a,!0):r<9?t.set(8,15-r-1+1,a,!0):t.set(8,15-r-1,a,!0);t.set(s-8,8,1,!0)}function k(t,e){const i=t.size;let s=-1,n=i-1,r=7,a=0;for(let o=i-1;o>0;o-=2){6===o&&o--;while(1){for(let i=0;i<2;i++)if(!t.isReserved(n,o-i)){let s=!1;a<e.length&&(s=1===(e[a]>>>r&1)),t.set(n,o-i,s),r--,-1===r&&(a++,r=7)}if(n+=s,n<0||i<=n){n-=s,s=-s;break}}}}function _(t,e,i){const n=new r;i.forEach((function(e){n.put(e.mode.bit,4),n.put(e.getLength(),m.getCharCountIndicator(e.mode,t)),e.write(n)}));const a=s.getSymbolTotalCodewords(t),o=u.getTotalCodewordsCount(t,e),l=8*(a-o);n.getLengthInBits()+4<=l&&n.put(0,4);while(n.getLengthInBits()%8!==0)n.putBit(0);const c=(l-n.getLengthInBits())/8;for(let s=0;s<c;s++)n.put(s%2?17:236,8);return C(n,t,e)}function C(t,e,i){const n=s.getSymbolTotalCodewords(e),r=u.getTotalCodewordsCount(e,i),a=n-r,o=u.getBlocksCount(e,i),l=n%o,c=o-l,d=Math.floor(n/o),p=Math.floor(a/o),m=p+1,f=d-p,g=new h(f);let v=0;const y=new Array(o),b=new Array(o);let w=0;const k=new Uint8Array(t.buffer);for(let s=0;s<o;s++){const t=s<c?p:m;y[s]=k.slice(v,v+t),b[s]=g.encode(y[s]),v+=t,w=Math.max(w,t)}const _=new Uint8Array(n);let C,T,x=0;for(C=0;C<w;C++)for(T=0;T<o;T++)C<y[T].length&&(_[x++]=y[T][C]);for(C=0;C<f;C++)for(T=0;T<o;T++)_[x++]=b[T][C];return _}function T(t,e,i,n){let r;if(Array.isArray(t))r=f.fromArray(t);else{if("string"!==typeof t)throw new Error("Invalid data");{let s=e;if(!s){const e=f.rawSplit(t);s=d.getBestVersionForData(e,i)}r=f.fromString(t,s||40)}}const o=d.getBestVersionForData(r,i);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<o)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+o+".\n")}else e=o;const l=_(e,i,r),u=s.getSymbolSize(e),h=new a(u);return g(h,e),v(h),y(h,e),w(h,i,0),e>=7&&b(h,e),k(h,l),isNaN(n)&&(n=c.getBestMask(h,w.bind(null,h,i))),c.applyMask(n,h),w(h,i,n),{modules:h,version:e,errorCorrectionLevel:i,maskPattern:n,segments:r}}e.create=function(t,e){if("undefined"===typeof t||""===t)throw new Error("No input text");let i,r,a=n.M;return"undefined"!==typeof e&&(a=n.from(e.errorCorrectionLevel,n.M),i=d.from(e.version),r=c.from(e.maskPattern),e.toSJISFunc&&s.setToSJISFunction(e.toSJISFunc)),T(t,i,a,r)}},b398:function(t,e,i){"use strict";i("53b5")},bbf0:function(t,e,i){const s=i("27a3"),n=i("0425");function r(t){if("string"!==typeof t)throw new Error("Param is not a string");const i=t.toLowerCase();switch(i){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!s.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return n.testNumeric(t)?e.NUMERIC:n.testAlphanumeric(t)?e.ALPHANUMERIC:n.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,i){if(e.isValid(t))return t;try{return r(t)}catch(s){return i}}},befa:function(t,e,i){const s=i("bbf0"),n=i("dd7e"),r=i("9d94"),a=i("0196"),o=i("2f3a"),l=i("0425"),c=i("7bf0"),u=i("10b0");function h(t){return unescape(encodeURIComponent(t)).length}function d(t,e,i){const s=[];let n;while(null!==(n=t.exec(i)))s.push({data:n[0],index:n.index,mode:e,length:n[0].length});return s}function p(t){const e=d(l.NUMERIC,s.NUMERIC,t),i=d(l.ALPHANUMERIC,s.ALPHANUMERIC,t);let n,r;c.isKanjiModeEnabled()?(n=d(l.BYTE,s.BYTE,t),r=d(l.KANJI,s.KANJI,t)):(n=d(l.BYTE_KANJI,s.BYTE,t),r=[]);const a=e.concat(i,n,r);return a.sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function m(t,e){switch(e){case s.NUMERIC:return n.getBitsLength(t);case s.ALPHANUMERIC:return r.getBitsLength(t);case s.KANJI:return o.getBitsLength(t);case s.BYTE:return a.getBitsLength(t)}}function f(t){return t.reduce((function(t,e){const i=t.length-1>=0?t[t.length-1]:null;return i&&i.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[])}function g(t){const e=[];for(let i=0;i<t.length;i++){const n=t[i];switch(n.mode){case s.NUMERIC:e.push([n,{data:n.data,mode:s.ALPHANUMERIC,length:n.length},{data:n.data,mode:s.BYTE,length:n.length}]);break;case s.ALPHANUMERIC:e.push([n,{data:n.data,mode:s.BYTE,length:n.length}]);break;case s.KANJI:e.push([n,{data:n.data,mode:s.BYTE,length:h(n.data)}]);break;case s.BYTE:e.push([{data:n.data,mode:s.BYTE,length:h(n.data)}])}}return e}function v(t,e){const i={},n={start:{}};let r=["start"];for(let a=0;a<t.length;a++){const o=t[a],l=[];for(let t=0;t<o.length;t++){const c=o[t],u=""+a+t;l.push(u),i[u]={node:c,lastCount:0},n[u]={};for(let t=0;t<r.length;t++){const a=r[t];i[a]&&i[a].node.mode===c.mode?(n[a][u]=m(i[a].lastCount+c.length,c.mode)-m(i[a].lastCount,c.mode),i[a].lastCount+=c.length):(i[a]&&(i[a].lastCount=c.length),n[a][u]=m(c.length,c.mode)+4+s.getCharCountIndicator(c.mode,e))}}r=l}for(let s=0;s<r.length;s++)n[r[s]].end=0;return{map:n,table:i}}function y(t,e){let i;const l=s.getBestModeForData(t);if(i=s.from(e,l),i!==s.BYTE&&i.bit<l.bit)throw new Error('"'+t+'" cannot be encoded with mode '+s.toString(i)+".\n Suggested mode is: "+s.toString(l));switch(i!==s.KANJI||c.isKanjiModeEnabled()||(i=s.BYTE),i){case s.NUMERIC:return new n(t);case s.ALPHANUMERIC:return new r(t);case s.KANJI:return new o(t);case s.BYTE:return new a(t)}}e.fromArray=function(t){return t.reduce((function(t,e){return"string"===typeof e?t.push(y(e,null)):e.data&&t.push(y(e.data,e.mode)),t}),[])},e.fromString=function(t,i){const s=p(t,c.isKanjiModeEnabled()),n=g(s),r=v(n,i),a=u.find_path(r.map,"start","end"),o=[];for(let e=1;e<a.length-1;e++)o.push(r.table[a[e]].node);return e.fromArray(f(o))},e.rawSplit=function(t){return e.fromArray(p(t,c.isKanjiModeEnabled()))}},c2b0:function(t,e,i){},c8aa:function(t,e,i){const s=i("7bf0"),n=i("34fc"),r=i("7a43"),a=i("bbf0"),o=i("27a3"),l=7973,c=s.getBCHDigit(l);function u(t,i,s){for(let n=1;n<=40;n++)if(i<=e.getCapacity(n,s,t))return n}function h(t,e){return a.getCharCountIndicator(t,e)+4}function d(t,e){let i=0;return t.forEach((function(t){const s=h(t.mode,e);i+=s+t.getBitsLength()})),i}function p(t,i){for(let s=1;s<=40;s++){const n=d(t,s);if(n<=e.getCapacity(s,i,a.MIXED))return s}}e.from=function(t,e){return o.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,i){if(!o.isValid(t))throw new Error("Invalid QR Code version");"undefined"===typeof i&&(i=a.BYTE);const r=s.getSymbolTotalCodewords(t),l=n.getTotalCodewordsCount(t,e),c=8*(r-l);if(i===a.MIXED)return c;const u=c-h(i,t);switch(i){case a.NUMERIC:return Math.floor(u/10*3);case a.ALPHANUMERIC:return Math.floor(u/11*2);case a.KANJI:return Math.floor(u/13);case a.BYTE:default:return Math.floor(u/8)}},e.getBestVersionForData=function(t,e){let i;const s=r.from(e,r.M);if(Array.isArray(t)){if(t.length>1)return p(t,s);if(0===t.length)return 1;i=t[0]}else i=t;return u(i.mode,i.getLength(),s)},e.getEncodedBits=function(t){if(!o.isValid(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;while(s.getBCHDigit(e)-c>=0)e^=l<<s.getBCHDigit(e)-c;return t<<12|e}},ca58:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"lastfm-callback"},[i("div",{staticClass:"section-1"},[i("img",{attrs:{src:"/img/logos/yesplaymusic.png"}}),i("svg-icon",{attrs:{"icon-class":"x"}}),i("img",{attrs:{src:"/img/logos/lastfm.png"}})],1),i("div",{staticClass:"message"},[t._v(t._s(t.message))]),i("button",{directives:[{name:"show",rawName:"v-show",value:t.done,expression:"done"}],on:{click:t.close}},[t._v(" 完成 ")])])},n=[],r=i("7b78"),a={name:"LastfmCallback",data(){return{message:"请稍等...",done:!1}},created(){const t=new URLSearchParams(window.location.search).get("token");if(!t)return this.message="连接失败，请重试或联系开发者（无Token）",void(this.done=!0);Object(r["b"])(t).then(t=>{if(!t.data.session)return this.message="连接失败，请重试或联系开发者（无Session）",void(this.done=!0);localStorage.setItem("lastfm",JSON.stringify(t.data.session)),this.$store.commit("updateLastfm",t.data.session),this.message="已成功连接到 Last.fm",this.done=!0})},methods:{close(){window.close()}}},o=a,l=(i("1354"),i("2877")),c=Object(l["a"])(o,s,n,!1,null,"2925758b",null);e["default"]=c.exports},ce1e:function(t,e,i){},d055:function(t,e,i){const s=i("67dd"),n=i("aa63"),r=i("4146"),a=i("4006");function o(t,e,i,r,a){const o=[].slice.call(arguments,1),l=o.length,c="function"===typeof o[l-1];if(!c&&!s())throw new Error("Callback required as last argument");if(!c){if(l<1)throw new Error("Too few arguments provided");return 1===l?(i=e,e=r=void 0):2!==l||e.getContext||(r=i,i=e,e=void 0),new Promise((function(s,a){try{const a=n.create(i,r);s(t(a,e,r))}catch(o){a(o)}}))}if(l<2)throw new Error("Too few arguments provided");2===l?(a=i,i=e,e=r=void 0):3===l&&(e.getContext&&"undefined"===typeof a?(a=r,r=void 0):(a=r,r=i,i=e,e=void 0));try{const s=n.create(i,r);a(null,t(s,e,r))}catch(u){a(u)}}e.create=n.create,e.toCanvas=o.bind(null,r.render),e.toDataURL=o.bind(null,r.renderToDataURL),e.toString=o.bind(null,(function(t,e,i){return a.render(t,i)}))},d109:function(t,e,i){"use strict";i("78a7")},d4e3:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mv-row",class:{"without-padding":t.withoutPadding}},t._l(t.mvs,(function(e){return i("div",{key:t.getID(e),staticClass:"mv"},[i("div",{staticClass:"cover",on:{mouseover:function(i){t.hoverVideoID=t.getID(e)},mouseleave:function(e){t.hoverVideoID=0},click:function(i){t.goToMv(t.getID(e))}}},[i("img",{attrs:{src:t.getUrl(e),loading:"lazy"}}),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.hoverVideoID===t.getID(e),expression:"hoverVideoID === getID(mv)"}],staticClass:"shadow",style:{background:"url("+t.getUrl(e)+")"}})])],1),i("div",{staticClass:"info"},[i("div",{staticClass:"title"},[i("router-link",{attrs:{to:"/mv/"+t.getID(e)}},[t._v(t._s(t.getTitle(e)))])],1),i("div",{staticClass:"artist",domProps:{innerHTML:t._s(t.getSubtitle(e))}})])])})),0)},n=[],r={name:"CoverVideo",props:{mvs:Array,subtitle:{type:String,default:"artist"},withoutPadding:{type:Boolean,default:!1}},data(){return{hoverVideoID:0}},methods:{goToMv(t){let e={};void 0!==this.$parent.player&&(e={autoplay:this.$parent.player.playing}),this.$router.push({path:"/mv/"+t,query:e})},getUrl(t){var e,i;let s=null!==(e=null!==(i=t.imgurl16v9)&&void 0!==i?i:t.cover)&&void 0!==e?e:t.coverUrl;return s.replace(/^http:/,"https:")+"?param=464y260"},getID(t){return void 0!==t.id?t.id:void 0!==t.vid?t.vid:void 0},getTitle(t){return void 0!==t.name?t.name:void 0!==t.title?t.title:void 0},getSubtitle(t){if("artist"===this.subtitle){let e="null",i=0;return void 0!==t.artistName?(e=t.artistName,i=t.artistId):void 0!==t.creator&&(e=t.creator[0].userName,i=t.creator[0].userId),`<a href="/#/artist/${i}">${e}</a>`}if("publishTime"===this.subtitle)return t.publishTime}}},a=r,o=(i("7d53"),i("2877")),l=Object(o["a"])(a,s,n,!1,null,"4d5c11f6",null);e["a"]=l.exports},d635:function(t,e,i){"use strict";i("6c84")},d6c0:function(t,e,i){const s=i("7bf0").getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];const e=Math.floor(t/7)+2,i=s(t),n=145===i?26:2*Math.ceil((i-13)/(2*e-2)),r=[i-7];for(let s=1;s<e-1;s++)r[s]=r[s-1]-n;return r.push(6),r.reverse()},e.getPositions=function(t){const i=[],s=e.getRowColCoords(t),n=s.length;for(let e=0;e<n;e++)for(let t=0;t<n;t++)0===e&&0===t||0===e&&t===n-1||e===n-1&&0===t||i.push([s[e],s[t]]);return i}},d705:function(t,e,i){},dad8:function(t,e,i){},dae2:function(t,e,i){"use strict";(function(t){i("caad");var s=i("2f62"),n=i("5f87"),r=i("7b78"),a=i("cf45"),o=i("e31c"),l=i("9224");const c=!0===Object({NODE_ENV:"production",VUE_APP_NETEASE_API_URL:"https://autumnfish.cn/",BASE_URL:"/"}).IS_ELECTRON?window.require("electron"):null,u=!0===Object({NODE_ENV:"production",VUE_APP_NETEASE_API_URL:"https://autumnfish.cn/",BASE_URL:"/"}).IS_ELECTRON?c.ipcRenderer:null,h=["=","-","~","[","]",";","'",",",".","/"];e["a"]={name:"Settings",data(){return{tracksCache:{size:"0KB",length:0},allOutputDevices:[{deviceId:"default",label:"settings.permissionRequired"}],shortcutInput:{id:"",type:"",recording:!1},recordedShortcut:[]}},computed:{...Object(s["d"])(["player","settings","data","lastfm"]),isElectron(){return Object({NODE_ENV:"production",VUE_APP_NETEASE_API_URL:"https://autumnfish.cn/",BASE_URL:"/"}).IS_ELECTRON},isMac(){return/macintosh|mac os x/i.test(navigator.userAgent)},isLinux(){return"linux"===t.platform},version(){return l.version},showUserInfo(){return Object(n["d"])()&&this.data.user.nickname},recordedShortcutComputed(){let t=[];this.recordedShortcut.map(e=>{e.keyCode>=65&&e.keyCode<=90?t.push(e.code.replace("Key","")):"Meta"===e.key?t.push("Command"):["Alt","Control","Shift"].includes(e.key)?t.push(e.key):e.keyCode>=48&&e.keyCode<=57?t.push(e.code.replace("Digit","")):e.keyCode>=112&&e.keyCode<=123?t.push(e.code):["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(e.key)?t.push(e.code.replace("Arrow","")):h.includes(e.key)&&t.push(e.key)});const e={Control:1,Shift:2,Alt:3,Command:4};return t=t.sort((t,i)=>e[t]&&e[i]?e[t]-e[i]<=-1?-1:e[t]-e[i]>=1?1:0:0),t=t.join("+"),t},lang:{get(){return this.settings.lang},set(t){this.$i18n.locale=t,this.$store.commit("changeLang",t)}},musicLanguage:{get(){var t;return null!==(t=this.settings.musicLanguage)&&void 0!==t?t:"all"},set(t){this.$store.commit("updateSettings",{key:"musicLanguage",value:t})}},appearance:{get(){return void 0===this.settings.appearance?"auto":this.settings.appearance},set(t){this.$store.commit("updateSettings",{key:"appearance",value:t}),Object(a["b"])(t)}},musicQuality:{get(){var t;return null!==(t=this.settings.musicQuality)&&void 0!==t?t:32e4},set(t){t!==this.settings.musicQuality&&(this.$store.commit("changeMusicQuality",t),this.clearCache())}},lyricFontSize:{get(){return void 0===this.settings.lyricFontSize?28:this.settings.lyricFontSize},set(t){this.$store.commit("changeLyricFontSize",t)}},outputDevice:{get(){const t=this.allOutputDevices.find(t=>t.deviceId===this.settings.outputDevice);return void 0===this.settings.outputDevice||void 0===t?"default":this.settings.outputDevice},set(t){t!==this.settings.outputDevice&&void 0!==t&&(this.$store.commit("changeOutputDevice",t),this.player.setOutputDevice())}},enableUnblockNeteaseMusic:{get(){const t=this.settings.enableUnblockNeteaseMusic;return void 0===t||t},set(t){this.$store.commit("updateSettings",{key:"enableUnblockNeteaseMusic",value:t})}},showPlaylistsByAppleMusic:{get(){return void 0===this.settings.showPlaylistsByAppleMusic||this.settings.showPlaylistsByAppleMusic},set(t){this.$store.commit("updateSettings",{key:"showPlaylistsByAppleMusic",value:t})}},nyancatStyle:{get(){return void 0!==this.settings.nyancatStyle&&this.settings.nyancatStyle},set(t){this.$store.commit("updateSettings",{key:"nyancatStyle",value:t})}},automaticallyCacheSongs:{get(){return void 0!==this.settings.automaticallyCacheSongs&&this.settings.automaticallyCacheSongs},set(t){this.$store.commit("updateSettings",{key:"automaticallyCacheSongs",value:t}),!1===t&&this.clearCache()}},showLyricsTranslation:{get(){return this.settings.showLyricsTranslation},set(t){this.$store.commit("updateSettings",{key:"showLyricsTranslation",value:t})}},lyricsBackground:{get(){return this.settings.lyricsBackground||!1},set(t){this.$store.commit("updateSettings",{key:"lyricsBackground",value:t})}},showLyricsTime:{get(){return this.settings.showLyricsTime},set(t){this.$store.commit("updateSettings",{key:"showLyricsTime",value:t})}},closeAppOption:{get(){return this.settings.closeAppOption},set(t){this.$store.commit("updateSettings",{key:"closeAppOption",value:t})}},enableDiscordRichPresence:{get(){return this.settings.enableDiscordRichPresence},set(t){this.$store.commit("updateSettings",{key:"enableDiscordRichPresence",value:t})}},subTitleDefault:{get(){return this.settings.subTitleDefault},set(t){this.$store.commit("updateSettings",{key:"subTitleDefault",value:t})}},enableReversedMode:{get(){return void 0!==this.settings.enableReversedMode&&this.settings.enableReversedMode},set(t){this.$store.commit("updateSettings",{key:"enableReversedMode",value:t}),!1===t&&(this.$store.state.player.reversed=!1)}},enableGlobalShortcut:{get(){return this.settings.enableGlobalShortcut},set(t){this.$store.commit("updateSettings",{key:"enableGlobalShortcut",value:t})}},showLibraryDefault:{get(){return this.settings.showLibraryDefault||!1},set(t){this.$store.commit("updateSettings",{key:"showLibraryDefault",value:t})}},cacheLimit:{get(){return this.settings.cacheLimit||!1},set(t){this.$store.commit("updateSettings",{key:"cacheLimit",value:t})}},proxyProtocol:{get(){var t;return(null===(t=this.settings.proxyConfig)||void 0===t?void 0:t.protocol)||"noProxy"},set(t){let e=this.settings.proxyConfig||{};e.protocol=t,"noProxy"===t&&(u.send("removeProxy"),this.showToast("已关闭代理")),this.$store.commit("updateSettings",{key:"proxyConfig",value:e})}},proxyServer:{get(){var t;return(null===(t=this.settings.proxyConfig)||void 0===t?void 0:t.server)||""},set(t){let e=this.settings.proxyConfig||{};e.server=t,this.$store.commit("updateSettings",{key:"proxyConfig",value:e})}},proxyPort:{get(){var t;return(null===(t=this.settings.proxyConfig)||void 0===t?void 0:t.port)||""},set(t){let e=this.settings.proxyConfig||{};e.port=t,this.$store.commit("updateSettings",{key:"proxyConfig",value:e})}},unmSource:{get(){return this.settings.unmSource||""},set(t){this.$store.commit("updateSettings",{key:"unmSource",value:t.length&&t})}},unmSearchMode:{get(){return this.settings.unmSearchMode||"fast-first"},set(t){this.$store.commit("updateSettings",{key:"unmSearchMode",value:t})}},unmEnableFlac:{get(){return this.settings.unmEnableFlac||!1},set(t){this.$store.commit("updateSettings",{key:"unmEnableFlac",value:t||!1})}},unmProxyUri:{get(){return this.settings.unmProxyUri||""},set(t){this.$store.commit("updateSettings",{key:"unmProxyUri",value:t.length&&t})}},unmJooxCookie:{get(){return this.settings.unmJooxCookie||""},set(t){this.$store.commit("updateSettings",{key:"unmJooxCookie",value:t.length&&t})}},unmQQCookie:{get(){return this.settings.unmQQCookie||""},set(t){this.$store.commit("updateSettings",{key:"unmQQCookie",value:t.length&&t})}},unmYtDlExe:{get(){return this.settings.unmYtDlExe||""},set(t){this.$store.commit("updateSettings",{key:"unmYtDlExe",value:t.length&&t})}},enableCustomTitlebar:{get(){return this.settings.linuxEnableCustomTitlebar},set(t){this.$store.commit("updateSettings",{key:"linuxEnableCustomTitlebar",value:t})}},isLastfmConnected(){return void 0!==this.lastfm.key}},created(){this.countDBSize("tracks"),Object({NODE_ENV:"production",VUE_APP_NETEASE_API_URL:"https://autumnfish.cn/",BASE_URL:"/"}).IS_ELECTRON&&this.getAllOutputDevices()},activated(){this.countDBSize("tracks"),Object({NODE_ENV:"production",VUE_APP_NETEASE_API_URL:"https://autumnfish.cn/",BASE_URL:"/"}).IS_ELECTRON&&this.getAllOutputDevices()},methods:{...Object(s["b"])(["showToast"]),getAllOutputDevices(){navigator.mediaDevices.enumerateDevices().then(t=>{this.allOutputDevices=t.filter(t=>"audiooutput"==t.kind),this.allOutputDevices.length>0&&""!==this.allOutputDevices[0].label?this.withoutAudioPriviledge=!1:this.allOutputDevices=[{deviceId:"default",label:"settings.permissionRequired"}]})},logout(){Object(n["a"])(),this.$router.push({name:"home"})},countDBSize(){Object(o["f"])().then(t=>{void 0!==t?(this.tracksCache.size=Object(a["a"])(t.bytes),this.tracksCache.length=t.length):this.tracksCache={size:"0KB",length:0}})},clearCache(){Object(o["e"])().then(()=>{this.countDBSize()})},lastfmConnect(){Object(r["a"])();let t=setInterval(()=>{const e=localStorage.getItem("lastfm");e&&(this.$store.commit("updateLastfm",JSON.parse(e)),clearInterval(t))},1e3)},lastfmDisconnect(){localStorage.removeItem("lastfm"),this.$store.commit("updateLastfm",{})},sendProxyConfig(){if("noProxy"===this.proxyProtocol)return;const t=this.settings.proxyConfig;""!==t.server&&t.port&&"noProxy"!==t.protocol?u.send("setProxy",t):u.send("removeProxy"),this.showToast("已更新代理设置")},clickOutside(){this.exitRecordShortcut()},formatShortcut(e){return e=e.replaceAll("+"," + ").replace("Up","↑").replace("Down","↓").replace("Right","→").replace("Left","←"),"zh-CN"===this.settings.lang?e=e.replace("Space","空格"):"zh-TW"===this.settings.lang&&(e=e.replace("Space","空白鍵")),"darwin"===t.platform?e.replace("CommandOrControl","⌘").replace("Command","⌘").replace("Alt","⌥").replace("Control","⌃").replace("Shift","⇧"):e.replace("CommandOrControl","Ctrl")},readyToRecordShortcut(t,e){"globalShortcut"===e&&!1===this.enableGlobalShortcut||(this.shortcutInput={id:t,type:e,recording:!0},this.recordedShortcut=[],u.send("switchGlobalShortcutStatusTemporary","disable"))},handleShortcutKeydown(t){!1!==this.shortcutInput.recording&&(t.preventDefault(),this.recordedShortcut.find(e=>e.keyCode===t.keyCode)||(this.recordedShortcut.push(t),(t.keyCode>=65&&t.keyCode<=90||t.keyCode>=48&&t.keyCode<=57||t.keyCode>=112&&t.keyCode<=123||["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(t.key)||h.includes(t.key))&&this.saveShortcut()))},handleShortcutKeyup(t){this.recordedShortcut.find(e=>e.keyCode===t.keyCode)&&(this.recordedShortcut=this.recordedShortcut.filter(e=>e.keyCode!==t.keyCode))},saveShortcut(){const{id:t,type:e}=this.shortcutInput,i={id:t,type:e,shortcut:this.recordedShortcutComputed};this.$store.commit("updateShortcut",i),u.send("updateShortcut",i),this.showToast("快捷键已保存"),this.recordedShortcut=[]},exitRecordShortcut(){!1!==this.shortcutInput.recording&&(this.shortcutInput={id:"",type:"",recording:!1},this.recordedShortcut=[],u.send("switchGlobalShortcutStatusTemporary","enable"))},restoreDefaultShortcuts(){this.$store.commit("restoreDefaultShortcuts"),u.send("restoreDefaultShortcuts")}}}}).call(this,i("4362"))},db6e:function(t,e,i){"use strict";i("9ecd")},dd7b:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[i("div",{staticClass:"section-1"},[i("img",{attrs:{src:"/img/logos/yesplaymusic.png"}}),i("svg-icon",{attrs:{"icon-class":"x"}}),i("img",{attrs:{src:"/img/logos/netease-music.png"}})],1),i("div",{staticClass:"section-2"},[i("div",{staticClass:"card",on:{mouseover:function(e){t.activeCard=1},mouseleave:function(e){t.activeCard=0},click:function(e){return t.goTo("account")}}},[i("div",{staticClass:"container",class:{active:1===t.activeCard}},[i("div",{staticClass:"title-info"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("login.loginText")))]),i("div",{staticClass:"info"},[t._v(t._s(t.$t("login.accessToAll")))])]),i("svg-icon",{attrs:{"icon-class":"arrow-right"}})],1)]),i("div",{staticClass:"card",on:{mouseover:function(e){t.activeCard=2},mouseleave:function(e){t.activeCard=0},click:function(e){return t.goTo("username")}}},[i("div",{staticClass:"container",class:{active:2===t.activeCard}},[i("div",{staticClass:"title-info"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("login.search")))]),i("div",{staticClass:"info"},[t._v(t._s(t.$t("login.readonly")))])]),i("svg-icon",{attrs:{"icon-class":"arrow-right"}})],1)])])])},n=[],r=i("323e"),a=i.n(r),o=i("0032"),l={name:"Login",components:{SvgIcon:o["a"]},data(){return{activeCard:0}},created(){a.a.done()},methods:{goTo(t){this.$router.push({path:"/login/"+t})}}},c=l,u=(i("ef8d"),i("2877")),h=Object(u["a"])(c,s,n,!1,null,"47b2f8c2",null);e["default"]=h.exports},dd7e:function(t,e,i){const s=i("bbf0");function n(t){this.mode=s.NUMERIC,this.data=t.toString()}n.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(t){let e,i,s;for(e=0;e+3<=this.data.length;e+=3)i=this.data.substr(e,3),s=parseInt(i,10),t.put(s,10);const n=this.data.length-e;n>0&&(i=this.data.substr(e),s=parseInt(i,10),t.put(s,3*n+1))},t.exports=n},e36c:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"library"},[i("h1",[i("img",{staticClass:"avatar",attrs:{src:t._f("resizeImage")(t.data.user.avatarUrl),loading:"lazy"}}),t._v(t._s(t.data.user.nickname)+t._s(t.$t("library.sLibrary"))+" ")]),i("div",{staticClass:"section-one"},[i("div",{staticClass:"liked-songs",on:{click:t.goToLikedSongsList}},[i("div",{staticClass:"top"},[i("p",t._l(t.pickedLyric,(function(e,s){return i("span",{directives:[{name:"show",rawName:"v-show",value:""!==e,expression:"line !== ''"}],key:""+e+s},[t._v(t._s(e)),i("br")])})),0)]),i("div",{staticClass:"bottom"},[i("div",{staticClass:"titles"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("library.likedSongs")))]),i("div",{staticClass:"sub-title"},[t._v(" "+t._s(t.liked.songs.length)+" "+t._s(t.$t("common.songs"))+" ")])]),i("button",{on:{click:function(e){return e.stopPropagation(),t.openPlayModeTabMenu.apply(null,arguments)}}},[i("svg-icon",{attrs:{"icon-class":"play"}})],1)])]),i("div",{staticClass:"songs"},[i("TrackList",{attrs:{id:t.liked.playlists.length>0?t.liked.playlists[0].id:0,tracks:t.liked.songsWithDetails,"column-number":3,type:"tracklist","dbclick-track-func":"playPlaylistByID"}})],1)]),i("div",{staticClass:"section-two"},[i("div",{staticClass:"tabs-row"},[i("div",{staticClass:"tabs"},[i("div",{staticClass:"tab dropdown",class:{active:"playlists"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("playlists")}}},[i("span",{staticClass:"text"},[t._v(t._s({all:t.$t("contextMenu.allPlaylists"),mine:t.$t("contextMenu.minePlaylists"),liked:t.$t("contextMenu.likedPlaylists")}[t.playlistFilter]))]),i("span",{staticClass:"icon",on:{click:function(e){return e.stopPropagation(),t.openPlaylistTabMenu.apply(null,arguments)}}},[i("svg-icon",{attrs:{"icon-class":"dropdown"}})],1)]),i("div",{staticClass:"tab",class:{active:"albums"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("albums")}}},[t._v(" "+t._s(t.$t("library.albums"))+" ")]),i("div",{staticClass:"tab",class:{active:"artists"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("artists")}}},[t._v(" "+t._s(t.$t("library.artists"))+" ")]),i("div",{staticClass:"tab",class:{active:"mvs"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("mvs")}}},[t._v(" "+t._s(t.$t("library.mvs"))+" ")]),i("div",{staticClass:"tab",class:{active:"cloudDisk"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("cloudDisk")}}},[t._v(" "+t._s(t.$t("library.cloudDisk"))+" ")]),i("div",{staticClass:"tab",class:{active:"playHistory"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("playHistory")}}},[t._v(" "+t._s(t.$t("library.playHistory.title"))+" ")])]),i("button",{directives:[{name:"show",rawName:"v-show",value:"playlists"===t.currentTab,expression:"currentTab === 'playlists'"}],staticClass:"tab-button",on:{click:t.openAddPlaylistModal}},[i("svg-icon",{attrs:{"icon-class":"plus"}}),t._v(t._s(t.$t("library.newPlayList"))+" ")],1),i("button",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"===t.currentTab,expression:"currentTab === 'cloudDisk'"}],staticClass:"tab-button",on:{click:t.selectUploadFiles}},[i("svg-icon",{attrs:{"icon-class":"arrow-up-alt"}}),t._v(t._s(t.$t("library.uploadSongs"))+" ")],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:"playlists"===t.currentTab,expression:"currentTab === 'playlists'"}]},[t.liked.playlists.length>1?i("div",[i("CoverRow",{attrs:{items:t.filterPlaylists,type:"playlist","sub-text":"creator","show-play-button":!0}})],1):t._e()]),i("div",{directives:[{name:"show",rawName:"v-show",value:"albums"===t.currentTab,expression:"currentTab === 'albums'"}]},[i("CoverRow",{attrs:{items:t.liked.albums,type:"album","sub-text":"artist","show-play-button":!0}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:"artists"===t.currentTab,expression:"currentTab === 'artists'"}]},[i("CoverRow",{attrs:{items:t.liked.artists,type:"artist","show-play-button":!0}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:"mvs"===t.currentTab,expression:"currentTab === 'mvs'"}]},[i("MvRow",{attrs:{mvs:t.liked.mvs}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"===t.currentTab,expression:"currentTab === 'cloudDisk'"}]},[i("TrackList",{attrs:{id:-8,tracks:t.liked.cloudDisk,"column-number":3,type:"cloudDisk","dbclick-track-func":"playCloudDisk","extra-context-menu-item":["removeTrackFromCloudDisk"]}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:"playHistory"===t.currentTab,expression:"currentTab === 'playHistory'"}]},[i("button",{class:{"playHistory-button":!0,"playHistory-button--selected":"week"===t.playHistoryMode},on:{click:function(e){t.playHistoryMode="week"}}},[t._v(" "+t._s(t.$t("library.playHistory.week"))+" ")]),i("button",{class:{"playHistory-button":!0,"playHistory-button--selected":"all"===t.playHistoryMode},on:{click:function(e){t.playHistoryMode="all"}}},[t._v(" "+t._s(t.$t("library.playHistory.all"))+" ")]),i("TrackList",{attrs:{tracks:t.playHistoryList,"column-number":1,type:"tracklist"}})],1)]),i("input",{ref:"cloudDiskUploadInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.uploadSongToCloudDisk}}),i("ContextMenu",{ref:"playlistTabMenu"},[i("div",{staticClass:"item",on:{click:function(e){return t.changePlaylistFilter("all")}}},[t._v(t._s(t.$t("contextMenu.allPlaylists")))]),i("hr"),i("div",{staticClass:"item",on:{click:function(e){return t.changePlaylistFilter("mine")}}},[t._v(t._s(t.$t("contextMenu.minePlaylists")))]),i("div",{staticClass:"item",on:{click:function(e){return t.changePlaylistFilter("liked")}}},[t._v(t._s(t.$t("contextMenu.likedPlaylists")))])]),i("ContextMenu",{ref:"playModeTabMenu"},[i("div",{staticClass:"item",on:{click:t.playLikedSongs}},[t._v(t._s(t.$t("library.likedSongs")))]),i("hr"),i("div",{staticClass:"item",on:{click:t.playIntelligenceList}},[t._v(t._s(t.$t("contextMenu.cardiacMode")))])])],1)},n=[],r=(i("caad"),i("2f62")),a=i("cf45"),o=i("5f87"),l=i("c24f"),c=i("fefb"),u=i("323e"),h=i.n(u),d=i("fe07"),p=i("6825"),m=i("a1a1"),f=i("2726"),g=i("0032"),v=i("d4e3");function y(t){return t.split("]").pop().trim()}var b={name:"Library",components:{SvgIcon:g["a"],CoverRow:f["a"],TrackList:m["a"],MvRow:v["a"],ContextMenu:p["a"]},data(){return{show:!1,likedSongs:[],lyric:void 0,currentTab:"playlists",playHistoryMode:"week"}},computed:{...Object(r["d"])(["data","liked"]),pickedLyric(){const t=this.lyric;if(!t)return[];const e=t.split("\n").filter(t=>!t.includes("作词")&&!t.includes("作曲")),i=Math.min(e.length,3),s=e.length-i,n=Object(a["f"])(0,s-1);return e.slice(n,n+i).map(y)},playlistFilter(){return this.data.libraryPlaylistFilter||"all"},filterPlaylists(){const t=this.liked.playlists.slice(1),e=this.data.user.userId;return"mine"===this.playlistFilter?t.filter(t=>t.creator.userId===e):"liked"===this.playlistFilter?t.filter(t=>t.creator.userId!==e):t},playHistoryList(){return this.show&&"week"===this.playHistoryMode?this.liked.playHistory.weekData:this.show&&"all"===this.playHistoryMode?this.liked.playHistory.allData:[]}},created(){setTimeout(()=>{this.show||h.a.start()},1e3),this.loadData()},activated(){this.$parent.$refs.scrollbar.restorePosition(),this.loadData(),Object(a["c"])()},methods:{...Object(r["b"])(["showToast"]),...Object(r["c"])(["updateModal","updateData"]),loadData(){this.liked.songsWithDetails.length>0?(h.a.done(),this.show=!0,this.$store.dispatch("fetchLikedSongsWithDetails"),this.getRandomLyric()):this.$store.dispatch("fetchLikedSongsWithDetails").then(()=>{h.a.done(),this.show=!0,this.getRandomLyric()}),this.$store.dispatch("fetchLikedSongs"),this.$store.dispatch("fetchLikedPlaylist"),this.$store.dispatch("fetchLikedAlbums"),this.$store.dispatch("fetchLikedArtists"),this.$store.dispatch("fetchLikedMVs"),this.$store.dispatch("fetchCloudDisk"),this.$store.dispatch("fetchPlayHistory")},playLikedSongs(){this.$store.state.player.playPlaylistByID(this.liked.playlists[0].id,"first",!0)},playIntelligenceList(){this.$store.state.player.playIntelligenceListById(this.liked.playlists[0].id,"first",!0)},updateCurrentTab(t){Object(o["c"])()||"playlists"===t?(this.currentTab=t,this.$parent.$refs.main.scrollTo({top:375,behavior:"smooth"})):this.showToast(d["a"].t("toast.needToLogin"))},goToLikedSongsList(){this.$router.push({path:"/library/liked-songs"})},getRandomLyric(){0!==this.liked.songs.length&&Object(c["a"])(this.liked.songs[Object(a["f"])(0,this.liked.songs.length-1)]).then(t=>{if(void 0!==t.lrc){const e=t.lrc.lyric.split("\n").filter(t=>t.includes("纯音乐，请欣赏"));0===e.length&&(this.lyric=t.lrc.lyric)}})},openAddPlaylistModal(){Object(o["c"])()?this.updateModal({modalName:"newPlaylistModal",key:"show",value:!0}):this.showToast(d["a"].t("toast.needToLogin"))},openPlaylistTabMenu(t){this.$refs.playlistTabMenu.openMenu(t)},openPlayModeTabMenu(t){this.$refs.playModeTabMenu.openMenu(t)},changePlaylistFilter(t){this.updateData({key:"libraryPlaylistFilter",value:t}),window.scrollTo({top:375,behavior:"smooth"})},selectUploadFiles(){this.$refs.cloudDiskUploadInput.click()},uploadSongToCloudDisk(t){const e=t.target.files;Object(l["g"])(e[0]).then(t=>{if(200===t.code){let e=this.liked.cloudDisk;e.unshift(t.privateCloud),this.$store.commit("updateLikedXXX",{name:"cloudDisk",data:e})}})}}},w=b,k=(i("fe67"),i("2877")),_=Object(k["a"])(w,s,n,!1,null,"6a8ad968",null);e["default"]=_.exports},ebd0:function(t,e,i){},eeec:function(t,e,i){"use strict";i("37c1")},ef8d:function(t,e,i){"use strict";i("3835")},f1e5:function(t,e,i){},f2f1:function(t,e,i){},f351:function(t,e,i){"use strict";i("ff3e")},f7b6:function(t,e,i){},f7ca:function(t,e,i){var s=i("5615"),n=i("3ff1");function r(t){return s(n(t))}t.exports=r},fdc4:function(t,e,i){"use strict";i("dad8")},fe67:function(t,e,i){"use strict";i("f7b6")},ff3e:function(t,e,i){}}]);